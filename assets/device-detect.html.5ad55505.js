import{r as n,o as e,c as a,a as s,F as t,d as o,b as i}from"./app.09b8f80a.js";const r={},l=o('<h1 id="设备判断" tabindex="-1"><a class="header-anchor" href="#设备判断" aria-hidden="true">#</a> 设备判断</h1><p><code>npm install modernizr --save-dev</code></p><p>存在的问题，刚引入判断不出来，需要一定执行时间？</p><p>判断依据：</p><ul><li>ua 正则判断</li><li><code>&#39;ontouchstart&#39; in window</code></li></ul><p>如何判断是不是在chrome模拟器中？</p><h2 id="是否是手机设备" tabindex="-1"><a class="header-anchor" href="#是否是手机设备" aria-hidden="true">#</a> 是否是手机设备</h2><ol><li></li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isMobileDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> window<span class="token punctuation">.</span>orientation <span class="token operator">!==</span> <span class="token string">&#39;undefined&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;IEMobile&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>',9),p={href:"https://coderwall.com/p/i817wa/one-line-function-to-detect-mobile-devices-with-javascript",target:"_blank",rel:"noopener noreferrer"},c=i("One line function to detect mobile devices with JavaScript (Example)"),d=s("ol",{start:"2"},[s("li",null,"mobile-js")],-1),u=s("p",null,"两种方法都不完全准",-1),h=s("h2",{id:"数据收集",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#数据收集","aria-hidden":"true"},"#"),i(" 数据收集")],-1),k=s("p",null,[s("code",null,"navigator.deviceMemory"),i(" chrome only 63+")],-1),f=s("p",null,"有上下边界，保护用户隐私，0.25-8",-1),w=s("p",null,[s("code",null,"navigator.hardwareConcurrency"),i(" CPU 核心数")],-1),b={href:"https://trackjs.com/blog/monitoring-javascript-memory/",target:"_blank",rel:"noopener noreferrer"},v=i("监视JavaScript内存"),m=o('<h3 id="有效网络类型" tabindex="-1"><a class="header-anchor" href="#有效网络类型" aria-hidden="true">#</a> 有效网络类型</h3><p>4g &gt; 700kbps 可用于高清、实时视频，跟我们平时说的数值有差异</p><h2 id="设备单位" tabindex="-1"><a class="header-anchor" href="#设备单位" aria-hidden="true">#</a> 设备单位</h2><p>物理像素密度高的话，就会多于设备物理宽度</p><p>window.screen.availHeight 减掉任务栏 window.screen.availTop</p><h3 id="获取设备绝对宽度" tabindex="-1"><a class="header-anchor" href="#获取设备绝对宽度" aria-hidden="true">#</a> 获取设备绝对宽度</h3><ol><li>window.screen.width * window.devicePixelRatio</li></ol><p><code>devicePixelRatio = 物理像素 / CSS pixel</code> 会受页面 zoom 影响 如，zoom 110% <code>devicePixelRatio 1.100000023841858</code> 告诉浏览器多少个实际像素应当用来绘制一个 CSS 像素 最好只在移动端用</p><p>CSS pixel 即熟知的<code>px</code>，也叫逻辑像素</p><p>resolution pixel density</p><p>dpi 屏幕一般 72-96，打印会更大，与 dpcm、dppx 区别即计算单位差异，后边是厘米、像素</p>',11),g={start:"2"},x=i("设置了"),y=s("code",null,'<meta name="viewport" content="width=device-width"/>',-1),S=i("后，可考虑使用"),j=s("code",null,"window.innerWidth",-1),C={href:"https://stackoverflow.com/questions/8785643/what-exactly-is-device-pixel-ratio",target:"_blank",rel:"noopener noreferrer"},z=i("css - what exactly is device pixel ratio? - Stack Overflow"),H={href:"https://javascript.info/size-and-scroll",target:"_blank",rel:"noopener noreferrer"},P=i("Element size and scrolling"),W=i(" offsetParent 最近父元素 offsetWidth/Height 元素自身带上 border clientTop/Left "),O=s("code",null,"outer width - inner width",-1),_=i(" 相当于 border 宽度，可能包含滚动条 clientWidth/Height 带 padding，但不含滚动条 scrollWidth/Height 与clientWidth/Height 类似，但包括了滚出区域（看不到） scrollLeft/scrollTop 滚出区域，惟一可改值 不要用 CSS 获取宽高，有影响因素，不准或取不到");r.render=function(o,i){const r=n("OutboundLink");return e(),a(t,null,[l,s("p",null,[s("a",p,[c,s(r)])]),d,u,h,k,f,w,s("p",null,[s("a",b,[v,s(r)])]),m,s("ol",g,[s("li",null,[x,y,S,j,s("a",C,[z,s(r)])])]),s("p",null,[s("a",H,[P,s(r)]),W,O,_])],64)};export default r;

import{d as s}from"./app.09b8f80a.js";const n={},a=s('<h1 id="babel-node-npm" tabindex="-1"><a class="header-anchor" href="#babel-node-npm" aria-hidden="true">#</a> Babel Node &amp;&amp; Npm</h1><ul><li>注意安装 babel-cli ，而非 babel</li><li>还有个 babel-preset-es2015</li><li>新建文件 .babelrc</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>{\n  &quot;presets&quot;: [&quot;babel-preset-es2015&quot;]\n}\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>命令行使用，导出 <code>$ ./node_modules/.bin/babel hello-babel.js &gt; hello-babel.es3.js</code></p></li><li><p>在node中加载</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ node\n<span class="token operator">&gt;</span> require<span class="token punctuation">(</span><span class="token string">&quot;babel-preset-es2015&quot;</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>查看require的文件指向</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&gt;</span> require.resolve<span class="token punctuation">(</span><span class="token string">&quot;babel-preset-es2015&quot;</span><span class="token punctuation">)</span>\n<span class="token string">&#39;node_modules/babel-preset-es2015/index.js&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><p>打印依赖树 $ npm ls</p></li><li><p>目录查找文件匹配</p></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">find</span> node_modules <span class="token operator">|</span> <span class="token function">grep</span> core-js/package.json\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><p>不要用 sudo</p></li><li><p>项目初始化 $ npm init --yes</p></li><li><p>NodeJS 不支持 import/export 语法</p></li></ul><h1 id="commonjs" tabindex="-1"><a class="header-anchor" href="#commonjs" aria-hidden="true">#</a> CommonJS</h1><p>require 加载模块，相当于ES6 import module.exports 导出模块，相当于ES6 export，注意后一个词为复数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// constants.js</span>\n<span class="token keyword">var</span> pi <span class="token operator">=</span> <span class="token number">3.14159</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token number">2.71828</span><span class="token punctuation">;</span>\n\n<span class="token keyword">var</span> secretAnswer <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  pi<span class="token operator">:</span> pi<span class="token punctuation">,</span>\n  e<span class="token operator">:</span> e<span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ node\n<span class="token operator">&gt;</span> require<span class="token punctuation">(</span><span class="token string">&quot;./constants&quot;</span><span class="token punctuation">)</span>    // 省略后缀\n<span class="token operator">&gt;</span> var pi <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;./constants&quot;</span><span class="token punctuation">)</span>.pi<span class="token punctuation">;</span>   // 指定加载\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>require 和 ES6 解构</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ babel-node\n<span class="token operator">&gt;</span> const <span class="token punctuation">{</span>pi,e<span class="token punctuation">}</span> <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&quot;./constants&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token operator">&gt;</span> console.log<span class="token punctuation">(</span><span class="token string">&quot;pie =&quot;</span>, pi + e<span class="token punctuation">)</span><span class="token punctuation">;</span>\npie <span class="token operator">=</span> <span class="token number">5.85987</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>ES6默认导出导入</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token number">42</span>\n<span class="token comment">// import-default.js</span>\n<span class="token keyword">import</span> <span class="token keyword">default</span> <span class="token keyword">from</span> <span class="token string">&quot;./constants.js&quot;</span><span class="token punctuation">;</span>   <span class="token comment">// 这里可以改名</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">default</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 42</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',18);n.render=function(s,n){return a};export default n;

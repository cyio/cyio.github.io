import{r as n,o as s,c as a,a as p,F as e,b as t,d as o}from"./app.0e74f851.js";const l={},c=p("ul",null,[p("li",null,[t("涉及微信授权、支付、分享，均可在微信开发者工具中验证 分享在 console 面板看到 "),p("code",null,'{errMsg: "config:ok"'),t("，就说明没问题")])],-1),i=p("p",null,"http://qydev.weixin.qq.com/wiki/index.php?title=%E9%A6%96%E9%A1%B5",-1),r=t("接口安全域名，一级二级，后面不需要，可以设置本地测试 IP 指定分享路径，也需要配置？ "),u=p("a",{href:"mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login"},"微信公众平台测试号",-1),k={href:"https://www.jianshu.com/p/9f9fa12dd08a",target:"_blank",rel:"noopener noreferrer"},d=t("微信 JS-SDK“分享信息设置”API 及数字签名生成方法 - 简书"),b=p("h2",{id:"axios-提交时用-formdata-形式",tabindex:"-1"},[p("a",{class:"header-anchor",href:"#axios-提交时用-formdata-形式","aria-hidden":"true"},"#"),t(" axios 提交时用 formdata 形式")],-1),m=t("当使用 vue-resource 或者 axios 请求后台数据时，vue-resource 和 axios 发送请求携带的数据默认以 request payload 的形式发送给后台，而一般我们使用的都是 form data 的形式。 "),f={href:"http://www.onlyued.com/archives/344",target:"_blank",rel:"noopener noreferrer"},g=t("VUE 开发中请求数据遇到的坑 – 前端小筑"),h={href:"https://segmentfault.com/q/1010000009860888",target:"_blank",rel:"noopener noreferrer"},x=t("vue.js - vue 中使用 axios 的配置 - SegmentFault 思否"),w=o('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  url<span class="token operator">:</span> window<span class="token punctuation">.</span>config<span class="token punctuation">.</span>api_url <span class="token operator">+</span> <span class="token string">&#39;/v1/default/weixinjs&#39;</span><span class="token punctuation">,</span>\n  headers<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>\n  data<span class="token operator">:</span> qs<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    url<span class="token operator">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span>\n  <span class="token function">appWeixin</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;我的本香日记·团圆饭&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;快来看我们家的团圆饭哦&#39;</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>用开发工具看，最下面会有<code>FORMDATA</code></p>',2),v=t("参考这个配置，把 axios 封装下再调用 "),q={href:"https://blog.ygxdxx.com/2017/01/29/Axios-Config/",target:"_blank",rel:"noopener noreferrer"},A=t("Axios 的配置 | Hope's Blog"),j=o('<h2 id="常见错误" tabindex="-1"><a class="header-anchor" href="#常见错误" aria-hidden="true">#</a> 常见错误</h2><ol><li><p>param is empty:jsApiList 中没有参数 注意：你需要使用的所有的 API 都需要已数组元素的形式写入该参数中</p></li><li><p>invalid url domain：无效的域名 注意：appid 和 appsecret 是否写正确，JS 接口安全域名是否正确</p></li><li><p>require subscribe 错误说明你没有订阅该测试号，该错误仅测试号会出现</p></li><li><p>桌面端先调试，后移动端</p></li><li><p>share config 中的 link，必须带有 http 协议，避免手写，用<code>location.orgin</code></p></li></ol>',2);l.render=function(t,o){const l=n("OutboundLink");return s(),a(e,null,[c,i,p("p",null,[r,u,p("a",k,[d,p(l)])]),b,p("p",null,[m,p("a",f,[g,p(l)]),p("a",h,[x,p(l)])]),w,p("p",null,[v,p("a",q,[A,p(l)])]),j],64)};export default l;

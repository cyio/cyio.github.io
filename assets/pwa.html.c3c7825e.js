import{r as e,o as a,c as n,a as s,F as r,d as o,b as t}from"./app.31fc93bc.js";const l={},p=o('<h1 id="pwa" tabindex="-1"><a class="header-anchor" href="#pwa" aria-hidden="true">#</a> PWA</h1><h2 id="可安装" tabindex="-1"><a class="header-anchor" href="#可安装" aria-hidden="true">#</a> 可安装</h2><p><code>manifest.json</code></p><h2 id="sw" tabindex="-1"><a class="header-anchor" href="#sw" aria-hidden="true">#</a> SW</h2><ul><li>需要缓存资源 <ul><li>应用核心 JS CSS</li><li>字体</li><li>图片</li><li>关键 HTTP 请求</li></ul></li></ul><h2 id="ios-12-支持情况" tabindex="-1"><a class="header-anchor" href="#ios-12-支持情况" aria-hidden="true">#</a> ios 12 支持情况</h2><p>still force reload every time app is shown/hidden now retain cookies after being reloaded (i.e. login possible) forget deep links support localStorage don&#39;t support sessionStorage</p><p>解决： Switched to localStorage instead of sessionStorage when &quot;standalone&quot; and persist a custom history stack to restore deep links</p>',8),i={href:"https://huangxuan.me/2017/07/12/upgrading-eleme-to-pwa/#%25E5%25A4%259A%25E9%25A1%25B5%25E5%25BA%2594%25E7%2594%25A8vuepwa",target:"_blank",rel:"noopener noreferrer"},c=t("饿了么的 PWA 升级实践 - 黄玄的博客 | Hux Blog"),u={href:"https://lavas.baidu.com/",target:"_blank",rel:"noopener noreferrer"},h=t("Lavas | 基于 Vue 的 PWA 完整解决方案"),d={href:"https://github.com/lavas-project",target:"_blank",rel:"noopener noreferrer"},b=t("Lavas"),g={href:"https://developers.google.com/web/updates/2018/05/beyond-spa",target:"_blank",rel:"noopener noreferrer"},f=t("Beyond SPAs: alternative architectures for your PWA  |  Web  |  Google Developers"),k=s("p",null,"Trusted Web Activity",-1),m={href:"https://ymedialabs.com/progressive-web-apps",target:"_blank",rel:"noopener noreferrer"},w=t("Why Progressive Web Apps Are The Future of Mobile Web [2019 Research]"),v=s("h2",{id:"与小程序区别",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#与小程序区别","aria-hidden":"true"},"#"),t(" 与小程序区别")],-1),A=s("p",null,"小、快、轻，应对原生应用弊端，让 web 具有应用能力 两个生态： 开放、封闭",-1),W=s("blockquote",null,[s("p",null,"传统的 HttpCache，让资源在缓存时性能会很好，而 PWA 是让资源非常可靠地缓存起来，让页面性能一直都很好。")],-1),S=s("h2",{id:"激活问题",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#激活问题","aria-hidden":"true"},"#"),t(" 激活问题")],-1),x=s("p",null,"默认、等待激活，需要等页面关闭，这么设计原因是渐近式",-1),y={href:"https://gomakethings.com/how-to-immediately-activate-a-service-worker-with-vanilla-js/",target:"_blank",rel:"noopener noreferrer"},P=t("How to immediately activate a service worker with vanilla JS | Go Make Things"),j={href:"https://stackoverflow.com/a/56569087/5657916",target:"_blank",rel:"noopener noreferrer"},_=t("vue.js - How to do skipwaiting with register-service-worker in vue app? - Stack Overflow"),H=o('<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// vue.config.js</span>\n    pwa<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token operator">...</span>\n        workboxPluginMode<span class="token operator">:</span> <span class="token string">&#39;GenerateSW&#39;</span><span class="token punctuation">,</span>\n        workboxOptions<span class="token operator">:</span> <span class="token punctuation">{</span>\n            skipWaiting<span class="token operator">:</span> <span class="token boolean">true</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div>',1),T={href:"https://allanchain.github.io/blog/post/vue-pwa-3/",target:"_blank",rel:"noopener noreferrer"},B=t("用 Vue 做 PWA （三）：理解生命周期 - AC Dustbin"),E={href:"https://www.360learntocode.com/2020/12/vuejs-pwa-notify-user-of-app-update.html",target:"_blank",rel:"noopener noreferrer"},q=t("VueJs PWA: Notify User about the App Update | skipWaiting ~ 360learntocode");l.render=function(o,t){const l=e("OutboundLink");return a(),n(r,null,[p,s("p",null,[s("a",i,[c,s(l)]),s("a",u,[h,s(l)]),s("a",d,[b,s(l)]),s("a",g,[f,s(l)])]),k,s("p",null,[s("a",m,[w,s(l)])]),v,A,W,S,x,s("p",null,[s("a",y,[P,s(l)]),s("a",j,[_,s(l)])]),H,s("p",null,[s("a",T,[B,s(l)]),s("a",E,[q,s(l)])])],64)};export default l;

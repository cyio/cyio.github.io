import{_ as a,r as e,o as p,c as t,a as n,b as o,F as c,e as l,d as r}from"./app.dd5e604d.js";const u={},i=l(`<h1 id="\u5355\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5355\u4F8B" aria-hidden="true">#</a> \u5355\u4F8B</h1><p>\u7279\u70B9\uFF1A\u4E00\u4E2A\u7C7B\u53EA\u6709\u4E00\u4E2A\u5B9E\u4F8B</p><p>\u5DE5\u5382\u6A21\u5F0F\uFF1A\u5728\u521B\u5EFA\u5BF9\u8C61\u65F6\u4E0D\u4F1A\u5BF9\u5BA2\u6237\u7AEF\u66B4\u9732\u521B\u5EFA\u903B\u8F91\uFF0C\u5E76\u4E14\u662F\u901A\u8FC7\u4F7F\u7528\u4E00\u4E2A\u5171\u540C\u7684\u63A5\u53E3\u6765\u6307\u5411\u65B0\u521B\u5EFA\u7684\u5BF9\u8C61\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> Singleton <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> instance<span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">CreateSingleton</span> <span class="token punctuation">{</span> <span class="token comment">// \u9700\u8981\u5B9A\u4E49\u5728\u5185\u90E8\uFF0C\u9632\u6B62\u610F\u5916\u8C03\u7528</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>instance<span class="token punctuation">)</span> <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
      <span class="token keyword">return</span> instance <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> CreateSingleton<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// IIFE\uFF0CCreateSingleton \u548C instance \u63D0\u524D\u751F\u6210\u3002\u5982\u679C\u4E0D\u7528 IIFE\uFF0Cnew \u65F6\u4F1A\u521B\u5EFA\u4E0D\u540C instance</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token string">&#39;instance1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(a.getName()); //\u8F93\u51FAinstance1</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token string">&#39;instance2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(b.getName()); //\u8F93\u51FAinstance1\uFF0C\u6CA1\u6709\u521B\u5EFA\u51FA\u65B0\u7684\u5B9E\u4F8B</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8F93\u51FAtrue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div>`,4),k={href:"https://segmentfault.com/a/1190000021101281",target:"_blank",rel:"noopener noreferrer"},m=r("JavaScript\u8BBE\u8BA1\u6A21\u5F0F\u7B2C1\u7BC7\uFF1A\u5355\u4F8B\u6A21\u5F0F_\u524D\u7AEF\u5B66\u4E60 - SegmentFault \u601D\u5426");function b(d,g){const s=e("ExternalLinkIcon");return p(),t(c,null,[i,n("p",null,[n("a",k,[m,o(s)])])],64)}var w=a(u,[["render",b],["__file","Singleton.html.vue"]]);export{w as default};

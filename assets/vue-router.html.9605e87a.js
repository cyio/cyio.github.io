import{_ as l,r as c,o as u,c as i,a as n,b as a,w as e,F as r,d as s,e as o}from"./app.a812d536.js";const k={},d=n("h1",{id:"vue-router",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vue-router","aria-hidden":"true"},"#"),s(" vue-router")],-1),h={class:"table-of-contents"},m=s("\u8DEF\u7531\u539F\u7406"),b=s("\u57FA\u7840"),g=s("\u6570\u636E\u83B7\u53D6\u65F6\u673A"),_=s("\u8DEF\u7531\u61D2\u52A0\u8F7D"),f=s("\u5982\u4F55\u6CE8\u5165 vue"),v=s("route \u548C router \u7684\u533A\u522B"),y=s("\u6E90\u7801"),x=n("h2",{id:"\u8DEF\u7531\u539F\u7406",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8DEF\u7531\u539F\u7406","aria-hidden":"true"},"#"),s(" \u8DEF\u7531\u539F\u7406")],-1),w=n("p",null,"hash / history",-1),q=n("p",null,"\u5DEE\u5F02\uFF1A",-1),j=n("ul",null,[n("li",null,"\u8868\u73B0\uFF1AURL \u663E\u793A\uFF0C\u6539\u53D8\u8303\u56F4\uFF0C\u5386\u53F2\u8BB0\u5F55\u663E\u793A"),n("li",null,"\u884C\u4E3A\uFF1A"),n("li",null,"\u539F\u7406\uFF1A[event] hashchange popstate"),n("li",null,"history \u5237\u65B0\u4F1A\u53D1\u8BF7\u6C42\uFF0C\u4F9D\u8D56 server \u652F\u6301"),n("li",null,"\u517C\u5BB9\u6027")],-1),V={href:"https://zhuanlan.zhihu.com/p/130995492",target:"_blank",rel:"noopener noreferrer"},$=s("\u6DF1\u5165\u7406\u89E3\u524D\u7AEF\u4E2D\u7684 hash \u548C history \u8DEF\u7531 - \u77E5\u4E4E"),C=n("h2",{id:"\u57FA\u7840",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u57FA\u7840","aria-hidden":"true"},"#"),s(" \u57FA\u7840")],-1),L=n("li",null,[n("p",null,"\u4E3A\u4EC0\u4E48\u4F18\u5148\u4F7F\u7528 router-link\uFF0C\u9996\u8981\u539F\u56E0\u662F\uFF0C\u5199\u4E00\u6B21\uFF0C\u517C\u5BB9 history \u548C hash \u6A21\u5F0F")],-1),R=n("li",null,[n("p",null,[s("\u8DF3\u8F6C\u5E38\u89C4\u7528\u6CD5 "),n("code",null,'router-link.left(tag="div" to="/rule")')])],-1),z=n("li",null,[n("p",null,[s("\u6A21\u677F\u4E2D\u8FD4\u56DE "),n("code",null,'.left(@click="$router.go(-1)")')])],-1),N=n("li",null,[n("p",null,[s("router \u975E\u53EF\u70B9\u51FB\u5143\u7D20\uFF0C\u6DFB\u52A0\u4E8B\u4EF6 "),n("code",null,'<router-link @mousedown.prevent.native="$router.push(...the path...)"></router-link>')])],-1),S=n("p",null,"history \u6A21\u5F0F\uFF0Cnginx \u9700\u8981\u7279\u6B8A\u914D\u7F6E\uFF0C\u5426\u5219\u7EBF\u4E0A\u8BBF\u95EE\u9996\u9875\u5916\u7684\u9875\u9762\u4F1A 404",-1),T={href:"https://gist.github.com/szarapka/05ba804dfd1c10ad47bf",target:"_blank",rel:"noopener noreferrer"},E=s("NGiNX Configuration for Vue-Router in HTML5 Mode \xB7 GitHub"),H=n("li",null,[n("p",null,"\u5BFC\u822A\u5B88\u536B\uFF0C\u5C31\u662F\u9875\u9762\u6743\u9650\u5904\u7406\uFF0C\u4F5C\u7528\u8303\u56F4\uFF1A\u5168\u5C40 > \u9875\u9762 > \u7EC4\u4EF6")],-1),B=o(`<p>\u5355\u72EC\u6253\u5305 lazy-load</p><div class="language-text ext-text"><pre class="language-text"><code>  {
    path: &#39;/&#39;,
    name: &#39;home&#39;,
    component: () =&gt; import(/* webpackChunkName: &quot;home&quot; */ &#39;./views/index/Home.vue&#39;),
  },
</code></pre></div><h2 id="\u6570\u636E\u83B7\u53D6\u65F6\u673A" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u83B7\u53D6\u65F6\u673A" aria-hidden="true">#</a> \u6570\u636E\u83B7\u53D6\u65F6\u673A</h2><p>\u6709\u4E24\u79CD\uFF0C\u5206\u9694\u70B9\u662F\u5BFC\u822A\u662F\u5426\u5B8C\u6210</p><ol><li>\u672A\u5B8C\u6210 <code>beforeRouteEnter (to, from, next)</code>\u4E2D\u7684<code>next</code>\u4E4B\u524D</li></ol><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token parameter">vm</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    vm<span class="token punctuation">.</span>post <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    vm<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>\u5DF2\u5B8C\u6210 <code>created</code>\u6216<code>beforeRouteEnter (to, from, next)</code>\u4E2D\u7684<code>next</code>\u91CC\u9762 \u4F7F\u7528\u540E\u8005\u7684\u60C5\u51B5\u662F\uFF0C\u6211\u4EEC\u9700\u8981\u7528\u5230<code>to from</code>\uFF0C\u6BD4\u5982\u6570\u636E\u83B7\u53D6\u9700\u8981\u53C2\u6570<code>to.params.id</code>\uFF0C\u9700\u8981\u77E5\u9053\u6765\u6E90\u9875\u9762 \u7136\u540E\u5728<code>next</code>\u4E2D\u4F7F\u7528<code>vm</code>\u6765\u4EE3\u8868\u5B9E\u4F8B</li></ol><ul><li><p>\u54CD\u5E94\u662F\u6307\uFF0C\u6539\u52A8\u6570\u636E\u5C31\u66F4\u65B0\u89C6\u56FE\u3002</p></li><li><p>data \u6570\u636E\u5C5E\u6027</p></li><li><p>\u5B9E\u4F8B\u5C5E\u6027\uFF0C\u8868\u8FBE\u65F6\u6BD4\u6570\u636E\u5C5E\u6027\u591A\u4E2A\u7F8E\u5143\u7B26\u53F7</p></li><li><p>slot \u63D2\u69FD\uFF0C\u8C03\u7528\u7EC4\u4EF6\u65F6\u4F9B\u63D2\u5165\u5185\u5BB9 \uFF0C\u6CA1\u6709\u63D2\u5165\u5185\u5BB9\u65F6\u4F9B\u56DE\u9000\u663E\u793A</p></li><li><p>\u7EC4\u4EF6\u5B9A\u4E49</p><div class="language-text ext-text"><pre class="language-text"><code>.modal-mask
  slot(name=&#39;body&#39;)
</code></pre></div><p>\u7EC4\u4EF6\u8C03\u7528</p><div class="language-text ext-text"><pre class="language-text"><code>  modal
    div(slot=&#39;body&#39;)
</code></pre></div></li><li><p>\u5B9E\u73B0\u7B80\u5355\u7684\u8DEF\u7531\uFF08\u9875\u9762\u5207\u6362\uFF09</p></li></ul><div class="language-html ext-html"><pre class="language-html"><code>// index.html
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currentView<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>`,9),O={href:"https://jsfiddle.net/coligo/mfxb9aeh/",target:"_blank",rel:"noopener noreferrer"},A=s("Dynamic Components in Vue.js - JSFiddle"),F=n("blockquote",null,[n("p",null,"\u5728 Vue \u5F53\u4E2D\uFF0C\u7EC4\u4EF6\u88AB\u5F53\u4F5C\u662F\u4E00\u7B49\u516C\u6C11\uFF0C\u6240\u4EE5\u8BBE\u8BA1\u548C\u5B8C\u6210\u4E00\u4E2A Web App \u4E4B\u524D\uFF0C\u6700\u597D\u5148\u6784\u601D\u597D\u5982\u4F55\u6784\u5EFA\u5404\u4E2A\u7EC4\u4EF6\uFF0C\u54EA\u4E9B\u7EC4\u4EF6\u9700\u8981\u88AB\u590D\u7528\u5230\uFF0C\u54EA\u4E9B\u9875\u9762\u662F\u8981\u5207\u6362\u7684\u3002 \u76EE\u5F55\uFF0Cviews \u9875\u9762\uFF0Ccomponents \u7EC4\u4EF6")],-1),G=n("ul",null,[n("li",null,"\u7EC4\u4EF6\u901A\u4FE1-\u901A\u4FD7")],-1),J=n("p",null,[n("img",{src:"https://img.oaker.bid/?url=http://ww2.sinaimg.cn/large/4e5d3ea7jw1f2lxrgfi2lj20gj0p042z.jpg",alt:"img\u7EC4\u4EF6\u901A\u4FE1-\u901A\u4FD7"})],-1),M={href:"http://gold.xitu.io/entry/55f77eb460b28e6a6f0f4f86",target:"_blank",rel:"noopener noreferrer"},P=s("\u7A00\u571F\u6398\u91D1\uFF1AVue \u7EC4\u4EF6\u5316\u5F00\u53D1\u5B9E\u8DF5"),D={href:"https://github.com/Justineo/vue-octicon",target:"_blank",rel:"noopener noreferrer"},I=s("Justineo/vue-octicon: Octicon component for Vue.js, using inline SVG."),U=o(`<ul><li><p>\u5C40\u90E8 CSS</p><blockquote><p>Vue \u6587\u4EF6\u683C\u5F0F\u53EF\u4EE5\u652F\u6301\u5C40\u90E8 CSS\uFF0C\u53EA\u8981\u5728<code>&lt;style&gt;</code>\u6807\u7B7E\u4E0A\u52A0\u4E0A\u4E00\u4E2A scoped \u5C5E\u6027 \u907F\u514D\u4F7F\u7528\uFF0C\u4F1A\u5E26\u6765\u4E0D\u5FC5\u8981\u7684\u9EBB\u70E6\uFF0C\u8BF7\u624B\u52A8\u4F7F\u7528\u547D\u540D\u7A7A\u95F4\u89E3\u51B3</p></blockquote></li><li><p><s>\u6D3E\u53D1\u4E8B\u4EF6<code>$dispatch</code></s></p><ol><li>\u5728\u5F53\u524D\u5B9E\u4F8B\u4E0A\u89E6\u53D1</li><li>\u5411\u4E0A\u5192\u6CE1\u89E6\u53D1\u4E00\u4E2A\u540E\u505C\u6B62\uFF0C\u9664\u975E\u8FD4\u56DE true</li><li>\u9644\u52A0\u53C2\u6570\u4F20\u7ED9\u56DE\u8C03</li></ol></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">parent</span><span class="token operator">:</span> parent <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">parent</span><span class="token operator">:</span> child1 <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> child3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">parent</span><span class="token operator">:</span> child2 <span class="token punctuation">}</span><span class="token punctuation">)</span>

parent<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;parent notified&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
child1<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;child1 notified&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
child2<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;child2 notified&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
child3<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;child3 notified&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

child3<span class="token punctuation">.</span><span class="token function">$dispatch</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// -&gt; &quot;child3 notified&quot;</span>
<span class="token comment">// -&gt; &quot;child2 notified&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li><p><s>\u5E7F\u64AD\u4E8B\u4EF6<code>$broadcast</code></s></p><ol><li>\u5E7F\u64AD\u7ED9\u5168\u90E8\u540E\u4EE3</li><li>\u5404\u5206\u53C9\u4F20\u64AD\u65F6\uFF0C\u89E6\u53D1\u4E00\u4E2A\u540E\u5728\u5F53\u524D\u5206\u53C9\u505C\u6B62\uFF0C\u9664\u975E\u8FD4\u56DE true</li></ol></li><li><p>\u5207\u6362 view \u5BFC\u822A\u65F6\uFF0C\u5E94\u7528\u72B6\u6001\u7C7B \u5148\u5B9A\u4E49\u4E00\u4E2A\u5F53\u524D view \u7684\u53D8\u91CF \u5199\u4E00\u4E2A\u65B9\u6CD5\u6539\u53D8 view,\u652F\u6301\u4F20\u53C2 \u70B9\u51FB\u5BFC\u822A\u65F6\uFF0C\u8C03\u7528\u6539\u53D8 view \u7684\u65B9\u6CD5\uFF0C\u6307\u5B9A\u773A\u5230\u54EA\u4E2A view \u6700\u540E\u5C06\u8981\u5E94\u7528\u7684\u72B6\u6001\u7C7B\u4E0E\u5F53\u524D view \u53D8\u91CF\u540D\u7ED1\u5B9A\uFF0C \u5B9E\u73B0\u6548\u679C\u5C31\u662F\uFF0C\u4EC5\u5F53\u5F53\u524D view \u6FC0\u6D3B\u65F6\u5E94\u7528\u72B6\u6001\u7C7B\uFF0C\u5176\u5B83\u975E\u6FC0\u6D3B view \u7684\u7C7B\u4F1A\u88AB\u79FB\u9664</p></li><li><p>\u5207\u6362 view \u540E\uFF0C\u624B\u52A8\u5C06\u9875\u9762\u6EDA\u52A8\u5230\u9876\u90E8</p><p><code>window.scrollTo(0, 0) // \u8FD9\u4E2A\u65B9\u6CD5\u653E\u5230\u6539\u53D8\u89C6\u56FE\u7684\u65B9\u6CD5\u91CC</code></p></li><li><p>\u5411\u7EC4\u4EF6\u4F20\u9012\u6570\u636E prop event slot \u4E09\u79CD\u65B9\u5F0F</p></li></ul><div class="language-html ext-html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">:foo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>baz<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:bar</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>qux<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@event-a</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@event-b</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doThat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- content --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Hello!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>vuex \u72B6\u6001\u5171\u4EAB\uFF0C\u9875\u9762\u5C11\u65F6\u975E\u5FC5\u8981\uFF0C\u5927\u578B SPA \u5FC5\u7528</li><li>\u5982\u679C\u4E0D\u7528 vuex\uFF0C\u5982\u4F55\u5171\u4EAB\u72B6\u6001 <blockquote><p>\u628A\u8FD9\u4E2A\u72B6\u6001\u653E\u5230\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u5171\u540C\u7684\u7236\u7EC4\u4EF6\u4E2D\u7136\u540E\u901A\u8FC7 prop.sync \u6765\u540C\u6B65\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u7684\u8FD9\u4E2A\u72B6\u6001 \u5728\u8FD9\u4E24\u4E2A\u7EC4\u4EF6\u4E2D\u90FD\u653E\u7F6E\u8FD9\u4E2A\u72B6\u6001\u7136\u540E\u901A\u8FC7\u5171\u540C\u7236\u7EC4\u4EF6\u7684\u4E00\u4E2A prop \u6765\u5728\u7236\u7EC4\u4EF6\u4E2D\u8C03\u7528\u51FD\u6570\u6267\u884C\u4E00\u4E2A this.$dispatch \u901A\u77E5\u5B50\u7EC4\u4EF6\u8FD9\u4E2A\u72B6\u6001\u6709\u6539\u52A8\uFF0C\u501F\u6B64\u6765\u540C\u6B65\u5404\u4E2A\u7EC4\u4EF6\u4E2D\u7684\u8FD9\u4E2A\u72B6\u6001\u3002</p></blockquote></li><li>\u7528\u4E8B\u4EF6\u901A\u77E5 prop \u66F4\u65B0</li><li>\u4F7F\u7528 UMD \u98CE\u683C\uFF0C\u5B9E\u73B0\u66F4\u591A\u652F\u6301<div class="language-text ext-text"><pre class="language-text"><code>output: {
  library: &#39;ComponentName&#39;,
  libraryTarget: &#39;umd&#39;
}
</code></pre></div></li></ul><h2 id="\u8DEF\u7531\u61D2\u52A0\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u8DEF\u7531\u61D2\u52A0\u8F7D" aria-hidden="true">#</a> \u8DEF\u7531\u61D2\u52A0\u8F7D</h2><p>Vue \u5F02\u6B65\u7EC4\u4EF6\uFF0C\u5DE5\u5382\u51FD\u6570 \u6E32\u67D3\u65F6\u624D\u89E6\u53D1</p><p>\u4EE3\u7801\u5206\u5272</p><div class="language-text ext-text"><pre class="language-text"><code>
</code></pre></div>`,9),W={href:"https://juejin.cn/post/6844904169954869262",target:"_blank",rel:"noopener noreferrer"},X=s("vue-router\u539F\u7406\u53CA\u5176\u6838\u5FC3\u529F\u80FD\u5B9E\u73B0"),K=n("h2",{id:"\u5982\u4F55\u6CE8\u5165-vue",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5982\u4F55\u6CE8\u5165-vue","aria-hidden":"true"},"#"),s(" \u5982\u4F55\u6CE8\u5165 vue")],-1),Q=n("h2",{id:"route-\u548C-router-\u7684\u533A\u522B",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#route-\u548C-router-\u7684\u533A\u522B","aria-hidden":"true"},"#"),s(" route \u548C router \u7684\u533A\u522B")],-1),Y=n("p",null,"route \u662F\u4FE1\u606F\uFF0Crouter \u662F\u5B9E\u4F8B\uFF08\u63D0\u4F9B\u65B9\u6CD5\uFF09",-1),Z={href:"https://blog.51cto.com/u_14627797/5429177",target:"_blank",rel:"noopener noreferrer"},nn=s("2022\u524D\u7AEF\u9762\u8BD5\u7CFB\u5217\u2014\u2014Vue\u9762\u8BD5\u9898_51CTO\u535A\u5BA2_\u524D\u7AEF\u9762\u8BD5\u98982022vue"),sn=n("h2",{id:"\u6E90\u7801",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6E90\u7801","aria-hidden":"true"},"#"),s(" \u6E90\u7801")],-1),an=n("p",null,"https://github.dev/vuejs/vue-router \u5173\u952E\u4EE3\u7801\uFF1Ainstall.js router.js",-1),tn=n("p",null,"\u5728\u8DEF\u5F84\u53D8\u5316\u65F6\u4FEE\u6539\u54CD\u5E94\u5F0F\u6570\u636E\u7684\u503C\u89E6\u53D1\u9875\u9762\u91CD\u65B0\u6E32\u67D3",-1),pn={href:"https://zhuanlan.zhihu.com/p/453957632",target:"_blank",rel:"noopener noreferrer"},en=s("\u8D85\u71C3\uFF5C\u4ECE0\u52301\u624B\u628A\u624B\u5E26\u4F60\u5B9E\u73B0\u4E00\u6B3EVue-Router - \u77E5\u4E4E"),on=o(`<p>\u5728 mixin - beforeCreate \u4E2D\uFF0C\u6267\u884C init</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>        <span class="token comment">// \u5F53\u6839\u7EC4\u4EF6\u6302\u8F7D _router \u65F6\u5019 \u6211\u4EEC\u5728\u6839\u7EC4\u4EF6\u4E0A\u5B9A\u4E49\u4E86\u4E00\u4E2A_route\u54CD\u5E94\u5F0F\u5C5E\u6027 \u521D\u59CB\u503C\u4E3A this._router.history.current</span>
        Vue<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;_route&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_router<span class="token punctuation">.</span>history<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>init \u65B9\u6CD5\u6838\u5FC3\u903B\u8F91</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">// \u5B9A\u4E49\u521D\u59CB\u5316\u8DEF\u7531\u65B9\u6CD5</span>
  <span class="token comment">// init\u65B9\u6CD5\u4F1A\u63A5\u53D7 \u6839\u7EC4\u4EF6\u5B9E\u4F8B</span>
  <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>app <span class="token operator">=</span> app<span class="token punctuation">;</span>
    <span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>history<span class="token punctuation">;</span>

    <span class="token comment">// \u8DEF\u7531\u53D8\u5316\u76D1\u542C\u51FD\u6570</span>
    <span class="token keyword">const</span> <span class="token function-variable function">setupListeners</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      history<span class="token punctuation">.</span><span class="token function">setupListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// \u521D\u59CB\u5316\u65F6 \u9996\u5148\u6839\u636E\u5F53\u524D\u9875\u9762\u8DEF\u5F84\u6E32\u67D3\u4E00\u6B21\u9875\u9762</span>
    history<span class="token punctuation">.</span><span class="token function">transitionTo</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span><span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> setupListeners<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u989D\u5916\u5B9A\u4E49history.listen\u65B9\u6CD5 \u4F20\u5165\u4E00\u4E2Acallback</span>
    <span class="token comment">// \u5728\u6BCF\u6B21BaseHistory\u4E2D\u7684current\u5C5E\u6027\u6539\u53D8\u65F6 \u4F20\u5165\u6700\u65B0\u7684\u503C \u4ECE\u800C\u66F4\u65B0 app._route</span>
    <span class="token comment">// _route \u53D8\u5316\u89E6\u53D1\u7EC4\u4EF6\u91CD\u65B0\u6E32\u67D3\uFF1F</span>
    history<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span>_route <span class="token operator">=</span> route<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
   
   <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>\u8BBF\u95EE alias</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">Vue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">//...</span>
   
  <span class="token comment">// \u5B9A\u4E49\u539F\u578B$router\u5BF9\u8C61</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;$router&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_rootRouter<span class="token punctuation">.</span>_router<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// \u5B9A\u4E49\u539F\u578B$route\u5BF9\u8C61</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&#39;$route&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_rootRouter<span class="token punctuation">.</span>_route<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5728 App \u5165\u53E3\u4E0B\uFF0Cquery \u4E0D\u4E00\u5B9A\u80FD\u53D6\u5230\uFF0Clocation \u53EF\u4EE5</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">const</span> <span class="token punctuation">{</span> embed <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>query
	
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>embed<span class="token punctuation">,</span> <span class="token string">&#39;log&#39;</span><span class="token punctuation">,</span> location<span class="token punctuation">.</span>search<span class="token punctuation">)</span>
</code></pre></div>`,8);function cn(ln,un){const p=c("RouterLink"),t=c("ExternalLinkIcon");return u(),i(r,null,[d,n("nav",h,[n("ul",null,[n("li",null,[a(p,{to:"#\u8DEF\u7531\u539F\u7406"},{default:e(()=>[m]),_:1})]),n("li",null,[a(p,{to:"#\u57FA\u7840"},{default:e(()=>[b]),_:1})]),n("li",null,[a(p,{to:"#\u6570\u636E\u83B7\u53D6\u65F6\u673A"},{default:e(()=>[g]),_:1})]),n("li",null,[a(p,{to:"#\u8DEF\u7531\u61D2\u52A0\u8F7D"},{default:e(()=>[_]),_:1})]),n("li",null,[a(p,{to:"#\u5982\u4F55\u6CE8\u5165-vue"},{default:e(()=>[f]),_:1})]),n("li",null,[a(p,{to:"#route-\u548C-router-\u7684\u533A\u522B"},{default:e(()=>[v]),_:1})]),n("li",null,[a(p,{to:"#\u6E90\u7801"},{default:e(()=>[y]),_:1})])])]),x,w,q,j,n("p",null,[n("a",V,[$,a(t)])]),C,n("ul",null,[L,R,z,N,n("li",null,[S,n("p",null,[n("a",T,[E,a(t)])])]),H]),B,n("p",null,[n("a",O,[A,a(t)])]),F,G,J,n("p",null,[n("a",M,[P,a(t)])]),n("p",null,[n("a",D,[I,a(t)])]),U,n("p",null,[n("a",W,[X,a(t)])]),K,Q,Y,n("p",null,[n("a",Z,[nn,a(t)])]),sn,an,tn,n("p",null,[n("a",pn,[en,a(t)])]),on],64)}var kn=l(k,[["render",cn],["__file","vue-router.html.vue"]]);export{kn as default};

import{r as e,o as a,c as r,a as i,F as d,d as s,b as n}from"./app.0e74f851.js";const o={},t=s('<h1 id="vuepress-从-1-x-升级到-2-x" tabindex="-1"><a class="header-anchor" href="#vuepress-从-1-x-升级到-2-x" aria-hidden="true">#</a> VuePress 从 1.x 升级到 2.x</h1><h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h2><p>vuepress 1.x 使用 webpack 和旧的模块系统，需要全量编译，随着 markdown 文件增多，耗时变长，体验下降。对于静心只是写一些笔记来说，难以忍受，因此，我平时都不开 dev 服务，改用编辑器的预览插件。</p><p>vite 采用 ES6 module，浏览器原生支持，实现无刷更新。</p><p>有两个升级选择，一是迁到 vitepress，二是升级到 2.x。前者功能相对少，尝试后放弃。</p><h2 id="升级问题" tabindex="-1"><a class="header-anchor" href="#升级问题" aria-hidden="true">#</a> 升级问题</h2><ul><li>配置不兼容</li></ul><p>需要根据 2.x 文档，进行调整，主要变化涉及 sidebar、navbar，插件注册</p><ul><li>md 元素标签处理错误</li></ul><p>元素标签<code>&lt;hi /&gt;</code>出现在标题和链接里，也会被解析为 Vue 组件，导致出错。</p><ul><li>不支持获取<code>$site.posts</code>，原自定义实现的 blog 功能无法使用</li></ul>',11),h=n("升级变更见代码 "),l={href:"https://github.com/cyio/cyio.github.io/commit/e3b2320f369324bd87b3aae45e7b19385b439653#diff-52eb86351480925d61947a58caca1ea76d10950ec26533f16f37cb12a3519dff",target:"_blank",rel:"noopener noreferrer"},c=n("Merge branch 'migrate-v2' into dev · cyio/cyio.github.io@e3b2320"),u=i("h2",{id:"感受",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#感受","aria-hidden":"true"},"#"),n(" 感受")],-1),p=i("p",null,"优点：无刷更新，值得升级",-1),b=i("p",null,"缺点：首次启动开发服务、慢了很多",-1);o.render=function(s,n){const o=e("OutboundLink");return a(),r(d,null,[t,i("p",null,[h,i("a",l,[c,i(o)])]),u,p,b],64)};export default o;

import{r as n,o as s,c as a,a as t,F as p,b as e,d as o}from"./app.0e74f851.js";const l={},c=t("p",null,"描述：",-1),i=t("blockquote",null,[t("p",null,"if you're using a fixed navbar or using inputs within a modal, iOS has a rendering bug that doesn't update the position of fixed elements when the virtual keyboard is triggered 如果你在固定定位的顶栏或模态框中使用输入框，iOS有个渲染bug，即当软键盘弹出时不更新固定定位元素的位置")],-1),u={href:"http://getbootstrap.com/getting-started/#support-fixed-position-keyboards",target:"_blank",rel:"noopener noreferrer"},r=e("Getting started · Bootstrap"),k={href:"http://efe.baidu.com/blog/mobile-fixed-layout/",target:"_blank",rel:"noopener noreferrer"},d=e("Web移动端Fixed布局的解决方案 | EFE Tech"),b=t("p",null,"解决：限制滚动范围，避免fixed元素受影响",-1),g=t("p",null,"副作用较多：",-1),f=t("ul",null,[t("li",null,"整体页面可拖动"),t("li",null,"滚动偶尔会卡动")],-1),m=e("比较清晰的解决: "),h={href:"http://www.jianshu.com/p/4ac46d2b0f41",target:"_blank",rel:"noopener noreferrer"},w=e("IOS fixed input focus bug - 简书"),y=o('<p>最好建立独立的测试环境，进行隔离实验，准确定位重现并修复问题 棘手bug往往产生于复杂环境，时间耗费在定位问题，当务之急是建立隔离环境</p><p>手动修改position，实验性代码</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token comment">// alert(e)</span>\n    <span class="token keyword">var</span> ele <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&#39;header_bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n    <span class="token keyword">let</span> pos <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>position\n    pos <span class="token operator">===</span> <span class="token string">&#39;fixed&#39;</span> <span class="token operator">?</span> ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;absolute&#39;</span> <span class="token operator">:</span> ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;fixed&#39;</span>\n    console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token string">&#39;header_bar position is:&#39;</span><span class="token punctuation">,</span> ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ios上键盘 弹起/收回 不会触发window.resize事件; android 4.4 以下, 键盘唤起时, 不仅会触发resize, 而且会触发scroll事件; (如果有需要滑动失去焦点这个需求, 选择touchMove, 不要选择scroll) ios之所以会遮挡输入框, 是因为, 第三方输入法的tool bar 或者 键盘也被当做可视区域了(包含在键盘弹出时的window.innerHeight)</p>',4);l.render=function(e,o){const l=n("OutboundLink");return s(),a(p,null,[c,i,t("p",null,[t("a",u,[r,t(l)]),t("a",k,[d,t(l)])]),b,g,f,t("p",null,[m,t("a",h,[w,t(l)])]),y],64)};export default l;

import{_ as l,r as s,o as d,c as h,a as e,b as o,w as n,F as c,d as t,e as a}from"./app.98d9de05.js";const p={},_=e("h1",{id:"\u4E2D\u95F4\u4EF6\u8BBE\u8BA1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u4E2D\u95F4\u4EF6\u8BBE\u8BA1","aria-hidden":"true"},"#"),t(" \u4E2D\u95F4\u4EF6\u8BBE\u8BA1")],-1),u={class:"table-of-contents"},f=t("\u6982\u5FF5"),m=t("\u597D\u5904"),b=t("\u4E0E helper \u533A\u522B"),g=t("\u5F0A\u7AEF\uFF1A"),w=t("\u524D\u7AEF\u5982\u4F55\u6B63\u786E\u4F7F\u7528\u4E2D\u95F4\u4EF6\uFF1F"),x=t("\u5BA2\u6237\u7AEF\u5E94\u7528"),k=t("\u5E94\u7528\u573A\u666F"),y=a('<h2 id="\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u6982\u5FF5" aria-hidden="true">#</a> \u6982\u5FF5</h2><p>\u6D0B\u8471\u6A21\u578B\uFF1A\uFF08\u5148\u4ECE\u76AE\u5230\u5FC3\uFF0C\u518D\u4ECE\u5FC3\u5230\u76AE\uFF09\u628A\u4EE3\u7801\u6D41\u7A0B\u5316\uFF0C\u8BA9\u6D41\u6C34\u7EBF\u66F4\u52A0\u6E05\u695A\uFF0C\u4E14\u6BCF\u4E00\u4E2A\u4E2D\u95F4\u4EF6\u90FD\u6709\u4E24\u6B21\u5904\u7406\u65F6\u673A</p><p>\u6BCF\u4E00\u4E2A\u5207\u9762\u662F\u4E00\u4E2A\u4E2D\u95F4\u4EF6</p><p>\u4E00\u822C\u7528\u5728\u6570\u636E\u8BF7\u6C42\u6D41\u7A0B\u4E2D\u95F4</p><p>https://segmentfault.com/a/1190000023684453</p><h2 id="\u597D\u5904" tabindex="-1"><a class="header-anchor" href="#\u597D\u5904" aria-hidden="true">#</a> \u597D\u5904</h2><blockquote><p>The best feature of middleware is that it&#39;s composable in a chain. You can use multiple independent third-party middleware in a single project.</p></blockquote><p>\u53EF\u7EC4\u5408\u6027\u3001\u62D3\u5C55\u6027</p><p>\u5355\u4E2A\u4E2D\u95F4\u4EF6\u5E94\u8BE5\u8DB3\u591F\u7B80\u5355\uFF0C\u804C\u8D23\u5355\u4E00</p><h2 id="\u4E0E-helper-\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#\u4E0E-helper-\u533A\u522B" aria-hidden="true">#</a> \u4E0E helper \u533A\u522B</h2><blockquote><p>ExpressJS is based on a pattern in which an incoming request is examined and possibly modified by a series of &quot;middleware&quot; objects. Every single enabled middleware receives every single incoming request. Sometimes they ignore the request, sometimes they add information to it for subsequent middleware objects, and sometimes they perform discreet actions like logging. Often they perform security functions such as checking where the incoming request is going and killing it if the user isn&#39;t sufficiently authorized.</p></blockquote><blockquote><p>A helper function often has nothing specifically to do with ExpressJS - it&#39;s just a function that exists to provide a place for common operations performed by otherwise unrelated objects to exist, to avoid these unrelated objects repeatedly re-implementing the same code.</p></blockquote>',12),j={href:"https://www.reddit.com/r/node/comments/wgnyb8/difference_between_middlewares_and_helpers/",target:"_blank",rel:"noopener noreferrer"},q=t("Difference between middlewares and helpers? : node"),v=a('<h2 id="\u5F0A\u7AEF" tabindex="-1"><a class="header-anchor" href="#\u5F0A\u7AEF" aria-hidden="true">#</a> \u5F0A\u7AEF\uFF1A</h2><ul><li>API \u96BE\u7406\u89E3\uFF0C\u9700\u8981\u7406\u89E3\u4E2D\u4EF6\u95F4\u8FD0\u4F5C\u673A\u5236\u548C\u5176\u4ED6\u4E2D\u95F4\u4EF6</li><li>\u95EE\u9898\u6392\u67E5\u96BE\u5EA6\u4E0A\u5347\uFF0C\u4E0D\u540C\u4E2D\u95F4\u4EF6\u4E92\u76F8\u5F71\u54CD</li></ul><p>\u89E3\u51B3\uFF1A \u7C7B\u4F3C egg \u628A\u4E1A\u52A1\u903B\u8F91\u505A\u6210 controller\uFF0C\u80CC\u540E\u662F koa \u4E2D\u4EF6\u95F4\uFF0CAPI \u7F8E\u5316</p><h2 id="\u524D\u7AEF\u5982\u4F55\u6B63\u786E\u4F7F\u7528\u4E2D\u95F4\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u524D\u7AEF\u5982\u4F55\u6B63\u786E\u4F7F\u7528\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a> \u524D\u7AEF\u5982\u4F55\u6B63\u786E\u4F7F\u7528\u4E2D\u95F4\u4EF6\uFF1F</h2><p>\u6BCF\u4E2A\u4E2D\u95F4\u4EF6\u53EF\u4EE5\u5B9E\u73B0\uFF1A</p><ol><li>\u5B9E\u73B0\u72EC\u7ACB\u7684\u67D0\u4E2A\u903B\u8F91</li><li>\u63A7\u5236\u540E\u7EED\u7684\u6D41\u7A0B\u662F\u5426\u6267\u884C\uFF08\u6743\u9650\u3001\u8DEF\u7531\u62E6\u622A\u3001\u6761\u4EF6\u8BF7\u6C42\uFF09</li><li>\u4E2D\u95F4\u4EF6\u524D\u7F6E\u3001\u6216\u540E\u7F6E\u903B\u8F91</li></ol><h2 id="\u5BA2\u6237\u7AEF\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#\u5BA2\u6237\u7AEF\u5E94\u7528" aria-hidden="true">#</a> \u5BA2\u6237\u7AEF\u5E94\u7528</h2><ul><li>\u4E2D\u95F4\u4EF6\u4E0A\u4E0B\u6587\u4E0D\u660E\u786E</li><li>\u4E2D\u95F4\u4EF6\u64CD\u4F5C\u5176\u5B83\u6570\u636E</li><li>\u770B\u6210\u670D\u52A1\u5C42</li><li>\u4E2D\u95F4\u4EF6\u548C\u4E0B\u6E38\u4F7F\u7528\u8005\uFF0C\u662F\u4E00\u62E8\u4EBA\u8FD8\u662F\u4E24\u62E8\u4EBA</li></ul><p>\u201C\u4E2D\u95F4\u4EF6\u7684\u8FD9\u79CD\u6A21\u5F0F\uFF0C\u5E94\u8BE5\u4F5C\u4E3A\u67D0\u4E2A\u51FD\u6570\u7684\u88C5\u9970\u8005\u6A21\u5F0F\u6765\u4F7F\u7528\u201D</p>',9),E={href:"https://vue3js.cn/interview/NodeJS/middleware.html",target:"_blank",rel:"noopener noreferrer"},B=t("\u9762\u8BD5\u5B98\uFF1A\u8BF4\u8BF4\u5BF9\u4E2D\u95F4\u4EF6\u6982\u5FF5\u7684\u7406\u89E3\uFF0C\u5982\u4F55\u5C01\u88C5 node \u4E2D\u95F4\u4EF6\uFF1F | web\u524D\u7AEF\u9762\u8BD5 - \u9762\u8BD5\u5B98\u7CFB\u5217"),A=e("p",null,"\u903B\u8F91\u590D\u7528\u3001\u8981\u7EC4\u5408\u6027\uFF0C\u901A\u8FC7\u5C06\u516C\u5171\u903B\u8F91\u7684\u5904\u7406\u7F16\u5199\u5728\u4E2D\u95F4\u4EF6\u4E2D\uFF0C\u53EF\u4EE5\u4E0D\u7528\u5728\u6BCF\u4E00\u4E2A\u63A5\u53E3\u56DE\u8C03\u4E2D\u505A\u76F8\u540C\u7684\u4EE3\u7801\u7F16\u5199\uFF0C\u51CF\u5C11\u4E86\u5197\u6742\u4EE3\u7801",-1),N=e("p",null,"request -> middleware -> response middleware \u89E3\u6790\u3001\u9274\u6743\u3001\u9519\u8BEF \u4E2D\u95F4\u4EF6\u662F\u4ECE http \u8BF7\u6C42\u5F00\u59CB\u5230\u54CD\u5E94\u7ED3\u675F\u8FC7\u7A0B\u4E2D\u7684\u5904\u7406\u903B\u8F91\uFF0C\u901A\u5E38\u9700\u8981\u5BF9\u8BF7\u6C42\u548C\u54CD\u5E94\u8FDB\u884C\u5904\u7406",-1),P=e("p",null,"\u4E00\u822C\u7528\u5728\u63A5\u53E3\u8BF7\u6C42\u8FC7\u7A0B\uFF0CHTTP \u65E0\u72B6\u6001\uFF0C\u6BD4\u8F83\u7B80\u5355\u3002\u800C\u524D\u7AEF\u4E1A\u52A1\uFF0C\u6570\u636E\u5B58\u5728\u4EA4\u53C9\u7EF4\u62A4",-1),S={href:"https://eggjs.github.io/zh/guide/middleware.html#%25E8%25B7%25AF%25E7%2594%25B1%25E4%25B8%25AD%25E9%2597%25B4%25E4%25BB%25B6",target:"_blank",rel:"noopener noreferrer"},I=t("Middleware | Egg"),L=t(" https://oychao.github.io/2019/04/08/javascript/38_middleware_pattern/"),T={href:"https://oychao.github.io/2019/04/08/javascript/38_middleware_pattern/",target:"_blank",rel:"noopener noreferrer"},V=t("\u4E2D\u95F4\u4EF6\u6A21\u5F0F\u5728\u524D\u7AEF\u6846\u67B6\u4E2D\u7684\u5E94\u7528 | \u4F20\u4E0D\u4E60\u4E4E"),F={href:"https://juejin.cn/post/7110855173789990942",target:"_blank",rel:"noopener noreferrer"},J=t("\u4F18\u5316\u5B9E\u6218 \u7B2C35\u671F - \u4F18\u79C0\u6E90\u7801\u4E4B\u4E2D\u95F4\u4EF6\u8BBE\u8BA1\u601D\u60F3 - \u6398\u91D1"),z=a('<p>\u4E24\u6B21\u5904\u7406\u65F6\u673A\u5206\u754C\u70B9\uFF0C<code>yield next</code></p><p>eggjs \u63D2\u4EF6\u548C\u4E2D\u95F4\u4EF6\u7684\u533A\u522B\u662F\uFF0C\u4E2D\u95F4\u4EF6\u4E00\u5B9A\u662F\u5904\u7406\u8BF7\u6C42\u76F8\u5173\u4E0A\u4E0B\u6587\u7684\uFF0C\u4F46\u662F\u63D2\u4EF6\u4E0D\u4E00\u5B9A</p><h2 id="\u5E94\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a> \u5E94\u7528\u573A\u666F</h2><p>\u5206\u4E3A\uFF1A</p><ol><li>\u670D\u52A1\u7AEF\u6846\u67B6\uFF1Aexpress/koa</li><li>\u524D\u7AEF\u5E93\uFF1A\u6570\u636E\u7BA1\u7406(redux)\u3001\u6570\u636E\u8BF7\u6C42(axios \u63D2\u4EF6)</li></ol><p>Koa \u8BF7\u6C42\u52A0 header\uFF0Ctoken \u6821\u9A8C\uFF0C\u65E5\u5FD7\uFF0C\u5F02\u5E38\u5904\u7406\uFF0C\u538B\u7F29\uFF0Cbody \u89E3\u6790</p><p>Koa \u7684\u4E2D\u95F4\u4EF6\u6808\u4EE5\u7C7B\u4F3C\u6808\u7684\u65B9\u5F0F\u6D41\u52A8\uFF0C\u5141\u8BB8\u60A8\u5728\u4E0B\u6E38\u6267\u884C\u64CD\u4F5C\uFF0C\u7136\u540E\u8FC7\u6EE4\u548C\u64CD\u4F5C\u4E0A\u6E38\u54CD\u5E94\u3002</p><p>express \u4E0D\u652F\u6301 async/await</p><p>redux \u6570\u636E\u6D41\u6DFB\u52A0 logger/debugger</p><p>axios \u8BF7\u6C42\u54CD\u5E94\u62E6\u622A\u5668\uFF0C\u6CA1\u6709 next\uFF0C\u4E0D\u7B97\u4E2D\u95F4\u4EF6\u3002\u7531\u7B2C\u4E09\u65B9\u63D2\u4EF6\u5B9E\u73B0\uFF1Ahttps://emileber.github.io/axios-middleware</p><p>\u539F\u7406\u662F [\u8BF7\u6C42\u4E2D\u95F4\u4EF6\uFF0C\u53D1\u8BF7\u6C42\uFF0C\u54CD\u5E94\u4E2D\u95F4\u4EF6] \u4F9D\u6B21 Promise.then \u5904\u7406</p>',11),C={href:"https://juejin.cn/post/6988145927319994399",target:"_blank",rel:"noopener noreferrer"},D=t("axios\u62E6\u622A\u5668/koa\u4E2D\u95F4\u4EF6/express\u4E2D\u95F4\u4EF6/redux\u4E2D\u95F4\u4EF6\u7684\u539F\u7406 - \u6398\u91D1");function K(R,H){const i=s("RouterLink"),r=s("ExternalLinkIcon");return d(),h(c,null,[_,e("nav",u,[e("ul",null,[e("li",null,[o(i,{to:"#\u6982\u5FF5"},{default:n(()=>[f]),_:1})]),e("li",null,[o(i,{to:"#\u597D\u5904"},{default:n(()=>[m]),_:1})]),e("li",null,[o(i,{to:"#\u4E0E-helper-\u533A\u522B"},{default:n(()=>[b]),_:1})]),e("li",null,[o(i,{to:"#\u5F0A\u7AEF"},{default:n(()=>[g]),_:1})]),e("li",null,[o(i,{to:"#\u524D\u7AEF\u5982\u4F55\u6B63\u786E\u4F7F\u7528\u4E2D\u95F4\u4EF6"},{default:n(()=>[w]),_:1})]),e("li",null,[o(i,{to:"#\u5BA2\u6237\u7AEF\u5E94\u7528"},{default:n(()=>[x]),_:1})]),e("li",null,[o(i,{to:"#\u5E94\u7528\u573A\u666F"},{default:n(()=>[k]),_:1})])])]),y,e("p",null,[e("a",j,[q,o(r)])]),v,e("p",null,[e("a",E,[B,o(r)])]),A,N,P,e("p",null,[e("a",S,[I,o(r)]),L]),e("p",null,[e("a",T,[V,o(r)])]),e("p",null,[e("a",F,[J,o(r)])]),z,e("p",null,[e("a",C,[D,o(r)])])],64)}var O=l(p,[["render",K],["__file","middleware-pattern.html.vue"]]);export{O as default};

import{r as n,o as s,c as e,a,F as i,b as r,d as l}from"./app.26466922.js";const t={},p=a("h1",{id:"无限滚动加载",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#无限滚动加载","aria-hidden":"true"},"#"),r(" 无限滚动加载")],-1),b=a("h2",{id:"basic",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#basic","aria-hidden":"true"},"#"),r(" basic")],-1),o={href:"https://developers.google.com/web/updates/2016/07/infinite-scroller",target:"_blank",rel:"noopener noreferrer"},u=r("Complexities of an Infinite Scroller  |  Web  |  Google Developers"),c=l('<h2 id="vue" tabindex="-1"><a class="header-anchor" href="#vue" aria-hidden="true">#</a> vue</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install vue-infinite-loading --save\n\nimport InfiniteLoading from &#39;vue-infinite-loading&#39;;\n\nexport default {\n  components: {\n    InfiniteLoading,\n  },\n};\n\n// dom\n  infinite-loading(:on-infinite=&quot;loadMore&quot;, ref=&quot;infiniteLoading&quot;)\n    span(slot=&quot;no-more&quot;) 没有更多了\n    span(slot=&quot;no-results&quot;) 没有更多了\n// method\n\n  loadMore () {\n    if (this.loadStatus.busy) return\n    if (this.list) {\n      console.log(&#39;trigger loadmore&#39;, this.list &amp;&amp; this.list.items.length)\n      if (!this.list._links.next) {\n        this.loadStatus.loadingDone = true\n        this.$refs.infiniteLoading.$emit(&#39;$InfiniteLoading:complete&#39;)\n        return\n      }\n      this.loadStatus.busy = true\n      this.$http.get(this.list._links.next.href).then((response) =&gt; {\n        Array.prototype.unshift.apply(response.data.items, this.list.items)\n        this.list = response.data\n        this.loadStatus.busy = false\n        this.$refs.infiniteLoading.$emit(&#39;$InfiniteLoading:loaded&#39;)\n      }, (response) =&gt; {\n        this.loadStatus.loadingError = true\n      })\n    }\n  },\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div>',2);t.render=function(r,l){const t=n("OutboundLink");return s(),e(i,null,[p,b,a("p",null,[a("a",o,[u,a(t)])]),c],64)};export default t;

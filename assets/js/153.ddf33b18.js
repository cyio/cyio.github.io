(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{592:function(e,t,n){"use strict";n.r(t);var a=n(56),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"npm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[e._v("#")]),e._v(" NPM")]),e._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#npm-创建和发布一个包的步骤"}},[e._v("npm 创建和发布一个包的步骤")])]),n("li",[n("a",{attrs:{href:"#开销评估"}},[e._v("开销评估")])]),n("li",[n("a",{attrs:{href:"#私有-npm-仓库"}},[e._v("私有 npm 仓库")])]),n("li",[n("a",{attrs:{href:"#npm-安装失败怎么办"}},[e._v("npm 安装失败怎么办？")])]),n("li",[n("a",{attrs:{href:"#安装或升级-npm-需要全局-需要-sudo-或-win-下的管理员权限"}},[e._v("安装或升级 npm，需要全局，需要 sudo 或 win 下的管理员权限")])]),n("li",[n("a",{attrs:{href:"#解决-gulp-等全局安装后-找不到命令"}},[e._v("解决 gulp 等全局安装后，找不到命令")])]),n("li",[n("a",{attrs:{href:"#特殊包安装"}},[e._v("特殊包安装")])]),n("li",[n("a",{attrs:{href:"#与-yarn-比较"}},[e._v("与 yarn 比较")])]),n("li",[n("a",{attrs:{href:"#lockfile-可重现构建"}},[e._v("lockfile 可重现构建")])]),n("li",[n("a",{attrs:{href:"#语义化版本"}},[e._v("语义化版本")])]),n("li",[n("a",{attrs:{href:"#npm-windows-unlink-typescript-错误"}},[e._v("npm windows unlink typescript 错误")])]),n("li",[n("a",{attrs:{href:"#pnpm"}},[e._v("PNPM")])]),n("li",[n("a",{attrs:{href:"#yarn-2-berry"}},[e._v("yarn 2（Berry）")])]),n("li",[n("a",{attrs:{href:"#提示-gyp-no-xcode-or-clt-version-detected"}},[e._v("提示 gyp: No Xcode or CLT version detected")])]),n("li",[n("a",{attrs:{href:"#生产构建"}},[e._v("生产构建")])]),n("li",[n("a",{attrs:{href:"#源使用优先级"}},[e._v("源使用优先级")])]),n("li",[n("a",{attrs:{href:"#私有仓库"}},[e._v("私有仓库")])])])]),n("p"),e._v(" "),n("h2",{attrs:{id:"npm-创建和发布一个包的步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-创建和发布一个包的步骤"}},[e._v("#")]),e._v(" npm 创建和发布一个包的步骤")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("set")]),e._v(" init.author.name "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Oaker"')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("set")]),e._v(" init.author.email "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"icaner@qq.com "')]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("set")]),e._v(" init.author.url "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://oaker.bid"')]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" init --yes\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" init --scope"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("cyio\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" i mocha chai -D\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("mkdir")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("touch")]),e._v(" test/test.js\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("test")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" tag v0.0.1\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push origin master --tags\n"),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" publish --access public\n")])])]),n("h2",{attrs:{id:"开销评估"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开销评估"}},[e._v("#")]),e._v(" 开销评估")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://bundlephobia.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("bundlephobia"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"私有-npm-仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#私有-npm-仓库"}},[e._v("#")]),e._v(" 私有 npm 仓库")]),e._v(" "),n("ul",[n("li",[e._v("最简单 git 即可")]),e._v(" "),n("li",[e._v("不好的地方是，使用 npm update 是无法更新私有模块，想更新只能重新安装一次。好处是不用搭建服务。")])]),e._v(" "),n("p",[n("a",{attrs:{href:"https://docs.npmjs.com/creating-and-publishing-private-packages",target:"_blank",rel:"noopener noreferrer"}},[n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://juejin.im/post/5a386b0d6fb9a0450f220c59",target:"_blank",rel:"noopener noreferrer"}},[e._v("5 分钟内 3 种方法搭建企业内部私有 npm 仓库 - 掘金"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"npm-安装失败怎么办"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-安装失败怎么办"}},[e._v("#")]),e._v(" npm 安装失败怎么办？")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("网络解决\n绝大多数安装出问题，是网络问题引起的，npm 包往往依赖 github。\n比如 node-sass 安装时，要下载对应系统的二进制文件，如果下载失败可能就要本地编译。\n解决思路是使用代理来装这些包，npm 支持设置 http(s)代理，不支持 socks，解决方法是用 proxychains。")])]),e._v(" "),n("li",[n("p",[e._v("手动 clone\nhttps://npmjs.org/package/xxx\n把 xxx 换成你要装的包名，在页面找到其源码托管页，通常是 github\n把源代码 clone 下来，放到"),n("code",[e._v("node_modules/xxx")]),e._v("目录，检查这个目录下的 package.json，如果有依赖，按照同样方法操作。")])])]),e._v(" "),n("p",[n("a",{attrs:{href:"http://ucdok.com/articles/2013-09-26-npm-install-problems.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("《Node.js 入门系列》—— NPM 安装第三方模块常见问题"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/fex-team/fis/issues/565",target:"_blank",rel:"noopener noreferrer"}},[e._v("NPM 使用问题汇总 · Issue #565 · fex-team/fis"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"安装或升级-npm-需要全局-需要-sudo-或-win-下的管理员权限"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装或升级-npm-需要全局-需要-sudo-或-win-下的管理员权限"}},[e._v("#")]),e._v(" 安装或升级 npm，需要全局，需要 sudo 或 win 下的管理员权限")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v("\nproxychains "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" node-sass --save-dev\n")])])]),n("h2",{attrs:{id:"解决-gulp-等全局安装后-找不到命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决-gulp-等全局安装后-找不到命令"}},[e._v("#")]),e._v(" 解决 gulp 等全局安装后，找不到命令")]),e._v(" "),n("p",[e._v("由于自定义了全局 npm 的路径，也就是 prefix，所以要告诉终端，执行如下命令")]),e._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("echo")]),e._v(" -e "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v('"export PATH='),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" prefix -g"),n("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("/bin:"),n("span",{pre:!0,attrs:{class:"token environment constant"}},[e._v("$PATH")]),e._v('"')]),e._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">>")]),e._v(" ~/.zshrc "),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("source")]),e._v(" ~/.zshrc\n")])])]),n("h2",{attrs:{id:"特殊包安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特殊包安装"}},[e._v("#")]),e._v(" 特殊包安装")]),e._v(" "),n("ul",[n("li",[e._v("puppeteer "),n("code",[e._v("PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true yarn add puppeteer")]),e._v(" 忽略 chromium 下载")])]),e._v(" "),n("h2",{attrs:{id:"与-yarn-比较"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#与-yarn-比较"}},[e._v("#")]),e._v(" 与 yarn 比较")]),e._v(" "),n("ul",[n("li",[e._v("yarn 管理全局模块有优势，可通过备份恢复\n"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/36391490",target:"_blank",rel:"noopener noreferrer"}},[e._v("为什么我从 npm 到 yarn 再到 npm? - 知乎"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"lockfile-可重现构建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lockfile-可重现构建"}},[e._v("#")]),e._v(" lockfile 可重现构建")]),e._v(" "),n("p",[e._v("tldr:")]),e._v(" "),n("ul",[n("li",[e._v("npm 使用版本大于 5.4.2")]),e._v(" "),n("li",[e._v("维护者更新 lockfile，"),n("code",[e._v("npm install --package-lock-only")])]),e._v(" "),n("li",[e._v("非维护者可用 yarn，修改包时，不要提交 lockfile，由维护者统一更新")]),e._v(" "),n("li",[e._v("lockfile 应尽量避免冲突，建议由一个人维护，这样本地 npm 版本差异不是问题")]),e._v(" "),n("li",[e._v("建议升下 npm，大家统一使用 5.10.x 或 6.x.x，这样生成的 lockfile 规则一致")])]),e._v(" "),n("p",[e._v("问题："),n("code",[e._v("package.json")]),e._v("松散版本号，安装易变\n解决方案 yarn 引入 lockfile 锁死加 手动升级")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.robertcooper.me/how-yarn-lock-files-work-and-upgrading-dependencies",target:"_blank",rel:"noopener noreferrer"}},[e._v("How Yarn Lock Files Work and Upgrading Dependencies"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("npm 5-6 lock 调整了子依赖版本号描述方式，减少 diff。精确安装看顶层。不影响行为，构建环境可忽略此问题\n"),n("a",{attrs:{href:"https://github.com/Poltergeist/npmtest/commit/59dad3e5800bca8d92315d962ba2477748867fed#diff-32607347f8126e6534ebc7ebaec4853d",target:"_blank",rel:"noopener noreferrer"}},[e._v("changes after install · Poltergeist/npmtest@59dad3e"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://github.com/npm/npm/issues/20434#issuecomment-402988364",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm install changes package-lock.json from exact versions to loosly versions · Issue #20434 · npm/npm"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("理想情况，输入"),n("code",[e._v("package.json")]),e._v("，输出确定"),n("code",[e._v("node_modules")])]),e._v(" "),n("p",[e._v("影响因素：")]),e._v(" "),n("ul",[n("li",[e._v("使用不同版本 npm，安装算法略有差异")]),e._v(" "),n("li",[e._v("范围包，有更新，再安装时使用新版本")]),e._v(" "),n("li",[e._v("子依赖即使写死版本号，也会更新")]),e._v(" "),n("li",[e._v("安装包的远程库失效")])]),e._v(" "),n("p",[e._v("A-B-C，A 指定 B 版本，但想用新的 C 怎么办")]),e._v(" "),n("p",[e._v("可重现依赖树，不必根据"),n("code",[e._v("package.json")]),e._v("重新计算依赖版本\n规则，尝试根据 lockfile 描述还原，如果不可用或缺失，则回退到旧方式")]),e._v(" "),n("p",[n("code",[e._v("npm update``npm rm``npm update")]),e._v("会触发，使用选项"),n("code",[e._v("--no-save")]),e._v("避免保存")]),e._v(" "),n("p",[e._v("加入版本管理，可以记录变化")]),e._v(" "),n("p",[e._v("冲突，1. 人工解决"),n("code",[e._v("package.json")]),e._v("冲突 2. "),n("code",[e._v("npm install --package-lock-only")]),e._v(" 自动解决 lockfile 冲突")]),e._v(" "),n("p",[e._v("推荐使用"),n("code",[e._v("npx npm-merge-driver install --global")]),e._v("，自动让 git 处理 lockfile 冲突")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://docs.npmjs.com/files/package-locks",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm-package-locks | npm Documentation"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("lockfile 加 "),n("code",[e._v("npm install")]),e._v(" 在部署时不能保证可靠还原，一旦出现问题 debug 麻烦")]),e._v(" "),n("p",[e._v("旧版本"),n("code",[e._v("package.json")]),e._v("依赖有更新且"),n("code",[e._v("npm i")]),e._v("时，会更新依赖和 lockfile 而不是 respect lockfile，5.4.2 后修复此问题，安装规则："),n("a",{attrs:{href:"https://github.com/npm/npm/issues/17979#issuecomment-332701215",target:"_blank",rel:"noopener noreferrer"}},[e._v("why is package-lock being ignored? · Issue #17979 · npm/npm"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("5.7.1 引入"),n("code",[e._v("npm ci")]),e._v("只从 lockfile 进行复现安装。适用于纯净部署，比常规安装更快更严格，帮助捕获错误或增量安装引起的不一致")]),e._v(" "),n("p",[e._v("缺点是会删除 node_modules，安装时间会长些")]),e._v(" "),n("p",[e._v("lockfile 与 "),n("code",[e._v("package.json")]),e._v("依赖不匹配时，会报错，而不是更新 lockfile\n如查"),n("code",[e._v("node_modules")]),e._v("存在，会先删掉\n可以做为"),n("code",[e._v("npm i")]),e._v("失败的回退，大幅降低安装失败的情况")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://docs.npmjs.com/cli/ci.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm-ci | npm Documentation"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://blog.npmjs.org/post/171556855892/introducing-npm-ci-for-faster-more-reliable",target:"_blank",rel:"noopener noreferrer"}},[e._v("The npm Blog — Introducing "),n("code",[e._v("npm ci")]),e._v(" for faster, more reliable..."),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://stackoverflow.com/questions/45022048/why-does-npm-install-rewrite-package-lock-json/51045967",target:"_blank",rel:"noopener noreferrer"}},[e._v('node.js - Why does "npm install" rewrite package-lock.json? - Stack Overflow'),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("从 yarn 迁移 "),n("a",{attrs:{href:"https://github.com/mixmaxhq/deyarn",target:"_blank",rel:"noopener noreferrer"}},[e._v("mixmaxhq/deyarn: A command-line tool for converting projects that use Yarn to npm."),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("p",[e._v("lockfile 只看顶级项目，非顶级不起作用")])]),e._v(" "),n("li",[n("p",[e._v("建议，构建严格按 lockfile，开发忽略")]),e._v(" "),n("ul",[n("li",[e._v("保证构建稳定，不出现意料外依赖变化导致的问题")]),e._v(" "),n("li",[e._v("减少对开发者的工具要求，但要维护统一的 lockfile")]),e._v(" "),n("li",[e._v("开发和构建环境，npm 版本要统一最低")]),e._v(" "),n("li",[e._v("松散版本号的意义")])])]),e._v(" "),n("li",[n("p",[e._v("缺点")]),e._v(" "),n("ul",[n("li",[e._v("不易读，lockfile 被破坏不易察觉")]),e._v(" "),n("li",[n("code",[e._v("package.json")]),e._v("无法反映真实使用依赖\n"),n("a",{attrs:{href:"https://snyk.io/blog/making-sense-of-package-lock-files-in-the-npm-ecosystem/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Do you really know how a lockfile works for yarn and npm packages? | Snyk"),n("OutboundLink")],1),e._v(" "),n("a",{attrs:{href:"https://medium.com/the-guild/how-should-you-pin-your-npm-dependencies-and-why-2b8d545c7312",target:"_blank",rel:"noopener noreferrer"}},[e._v("How should you pin your npm dependencies and why? - The Guild - Medium"),n("OutboundLink")],1)])])]),e._v(" "),n("li",[n("p",[e._v("lockfile version 规则 6.x 变了，混用 5.x 和 6.x 会生成不同规则的 lock file\nnpm install changes package-lock.json from exact versions to loosly versions · Issue #20434 · npm/npm https://github.com/npm/npm/issues/20434")])])]),e._v(" "),n("h2",{attrs:{id:"语义化版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#语义化版本"}},[e._v("#")]),e._v(" 语义化版本")]),e._v(" "),n("h2",{attrs:{id:"npm-windows-unlink-typescript-错误"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-windows-unlink-typescript-错误"}},[e._v("#")]),e._v(" npm windows unlink typescript 错误")]),e._v(" "),n("p",[e._v("文件正在使用，无法访问")]),e._v(" "),n("ul",[n("li",[e._v("关闭编辑器、安全软件")]),e._v(" "),n("li",[e._v("删除缓存")]),e._v(" "),n("li",[e._v("重启")]),e._v(" "),n("li",[e._v("以管理员权限安装，不推荐")])]),e._v(" "),n("h2",{attrs:{id:"pnpm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pnpm"}},[e._v("#")]),e._v(" PNPM")]),e._v(" "),n("p",[e._v("缺点：部分编辑器支持有问题？")]),e._v(" "),n("h2",{attrs:{id:"yarn-2-berry"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#yarn-2-berry"}},[e._v("#")]),e._v(" yarn 2（Berry）")]),e._v(" "),n("p",[e._v("实际是另一个工具了，暂不考虑使用")]),e._v(" "),n("ul",[n("li",[e._v("很多批评，包括 yarn 1 作者")]),e._v(" "),n("li",[e._v("facebook 等大的工程项目，没有升级")])]),e._v(" "),n("p",[n("a",{attrs:{href:"https://shift.infinite.red/yarn-1-vs-yarn-2-vs-npm-a69ccf0229cd",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yarn 1 vs Yarn 2 vs NPM - Red Shift"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"提示-gyp-no-xcode-or-clt-version-detected"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#提示-gyp-no-xcode-or-clt-version-detected"}},[e._v("#")]),e._v(" 提示 gyp: No Xcode or CLT version detected")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://medium.com/flawless-app-stories/gyp-no-xcode-or-clt-version-detected-macos-catalina-anansewaa-38b536389e8d",target:"_blank",rel:"noopener noreferrer"}},[e._v("gyp: No Xcode or CLT version detected macOS Catalina | Anansewaa"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"生产构建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生产构建"}},[e._v("#")]),e._v(" 生产构建")]),e._v(" "),n("p",[e._v("期望：只安装 dependencies，不安装 devDependencies 和 optionalDependencies")]),e._v(" "),n("p",[e._v("一般用不到 optionalDependencies")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install --production\n# or\nexport NODE_ENV=production\n\nnpm install --no-optional\n")])])]),n("blockquote",[n("p",[e._v("With the --production flag (or when the NODE_ENV environment variable is set to production), npm will not install modules listed in devDependencies.")])]),e._v(" "),n("p",[e._v("https://docs.npmjs.com/cli/install")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/debug",target:"_blank",rel:"noopener noreferrer"}},[e._v("debug - npm"),n("OutboundLink")],1)]),e._v(" "),n("h2",{attrs:{id:"源使用优先级"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#源使用优先级"}},[e._v("#")]),e._v(" 源使用优先级")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("npm install --registry=http://registry.npm.taobao.org\n  project config\n    metrics-registry\n")])])]),n("p",[e._v("如果只是少量项目使用私有源，建议使用"),n("code",[e._v("project config")]),e._v("方式。万一私有源访问出现问题，减少影响。")]),e._v(" "),n("h2",{attrs:{id:"私有仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#私有仓库"}},[e._v("#")]),e._v(" 私有仓库")]),e._v(" "),n("p",[e._v("两个以上项目共享常量数据、工具函数")]),e._v(" "),n("p",[e._v("搭建： sinopia")]),e._v(" "),n("p",[e._v("维护：公共包修改，需要提升版本号，需要在每个引用公共包的项目升级")])])}),[],!1,null,null,null);t.default=s.exports}}]);
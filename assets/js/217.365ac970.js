(window.webpackJsonp=window.webpackJsonp||[]).push([[217],{656:function(t,a,e){"use strict";e.r(a);var n=e(56),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"iframe"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#iframe"}},[t._v("#")]),t._v(" iframe")]),t._v(" "),e("ul",[e("li",[t._v("父为 HTTPS，子必须为 HTTPS")]),t._v(" "),e("li",[t._v("iframe 可能设置防盗链，访问报 403，需要添加泛域名")]),t._v(" "),e("li",[t._v("嵌套第三方页面时简便测试，在现成页面插入 DOM")]),t._v(" "),e("li",[e("code",[t._v("iframe.contentDocument")]),t._v("从开始到页面载入，会变化，需要监听"),e("code",[t._v("onload")]),t._v("，跨域 iframe 没有"),e("code",[t._v("DOMContentLoaded")]),t._v("，同域通过轮询可尽快查到"),e("code",[t._v("contentDocument")]),t._v("出现")]),t._v(" "),e("li",[t._v("iframe 全屏\n"),e("ul",[e("li",[t._v("嵌套内容需要指定设置允许全屏")]),t._v(" "),e("li",[t._v("如果有多层嵌套，都需要设置")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('iframe(:src="url" width="100%" height="100%" allowfullscreen="allowfullscreen" webkitallowfullscreen="true" mozallowfullscreen="true" frameborder="0")\n\niframe {\n  border-width: 0;\n  vertical-align: bottom;\n}\n')])])])])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://dzone.com/articles/fallback-for-blocked-iframes-a-crude-solution-with",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fallback for Blocked iframes: A (Crude) Solution With Vue.js - DZone Web Dev"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[t._v("判断当前页是否是iframe"),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断当前页是否是iframe")]),t._v("\nself "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断父窗口是否是iframe")]),t._v("\nparent"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("top\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// similar behavior as an HTTP redirect")]),t._v("\nwindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://stackoverflow.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// similar behavior as clicking on a link")]),t._v("\nwindow"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://stackoverflow.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])])}),[],!1,null,null,null);a.default=s.exports}}]);
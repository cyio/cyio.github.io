(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{443:function(t,n,a){"use strict";a.r(n);var e=a(57),s=Object(e.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"从圣杯到双飞燕布局"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从圣杯到双飞燕布局"}},[t._v("#")]),t._v(" 从圣杯到双飞燕布局")]),t._v(" "),a("blockquote",[a("p",[t._v("核心：左右定宽，中间自适应。float 全浮动，margin 负值/position 定位修正")])]),t._v(" "),a("p",[t._v("本文从零开始，探究两个布局实现过程。")]),t._v(" "),a("p",[t._v("第一步，先让三个块浮动起来（脱离常规流），并设上相应的宽度。"),a("a",{attrs:{href:"http://jsbin.com/gexazij/1/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".main")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".sub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 190px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".extra")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" left"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 230px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("第二步，借助 margin 负边距，实现两个侧栏的定位。\n我们需要把 sub 侧栏定位到上一行的左边，以它自身的左边界为参考线，需向左偏移一个前面兄弟元素的宽度（100%），也就是 margin-left:-100%。"),a("a",{attrs:{href:"http://jsbin.com/gexazij/2/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这时，extra 侧栏顶替原 sub 侧栏的位置，我们需要将它定位的上一行的右边，同样以它自身的左边界为参考线，需向左偏移一个自身的宽度，也就是 margin-left:-190px。")]),t._v(" "),a("p",[t._v("第三步，两个侧栏定好位后，main 的两边被挡，见 "),a("a",{attrs:{href:"http://jsbin.com/gexazij/3/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1),t._v("，这时设定容器 padding 修正，"),a("a",{attrs:{href:"http://jsbin.com/gexazij/4/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("#bd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0 230px 0 190px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这时，因为 main 的宽度和右边界的位置发生了变化，两个侧栏的位置也跟着变了。通过相对定位对两个侧栏的位置进行修正，"),a("a",{attrs:{href:"http://jsbin.com/gexazij/5/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".sub")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -190px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".extra")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -230px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这就是"),a("strong",[t._v("圣杯布局")]),t._v("。")]),t._v(" "),a("p",[t._v("在第三步时，不使用相对定位，而是给 main 添加一个子块 main-wrapper，并设定左右 margin 修正其显示。这样做，不会改变其父容器 main 的宽度和右边界，也就不会影响两个侧栏的定位。"),a("a",{attrs:{href:"http://jsbin.com/gexazij/6/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1),t._v("\n这就是"),a("strong",[t._v("双飞燕布局")]),t._v("，它不需要再对侧栏进行二次的相对定位。圣杯的两个杯柄变成了自由的燕子翅膀。")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww2.sinaimg.cn/large/4e5d3ea7gw1eu8p0vwc9uj20lx06jgmj.jpg",alt:"双飞燕布局"}})]),t._v(" "),a("p",[t._v("对调 extra 和 main-wrap，"),a("a",{attrs:{href:"http://jsbin.com/gexazij/7/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".extra")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin-left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" -100%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("position")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" relative"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("left")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 190px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("引用下原作者的总结：")]),t._v(" "),a("blockquote",[a("p",[t._v("优点\n实现了内容与布局的分离，即 Eric 提到的 Any-Order Columns.\nmain 部分是自适应宽度的，很容易在定宽布局和流体布局中切换。\n任何一栏都可以是最高栏，不会出问题。\n需要的 hack 非常少（就一个针对 ie6 的清除浮动 hack:_zoom: 1;）\n在浏览器上的兼容性非常好，IE5.5 以上都支持。\n不足\nmain 需要添加一个额外的包裹层。")])]),t._v(" "),a("p",[t._v("附一个原文的有效链接 "),a("a",{attrs:{href:"http://www.imooc.com/wenda/detail/254035",target:"_blank",rel:"noopener noreferrer"}},[t._v("双飞翼布局介绍-始于淘宝 UED_慕课问答"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("基于双飞燕布局的扩展：")]),t._v(" "),a("ul",[a("li",[t._v("两栏布局（移除 extra） "),a("a",{attrs:{href:"http://jsbin.com/gexazij/8/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("一个侧栏，上下叠加（为 sub 设置高度，并设置 extra 的相对定位 top）"),a("a",{attrs:{href:"http://jsbin.com/gexazij/9/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("侧栏在右 "),a("a",{attrs:{href:"http://jsbin.com/gexazij/10/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("上下两栏 "),a("a",{attrs:{href:"http://jsbin.com/gexazij/11/edit?html,css,output",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("最后，自由自在地布局，而不用调整 HTML")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww2.sinaimg.cn/large/4e5d3ea7gw1eur05432k7j20qm0izjst.jpg",alt:""}})]),t._v(" "),a("p",[t._v("两栏实例："),a("a",{attrs:{href:"http://codepen.io/cyio/pen/OWPXro",target:"_blank",rel:"noopener noreferrer"}},[t._v("两栏布局，左侧定宽，右侧伸缩"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("需要注意的衍生问题：")]),t._v(" "),a("ul",[a("li",[t._v("footer 要清除浮动")]),t._v(" "),a("li",[t._v("写媒体查询，页面宽度写成定宽时，因为 main 继承父容器的宽度，也要写成绝对值，即页面定宽减去侧栏宽度")])]),t._v(" "),a("p",[a("strong",[t._v("更新：用 flex/grid 方式实现，更符合自然思维，不需要考虑 hack，不建议再使用 float")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://codepen.io/cyio/pen/YqOqrp?editors=1100",target:"_blank",rel:"noopener noreferrer"}},[t._v("flex 圣杯布局"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://codepen.io/cyio/pen/XWKMrOv",target:"_blank",rel:"noopener noreferrer"}},[t._v("grid 圣杯布局"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=s.exports}}]);
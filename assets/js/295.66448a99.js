(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{734:function(t,e,a){"use strict";a.r(e);var s=a(56),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"typescript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[t._v("#")]),t._v(" Typescript")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#interface-和-type"}},[t._v("interface 和 type")])]),a("li",[a("a",{attrs:{href:"#对象入参"}},[t._v("对象入参")])]),a("li",[a("a",{attrs:{href:"#extends"}},[t._v("extends")])]),a("li",[a("a",{attrs:{href:"#泛型"}},[t._v("泛型")])]),a("li",[a("a",{attrs:{href:"#case"}},[t._v("case")])]),a("li",[a("a",{attrs:{href:"#新特性"}},[t._v("新特性")])])])]),a("p"),t._v(" "),a("blockquote",[a("p",[t._v("为了说明静态类型化的好处，由于环境变量中的错字，我仅花了 30 分钟进行调试 - TJ\nhttps://mobile.twitter.com/tjholowaychuk/status/1276470952059113473")])]),t._v(" "),a("p",[t._v("vim 快速 fix，默认根据使用推测（即使推测不准，也省去一些书写）")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.tslang.cn/docs/handbook/basic-types.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("基础类型 · TypeScript 中文网 · TypeScript——JavaScript 的超集"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://taskhub.work/article/80348744310312960",target:"_blank",rel:"noopener noreferrer"}},[t._v("Typescript 高级语法进阶"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jishuin.proginn.com/p/763bfbd2418a",target:"_blank",rel:"noopener noreferrer"}},[t._v("用 TypeScript 编写 React 的最佳实践-技术圈"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.im/post/6844903904140853255",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript 中高级应用与最佳实践 - 掘金"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Tuple 元组 有组织的数组")]),t._v(" "),a("p",[t._v("08 Record & Dictionary & Many\n"),a("a",{attrs:{href:"https://juejin.im/post/6844903863791648782",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript 高级技巧 - 掘金"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.youtube.com/watch?v=P-J9Eg7hJwE",target:"_blank",rel:"noopener noreferrer"}},[t._v("Adopting Typescript at Scale - Brie Bunge | JSConf Hawaii 2019 - YouTube"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/airbnb/ts-migrate/tree/master/packages/ts-migrate",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-migrate/packages/ts-migrate at master · airbnb/ts-migrate"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://medium.com/airbnb-engineering/ts-migrate-a-tool-for-migrating-to-typescript-at-scale-cd23bfeb5cc",target:"_blank",rel:"noopener noreferrer"}},[t._v("ts-migrate: A Tool for Migrating to TypeScript at Scale | by Sergii Rudenko | Airbnb Engineering & Data Science | Aug, 2020 | Medium"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("TS的ROI（投入回报率）是勾型的。小型且不长久的项目慎入，越是需要多人合作和生命周期越长的项目，回报率越高")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/82567664",target:"_blank",rel:"noopener noreferrer"}},[t._v("《TypeScript开发实战》总结 - 知乎"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"interface-和-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#interface-和-type"}},[t._v("#")]),t._v(" interface 和 type")]),t._v(" "),a("ul",[a("li",[t._v("过去区别大，现在区别很小，都可以扩展")]),t._v(" "),a("li",[t._v("interface 适合开发库，便于扩展，写业务组件建议用 type")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Props")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntype OtherProps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"对象入参"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对象入参"}},[t._v("#")]),t._v(" 对象入参")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Heading")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" color "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ReactNode "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("My Website Heading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"extends"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#extends"}},[t._v("#")]),t._v(" extends")]),t._v(" "),a("p",[t._v("type 也可以扩展，用"),a("code",[t._v("&")]),t._v("符号")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("type "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("A")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 与上一种等价")]),t._v("\ntype "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TAB")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"泛型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#泛型"}},[t._v("#")]),t._v(" 泛型")]),t._v(" "),a("p",[t._v("适用多个类型，保证返回类型一致")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义，相当于函数，入参是类型约束")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" identity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("arg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("T")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" arg\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" output "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" identity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" string "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myString'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type of output will be 'string'")]),t._v("\n")])])]),a("p",[t._v("React.FC 有泛型接口")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("type $TSFixMe = any\n\n// @ts-nocheck\n\n// @ts-ignore\n\n// 没有错误后，会提示移除注释，优于 @ts-ignore\n// @ts-expect-error\n\n// tsx\n{/* \n  // @ts-ignore */}\n")])])]),a("p",[t._v("渐近"),a("code",[t._v("nocheck -> expect-error")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jkchao.github.io/typescript-book-chinese/error/interpreting.html#%25E7%25AE%2580%25E6%25B4%2581",target:"_blank",rel:"noopener noreferrer"}},[t._v("解读 Errors | 深入理解 TypeScript"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"case"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#case"}},[t._v("#")]),t._v(" case")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("JSX element type 'Element[]' is not a constructor function for JSX elements #33487")]),t._v(" "),a("p",[t._v("React Element 要求是对象，用 Fragment 包下")])]),t._v(" "),a("li",[a("p",[t._v("TS2322: Type 'Timeout' is not assignable to type 'number'” when running unit tests")]),t._v(" "),a("p",[t._v("使用 windows.setTimeout 解决")])]),t._v(" "),a("li",[a("p",[t._v("No index signature with a parameter of type 'string' was found on type 'xxx'")]),t._v(" "),a("p",[t._v("对象访问下角标限制")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://basarat.gitbook.io/typescript/type-system/index-signatures",target:"_blank",rel:"noopener noreferrer"}},[t._v("Index Signatures - TypeScript Deep Dive"),a("OutboundLink")],1)])]),t._v(" "),a("li",[a("p",[t._v("Object is possibly 'undefined'?")]),t._v(" "),a("p",[t._v("提示结尾的访问，可能取不到，需要使用"),a("code",[t._v("?")])])])]),t._v(" "),a("h2",{attrs:{id:"新特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#新特性"}},[t._v("#")]),t._v(" 新特性")]),t._v(" "),a("p",[t._v("unknown type 处理第三方库或 API 数据，表示需要检查数据有效性。如，接口字段有多种类型，null/[]")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  readonly scores: readonly number[];\n")])])]),a("p",[t._v("第一个表示不能熏赋值，第二个表示内部不可变")]),t._v(" "),a("p",[t._v("const assertions 不可变数据结构")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.carlrippon.com/6-useful-typescript-3-features-you-need-to-know/",target:"_blank",rel:"noopener noreferrer"}},[t._v("6 useful TypeScript 3 features you need to know | Building SPAs"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6872111128135073806",target:"_blank",rel:"noopener noreferrer"}},[t._v("一份不可多得的 TS 学习指南（1.8W字）"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);
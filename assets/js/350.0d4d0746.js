(window.webpackJsonp=window.webpackJsonp||[]).push([[350],{790:function(t,n,a){"use strict";a.r(n);var e=a(56),o=Object(e.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"netinfo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#netinfo"}},[t._v("#")]),t._v(" netinfo")]),t._v(" "),a("ul",[a("li",[t._v("兼容性差，仅 chrome 支持")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onLine "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//是否在线")]),t._v("\nnavigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("offLine\n\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'online'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  updateOnlineStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'offline'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" updateOnlineStatus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 可以把前缀加上， 兼容未来实现")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" connection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("connection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mozConnection "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("webkitConnection\n")])])]),a("p",[a("code",[t._v("navigator.connection")]),t._v(" 是实验性技术，只有 chrome 61 以上和移动版支持，其它浏览器如 safari 不支持\n"),a("code",[t._v("downlink")]),t._v(" 有效带宽估算，根据最近观察网络活动测量，如果最近没有活跃，则使用网络类型的理论值。10Mb 普通有线。如果用代理的话，估算准确性较低。\n"),a("code",[t._v("downlinkMax")]),t._v(" 第一网络跳带宽上限，由使用的底层网络技术决定，端性能无法超越这个值，这个值浏览器目前没有实现？")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://wicg.github.io/netinfo/#downlink-attribute",target:"_blank",rel:"noopener noreferrer"}},[t._v("Network Information API"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://whatwebcando.today/network-type-speed.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("What Web Can Do Today"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://googlechrome.github.io/samples/network-information/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Network Information API Sample"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://addyosmani.com/blog/adaptive-serving/",target:"_blank",rel:"noopener noreferrer"}},[t._v("AddyOsmani.com - Adaptive Serving using JavaScript and the Network Information API"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"网络质量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络质量"}},[t._v("#")]),t._v(" 网络质量")]),t._v(" "),a("p",[a("code",[t._v("navigator.connection.effectiveType")])]),t._v(" "),a("p",[a("code",[t._v("slow - 4G")]),t._v("，根据 rtt 和 downlink 的值实际范围，反映网络实际质量，而不是 chrome62 前理论网络类型\n"),a("a",{attrs:{href:"https://wicg.github.io/netinfo/#dfn-effective-connection-type",target:"_blank",rel:"noopener noreferrer"}},[t._v("Network Information API"),a("OutboundLink")],1)])])}),[],!1,null,null,null);n.default=o.exports}}]);
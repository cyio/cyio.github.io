(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{639:function(t,e,a){"use strict";a.r(e);var v=a(56),r=Object(v.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"dvajs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dvajs"}},[t._v("#")]),t._v(" dvajs")]),t._v(" "),a("h2",{attrs:{id:"概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[t._v("#")]),t._v(" 概念")]),t._v(" "),a("ul",[a("li",[t._v("effect 只支持 generator 的写法。async 和 await 可以在 effect 之外用，然后在 effect 里用 yield call 去调。\n"),a("ul",[a("li",[t._v("put 用于触发 action")]),t._v(" "),a("li",[t._v("call 调用异步")]),t._v(" "),a("li",[t._v("select 从 state 取数据")])])]),t._v(" "),a("li",[t._v("model state 何时使用，数据逻辑分离，组件共享")]),t._v(" "),a("li",[t._v("代码示例 "),a("a",{attrs:{href:"https://www.yuque.com/ant-design/course/dsl8ee#3d56fc89",target:"_blank",rel:"noopener noreferrer"}},[t._v("搭建基于 model 的卡片列表页面 · 语雀"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("code",[t._v("*")]),t._v("相对于 async，"),a("code",[t._v("yield")]),t._v("相当于 await，最常配合 call/put 使用")]),t._v(" "),a("li",[t._v("model 相当于 vuex")]),t._v(" "),a("li",[t._v("effects")]),t._v(" "),a("li",[t._v("put 相当于 dispatch，只是在 effect 中使用")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.yuque.com/ant-design/course/abl3ad",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用 model · 语雀"),a("OutboundLink")],1),t._v(" "),a("a",{attrs:{href:"https://hotwhy.github.io/2018/07/14/redux%E4%B8%8Evuex%E5%AD%A6%E4%B9%A0%E6%AF%94%E8%BE%83/",target:"_blank",rel:"noopener noreferrer"}},[t._v("redux与vuex学习比较 | 杜万福的博客"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"dav-vs-vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dav-vs-vuex"}},[t._v("#")]),t._v(" dav vs vuex")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("库")]),t._v(" "),a("th",[t._v("异步操作")]),t._v(" "),a("th",[t._v("同步操作")]),t._v(" "),a("th"),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("redux")]),t._v(" "),a("td",[t._v("action")]),t._v(" "),a("td",[t._v("reducers")]),t._v(" "),a("td",[t._v("*")]),t._v(" "),a("td",[t._v("yield call")]),t._v(" "),a("td",[t._v("[put, dispatch]{type, payload}")])]),t._v(" "),a("tr",[a("td",[t._v("dva")]),t._v(" "),a("td",[t._v("effects")]),t._v(" "),a("td",[t._v("reducers")]),t._v(" "),a("td",[t._v("*")]),t._v(" "),a("td",[t._v("yield call")]),t._v(" "),a("td",[t._v("[put, dispatch]{type, payload}")])]),t._v(" "),a("tr",[a("td",[t._v("vuex")]),t._v(" "),a("td",[t._v("action")]),t._v(" "),a("td",[t._v("mutation")]),t._v(" "),a("td",[t._v("async")]),t._v(" "),a("td",[t._v("await")]),t._v(" "),a("td",[t._v("FN")])])])]),t._v(" "),a("h2",{attrs:{id:"effect-不能用-async"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#effect-不能用-async"}},[t._v("#")]),t._v(" effect 不能用 async")]),t._v(" "),a("ul",[a("li",[t._v("因为redux-saga用了generator, dva只是整合了一些react技术栈的最佳实践")]),t._v(" "),a("li",[t._v("async 是 generator 的语法糖？")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/dvajs/dva/issues/1919#issuecomment-471381766",target:"_blank",rel:"noopener noreferrer"}},[t._v("effect 是否支持 async/await 写法？ · Issue #1919 · dvajs/dva"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("对于使用者来说，只是名字不一样，没有大的适应曲线")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/redux-saga/redux-saga/issues/987#issuecomment-301039792",target:"_blank",rel:"noopener noreferrer"}},[t._v("Is there any plan to rewrite redux-saga using async-await? · Issue #987 · redux-saga/redux-saga"),a("OutboundLink")],1)])])}),[],!1,null,null,null);e.default=r.exports}}]);
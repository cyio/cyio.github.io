(window.webpackJsonp=window.webpackJsonp||[]).push([[317],{757:function(t,a,s){"use strict";s.r(a);var r=s(56),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"cdn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cdn"}},[t._v("#")]),t._v(" CDN")]),t._v(" "),s("h2",{attrs:{id:"使用场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[t._v("#")]),t._v(" 使用场景")]),t._v(" "),s("h2",{attrs:{id:"原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),s("blockquote",[s("p",[t._v("如何判定使用哪个服务 IP就近、存在内容、负载情况、服务能力")])]),t._v(" "),s("p",[t._v("最简单的CDN网络由一个DNS服务器和几台缓存服务器组成：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("当用户点击网站页面上的内容URL，经过本地DNS系统解析，DNS系统会最终将域名的解析权交给CNAME指向的CDN专用DNS服务器。")])]),t._v(" "),s("li",[s("p",[t._v("CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回给用户")])]),t._v(" "),s("li",[s("p",[t._v("用户向CDN的全局负载均衡设备发起内容URL访问请求")])]),t._v(" "),s("li",[s("p",[t._v("CDN全局负载均衡设备根据用户IP地址，以及用户请求的内容URL，选择一台用户所属区域的区域负载均衡设备，告诉用户向这台设备发起请求 区域负载均衡设备会为用户选择一台合适的缓存服务器提供服务，选择的依据包括：根据用户IP地址，判断哪一台服务器距用户最近；根据用户所请求的URL中携带的内容名称，判断哪一台服务器上有用户所需内容；查询各个服务器当前的负载情况，判断哪一台服务器尚有服务能力。基于以上这些条件的综合分析之后，区域负载均衡设备会向全局负载均衡设备返回一台缓存服务器的IP地址")])]),t._v(" "),s("li",[s("p",[t._v("全局负载均衡设备把服务器的IP地址返回给用户用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);
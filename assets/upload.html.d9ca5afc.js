import{_ as l,r as o,o as c,c as i,a,b as s,w as e,F as u,d as n,e as r}from"./app.de511a45.js";const k={},d=a("h1",{id:"\u4E0A\u4F20",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u4E0A\u4F20","aria-hidden":"true"},"#"),n(" \u4E0A\u4F20")],-1),h={class:"table-of-contents"},_=n("\u5927\u6587\u4EF6\u4E0A\u4F20"),f=n("\u6781\u9650\u5927\u5C0F"),m=n("\u65AD\u70B9\u7EED\u4F20"),g=n("\u79D2\u4F20"),b=n("\u6682\u505C\u3001\u6062\u590D"),q=n("hash \u751F\u6210"),v=n("form \u4E0A\u4F20 snippet"),x=n("\u53C2\u8003"),w=r(`<h2 id="\u5927\u6587\u4EF6\u4E0A\u4F20" tabindex="-1"><a class="header-anchor" href="#\u5927\u6587\u4EF6\u4E0A\u4F20" aria-hidden="true">#</a> \u5927\u6587\u4EF6\u4E0A\u4F20</h2><p>\u601D\u8DEF\uFF1A</p><ul><li>\u5207\u7247\uFF0C\u7F16\u53F7\uFF0C\u6279\u91CF\u4E0A\u4F20</li><li>\u5408\u5E76\u65F6\u673A <ol><li>\u524D\u7AEF\u5224\u65AD\uFF0C\u901A\u77E5\u540E\u7AEF</li><li>\u8BF7\u6C42\u5E26\u4E0A total\uFF0C\u540E\u7AEF\u5224\u65AD</li></ol></li></ul><blockquote><p>\u6838\u5FC3\u5207\u7247 api:<code>Blob.prototype.slice</code></p></blockquote><p>\u5206\u7247\u8003\u8651\u56E0\u7D20\uFF1A</p><ul><li>\u6D4F\u89C8\u5668\u5185\u5B58\u9650\u5236\u3001\u786C\u76D8\u9650\u5236</li><li>\u6587\u4EF6\u592A\u5927 nginx \u8D85\u65F6</li><li>\u5E76\u53D1\u4E0A\u4F20\u4E2A\u6570</li><li>\u5355\u4E2A\u5206\u7247\u4E0A\u4F20\u9519\u8BEF\u91CD\u8BD5\uFF0C\u53CA\u91CD\u8BD5\u6B21\u6570</li><li>\u5E26\u5BBD</li><li>\u9875\u9762\u7EA7\u5185\u5B58/CPU\u5206\u914D</li><li>\u670D\u52A1\u5668\u5206\u7247\u5B58\u50A8\u9650\u5236</li></ul><h3 id="\u6781\u9650\u5927\u5C0F" tabindex="-1"><a class="header-anchor" href="#\u6781\u9650\u5927\u5C0F" aria-hidden="true">#</a> \u6781\u9650\u5927\u5C0F</h3><p>\u5F71\u54CD\u56E0\u7D20</p><p>\u4E1A\u52A1\u4E0A\uFF1A</p><ul><li>\u5E0C\u671B\u4F7F\u7528\u5BA2\u6237\u7AEF</li></ul><p>\u6280\u672F\u4E0A\uFF1A</p><ul><li>\u4E0A\u4F20\u6210\u529F\u7387</li><li>\u6D4F\u89C8\u5668\u6027\u80FD</li></ul><h2 id="\u65AD\u70B9\u7EED\u4F20" tabindex="-1"><a class="header-anchor" href="#\u65AD\u70B9\u7EED\u4F20" aria-hidden="true">#</a> \u65AD\u70B9\u7EED\u4F20</h2><p>\u601D\u8DEF\uFF1A</p><ul><li>\u670D\u52A1\u7AEF\u4FDD\u5B58\u5DF2\u4E0A\u4F20\u5206\u7247 hash\uFF0C\u524D\u7AEF\u4E0A\u4F20\u524D\u67E5\u8BE2\u4E2D\u65AD\u4F4D\u7F6E</li></ul><h2 id="\u79D2\u4F20" tabindex="-1"><a class="header-anchor" href="#\u79D2\u4F20" aria-hidden="true">#</a> \u79D2\u4F20</h2><p>hash + size</p><p>\u5927\u6587\u4EF6\u8BA1\u7B97 hash \u8017\u65F6\u957F\uFF0C\u53EF\u53EA\u8BA1\u7B97\u524D xx kb \u6570\u636E\uFF0C\u4EE5\u5F88\u5C0F\u7684\u6210\u672C\u8FC7\u6EE4\u6389\u4E0D\u80FD\u79D2\u4F20\u7684\u6587\u4EF6</p><h2 id="\u6682\u505C\u3001\u6062\u590D" tabindex="-1"><a class="header-anchor" href="#\u6682\u505C\u3001\u6062\u590D" aria-hidden="true">#</a> \u6682\u505C\u3001\u6062\u590D</h2><ul><li>\u6682\u505C\u6B63\u5728\u4E0A\u4F20\u7684\u8BF7\u6C42\uFF0Cabort</li><li>\u6062\u590D\u7528\u65AD\u70B9\u7EED\u4F20\u5373\u53EF</li></ul><h2 id="hash-\u751F\u6210" tabindex="-1"><a class="header-anchor" href="#hash-\u751F\u6210" aria-hidden="true">#</a> hash \u751F\u6210</h2><p>\u6839\u636E\u5185\u5BB9\u8BA1\u7B97 hash\uFF0C\u8FD9\u662F\u8017\u65F6\u4EFB\u52A1\uFF0C\u53EF\u7528 web-worker \u4F18\u5316</p><h2 id="form-\u4E0A\u4F20-snippet" tabindex="-1"><a class="header-anchor" href="#form-\u4E0A\u4F20-snippet" aria-hidden="true">#</a> form \u4E0A\u4F20 snippet</h2><p>post \u7C7B\u578B</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;json&#39;</span><span class="token operator">:</span>
      headers<span class="token punctuation">[</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&#39;upload&#39;</span><span class="token operator">:</span>
      headers<span class="token punctuation">[</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;multiple/form-data&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      headers<span class="token punctuation">[</span><span class="token string">&#39;Content-Type&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;application/x-www-form-urlencoded&#39;</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
</code></pre></div><p>html \u5199\u6CD5</p><div class="language-html ext-html"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">accept</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image/png,image/bmp,image/jpg,image/jpeg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uploadImage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u63D0\u4EA4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a> \u53C2\u8003</h2>`,28),y={href:"https://help.aliyun.com/document_detail/175888.html",target:"_blank",rel:"noopener noreferrer"},j=n("\u6587\u4EF6\u4E0A\u4F20"),C={href:"https://juejin.cn/post/6844904046436843527",target:"_blank",rel:"noopener noreferrer"},B=n("\u5B57\u8282\u8DF3\u52A8\u9762\u8BD5\u5B98\uFF1A\u8BF7\u4F60\u5B9E\u73B0\u4E00\u4E2A\u5927\u6587\u4EF6\u4E0A\u4F20\u548C\u65AD\u70B9\u7EED\u4F20"),L=a("p",null,"\u5728 Web \u6D4F\u89C8\u5668\u4E2D\u4F7F\u7528 FileReader.readAsArrayBuffer() \u5904\u7406\u5927\u6587\u4EF6 https://joji.me/en-us/blog/processing-huge-files-using-filereader-readasarraybuffer-in-web-browser/",-1),N=a("p",null,"javascript - filereader api on big files - Stack Overflow https://stackoverflow.com/questions/25810051/filereader-api-on-big-files",-1);function T(V,E){const t=o("RouterLink"),p=o("ExternalLinkIcon");return c(),i(u,null,[d,a("nav",h,[a("ul",null,[a("li",null,[s(t,{to:"#\u5927\u6587\u4EF6\u4E0A\u4F20"},{default:e(()=>[_]),_:1}),a("ul",null,[a("li",null,[s(t,{to:"#\u6781\u9650\u5927\u5C0F"},{default:e(()=>[f]),_:1})])])]),a("li",null,[s(t,{to:"#\u65AD\u70B9\u7EED\u4F20"},{default:e(()=>[m]),_:1})]),a("li",null,[s(t,{to:"#\u79D2\u4F20"},{default:e(()=>[g]),_:1})]),a("li",null,[s(t,{to:"#\u6682\u505C\u3001\u6062\u590D"},{default:e(()=>[b]),_:1})]),a("li",null,[s(t,{to:"#hash-\u751F\u6210"},{default:e(()=>[q]),_:1})]),a("li",null,[s(t,{to:"#form-\u4E0A\u4F20-snippet"},{default:e(()=>[v]),_:1})]),a("li",null,[s(t,{to:"#\u53C2\u8003"},{default:e(()=>[x]),_:1})])])]),w,a("p",null,[a("a",y,[j,s(p)])]),a("p",null,[a("a",C,[B,s(p)])]),L,N],64)}var I=l(k,[["render",T],["__file","upload.html.vue"]]);export{I as default};

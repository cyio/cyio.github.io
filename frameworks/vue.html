<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | Oaker小站</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
    <meta name="description" content="Just playing around">
    <meta name="theme-color" content="#0089a7">
    
    <link rel="preload" href="/assets/css/0.styles.1731dfdc.css" as="style"><link rel="preload" href="/assets/js/app.d6416fb4.js" as="script"><link rel="preload" href="/assets/js/2.06ded020.js" as="script"><link rel="preload" href="/assets/js/44.cae04c6c.js" as="script"><link rel="preload" href="/assets/js/4.8f3f44ca.js" as="script"><link rel="prefetch" href="/assets/js/10.27787c74.js"><link rel="prefetch" href="/assets/js/100.2ec9d783.js"><link rel="prefetch" href="/assets/js/101.1c764f57.js"><link rel="prefetch" href="/assets/js/102.2466bcc5.js"><link rel="prefetch" href="/assets/js/103.37966dd9.js"><link rel="prefetch" href="/assets/js/104.d18036e1.js"><link rel="prefetch" href="/assets/js/105.cc69f4dd.js"><link rel="prefetch" href="/assets/js/106.3d4912a3.js"><link rel="prefetch" href="/assets/js/107.c8ec17ea.js"><link rel="prefetch" href="/assets/js/108.60fe7441.js"><link rel="prefetch" href="/assets/js/109.5987a98a.js"><link rel="prefetch" href="/assets/js/11.c8c5a832.js"><link rel="prefetch" href="/assets/js/110.599f82e8.js"><link rel="prefetch" href="/assets/js/111.d8702636.js"><link rel="prefetch" href="/assets/js/112.1c39196e.js"><link rel="prefetch" href="/assets/js/113.f59990e3.js"><link rel="prefetch" href="/assets/js/114.5f5b5702.js"><link rel="prefetch" href="/assets/js/115.8d8b17b9.js"><link rel="prefetch" href="/assets/js/116.89ccc22c.js"><link rel="prefetch" href="/assets/js/117.a44ef044.js"><link rel="prefetch" href="/assets/js/118.dcc6be4e.js"><link rel="prefetch" href="/assets/js/119.81d98f0e.js"><link rel="prefetch" href="/assets/js/12.998e06bb.js"><link rel="prefetch" href="/assets/js/120.940c4f4b.js"><link rel="prefetch" href="/assets/js/121.724ab99f.js"><link rel="prefetch" href="/assets/js/122.f8812c5c.js"><link rel="prefetch" href="/assets/js/123.e85dd434.js"><link rel="prefetch" href="/assets/js/124.087a725d.js"><link rel="prefetch" href="/assets/js/125.b0a029e3.js"><link rel="prefetch" href="/assets/js/126.f3b4aa27.js"><link rel="prefetch" href="/assets/js/127.eac72e89.js"><link rel="prefetch" href="/assets/js/128.a6692c69.js"><link rel="prefetch" href="/assets/js/129.dc566db3.js"><link rel="prefetch" href="/assets/js/13.6344f7c9.js"><link rel="prefetch" href="/assets/js/130.4d074b9a.js"><link rel="prefetch" href="/assets/js/131.477515f4.js"><link rel="prefetch" href="/assets/js/132.323e39ff.js"><link rel="prefetch" href="/assets/js/133.6757743d.js"><link rel="prefetch" href="/assets/js/134.3774eb77.js"><link rel="prefetch" href="/assets/js/135.fac65e82.js"><link rel="prefetch" href="/assets/js/136.65a2d5ba.js"><link rel="prefetch" href="/assets/js/137.0ee12598.js"><link rel="prefetch" href="/assets/js/138.2c4477de.js"><link rel="prefetch" href="/assets/js/139.a3f276a0.js"><link rel="prefetch" href="/assets/js/14.da5d840d.js"><link rel="prefetch" href="/assets/js/140.ce5c530f.js"><link rel="prefetch" href="/assets/js/141.b19ed00a.js"><link rel="prefetch" href="/assets/js/142.1fc5ac53.js"><link rel="prefetch" href="/assets/js/143.3314fe1f.js"><link rel="prefetch" href="/assets/js/144.c666dc25.js"><link rel="prefetch" href="/assets/js/145.09b0d8de.js"><link rel="prefetch" href="/assets/js/146.d5d5c267.js"><link rel="prefetch" href="/assets/js/147.961e812b.js"><link rel="prefetch" href="/assets/js/148.d42e9bec.js"><link rel="prefetch" href="/assets/js/149.8d95861d.js"><link rel="prefetch" href="/assets/js/15.d200d07e.js"><link rel="prefetch" href="/assets/js/150.ffef984d.js"><link rel="prefetch" href="/assets/js/151.8f2a8f6b.js"><link rel="prefetch" href="/assets/js/152.6e4e51fa.js"><link rel="prefetch" href="/assets/js/153.58389237.js"><link rel="prefetch" href="/assets/js/154.32cb0758.js"><link rel="prefetch" href="/assets/js/155.336ab2d6.js"><link rel="prefetch" href="/assets/js/156.aa66dddf.js"><link rel="prefetch" href="/assets/js/157.b1cfc57f.js"><link rel="prefetch" href="/assets/js/158.677decf4.js"><link rel="prefetch" href="/assets/js/159.c24726a3.js"><link rel="prefetch" href="/assets/js/16.b4b5e687.js"><link rel="prefetch" href="/assets/js/160.c5a8bd9b.js"><link rel="prefetch" href="/assets/js/161.cd518e23.js"><link rel="prefetch" href="/assets/js/162.a5b29c0a.js"><link rel="prefetch" href="/assets/js/163.6f21b4a5.js"><link rel="prefetch" href="/assets/js/164.ac53c911.js"><link rel="prefetch" href="/assets/js/165.4e9cd354.js"><link rel="prefetch" href="/assets/js/166.563c5d9a.js"><link rel="prefetch" href="/assets/js/167.c46ff226.js"><link rel="prefetch" href="/assets/js/168.a0de3db1.js"><link rel="prefetch" href="/assets/js/169.f24333ed.js"><link rel="prefetch" href="/assets/js/17.8be2291a.js"><link rel="prefetch" href="/assets/js/170.64e4fe65.js"><link rel="prefetch" href="/assets/js/171.7edba651.js"><link rel="prefetch" href="/assets/js/172.dabc99f2.js"><link rel="prefetch" href="/assets/js/173.2e9b24fa.js"><link rel="prefetch" href="/assets/js/174.8e8ebc02.js"><link rel="prefetch" href="/assets/js/175.95359bce.js"><link rel="prefetch" href="/assets/js/176.b44d8961.js"><link rel="prefetch" href="/assets/js/177.75ceafbf.js"><link rel="prefetch" href="/assets/js/178.a81183a7.js"><link rel="prefetch" href="/assets/js/179.c2f99252.js"><link rel="prefetch" href="/assets/js/18.e7e58ae5.js"><link rel="prefetch" href="/assets/js/180.d355b184.js"><link rel="prefetch" href="/assets/js/181.10bb142b.js"><link rel="prefetch" href="/assets/js/182.4578703a.js"><link rel="prefetch" href="/assets/js/183.c0a76894.js"><link rel="prefetch" href="/assets/js/184.b8796e29.js"><link rel="prefetch" href="/assets/js/185.e60fadeb.js"><link rel="prefetch" href="/assets/js/186.03cf57ff.js"><link rel="prefetch" href="/assets/js/187.099b7ddc.js"><link rel="prefetch" href="/assets/js/188.b95e7bce.js"><link rel="prefetch" href="/assets/js/189.542a3efc.js"><link rel="prefetch" href="/assets/js/19.afc3285e.js"><link rel="prefetch" href="/assets/js/190.d29bae93.js"><link rel="prefetch" href="/assets/js/191.3fe3d0ce.js"><link rel="prefetch" href="/assets/js/192.2c4417f7.js"><link rel="prefetch" href="/assets/js/193.824c359a.js"><link rel="prefetch" href="/assets/js/194.329ef124.js"><link rel="prefetch" href="/assets/js/195.4294a573.js"><link rel="prefetch" href="/assets/js/196.2dbb1036.js"><link rel="prefetch" href="/assets/js/197.eb8feeed.js"><link rel="prefetch" href="/assets/js/198.839bd6a9.js"><link rel="prefetch" href="/assets/js/199.a6b29183.js"><link rel="prefetch" href="/assets/js/20.bb369b55.js"><link rel="prefetch" href="/assets/js/200.f013d9a1.js"><link rel="prefetch" href="/assets/js/201.39f3898e.js"><link rel="prefetch" href="/assets/js/202.ddc652ea.js"><link rel="prefetch" href="/assets/js/203.9cd14144.js"><link rel="prefetch" href="/assets/js/204.4898907f.js"><link rel="prefetch" href="/assets/js/205.235b2ed0.js"><link rel="prefetch" href="/assets/js/206.f0e70828.js"><link rel="prefetch" href="/assets/js/207.243c8475.js"><link rel="prefetch" href="/assets/js/208.5307dab0.js"><link rel="prefetch" href="/assets/js/209.cdfbb508.js"><link rel="prefetch" href="/assets/js/21.c44697d8.js"><link rel="prefetch" href="/assets/js/210.bfe8f4e7.js"><link rel="prefetch" href="/assets/js/211.620662fe.js"><link rel="prefetch" href="/assets/js/212.f0cd6c71.js"><link rel="prefetch" href="/assets/js/213.1d232598.js"><link rel="prefetch" href="/assets/js/214.ec6ffa5f.js"><link rel="prefetch" href="/assets/js/215.3ec13047.js"><link rel="prefetch" href="/assets/js/216.8d845899.js"><link rel="prefetch" href="/assets/js/217.0d586407.js"><link rel="prefetch" href="/assets/js/218.90516b42.js"><link rel="prefetch" href="/assets/js/219.71c7acd9.js"><link rel="prefetch" href="/assets/js/22.84f39a47.js"><link rel="prefetch" href="/assets/js/220.ae9e61d0.js"><link rel="prefetch" href="/assets/js/221.9d07b74c.js"><link rel="prefetch" href="/assets/js/222.b103cabf.js"><link rel="prefetch" href="/assets/js/223.241a68c3.js"><link rel="prefetch" href="/assets/js/224.4a79819b.js"><link rel="prefetch" href="/assets/js/225.09a18e44.js"><link rel="prefetch" href="/assets/js/226.0d01a2ad.js"><link rel="prefetch" href="/assets/js/227.74126808.js"><link rel="prefetch" href="/assets/js/228.6edb392a.js"><link rel="prefetch" href="/assets/js/229.1e10360f.js"><link rel="prefetch" href="/assets/js/23.658a64ed.js"><link rel="prefetch" href="/assets/js/230.8eab8691.js"><link rel="prefetch" href="/assets/js/231.e3749099.js"><link rel="prefetch" href="/assets/js/232.d9c4542e.js"><link rel="prefetch" href="/assets/js/233.56de68b4.js"><link rel="prefetch" href="/assets/js/234.11e6ea5f.js"><link rel="prefetch" href="/assets/js/235.c63c8400.js"><link rel="prefetch" href="/assets/js/236.57aa05c7.js"><link rel="prefetch" href="/assets/js/237.6ed55049.js"><link rel="prefetch" href="/assets/js/238.16aa544d.js"><link rel="prefetch" href="/assets/js/239.f1e072c4.js"><link rel="prefetch" href="/assets/js/24.46b7825a.js"><link rel="prefetch" href="/assets/js/240.95325903.js"><link rel="prefetch" href="/assets/js/241.e434e6a3.js"><link rel="prefetch" href="/assets/js/242.abdc9d20.js"><link rel="prefetch" href="/assets/js/243.94273835.js"><link rel="prefetch" href="/assets/js/244.5c482bc6.js"><link rel="prefetch" href="/assets/js/245.d0344d4f.js"><link rel="prefetch" href="/assets/js/246.1147afe2.js"><link rel="prefetch" href="/assets/js/247.59ec4d79.js"><link rel="prefetch" href="/assets/js/248.914f190c.js"><link rel="prefetch" href="/assets/js/249.f0f661ca.js"><link rel="prefetch" href="/assets/js/25.4e0440c0.js"><link rel="prefetch" href="/assets/js/250.8b930630.js"><link rel="prefetch" href="/assets/js/251.3fa335ee.js"><link rel="prefetch" href="/assets/js/252.06fe894a.js"><link rel="prefetch" href="/assets/js/253.1f7854e7.js"><link rel="prefetch" href="/assets/js/254.35f049f5.js"><link rel="prefetch" href="/assets/js/255.bffe6743.js"><link rel="prefetch" href="/assets/js/256.4432762f.js"><link rel="prefetch" href="/assets/js/257.c02f093d.js"><link rel="prefetch" href="/assets/js/258.5570124a.js"><link rel="prefetch" href="/assets/js/259.7f6d5e87.js"><link rel="prefetch" href="/assets/js/26.2618398c.js"><link rel="prefetch" href="/assets/js/260.6a0d907f.js"><link rel="prefetch" href="/assets/js/261.9ce8c95b.js"><link rel="prefetch" href="/assets/js/262.2810307c.js"><link rel="prefetch" href="/assets/js/263.5b2cfe78.js"><link rel="prefetch" href="/assets/js/264.93ce860e.js"><link rel="prefetch" href="/assets/js/265.83e63480.js"><link rel="prefetch" href="/assets/js/266.0ee997a4.js"><link rel="prefetch" href="/assets/js/267.8cdfe26c.js"><link rel="prefetch" href="/assets/js/268.4e25e950.js"><link rel="prefetch" href="/assets/js/269.34f5ad49.js"><link rel="prefetch" href="/assets/js/27.9cc3894d.js"><link rel="prefetch" href="/assets/js/270.eb5ab00f.js"><link rel="prefetch" href="/assets/js/271.0a362abb.js"><link rel="prefetch" href="/assets/js/272.701ff132.js"><link rel="prefetch" href="/assets/js/273.655810ee.js"><link rel="prefetch" href="/assets/js/274.4e8284e0.js"><link rel="prefetch" href="/assets/js/275.8f5bd360.js"><link rel="prefetch" href="/assets/js/276.de076c53.js"><link rel="prefetch" href="/assets/js/277.ccc8916a.js"><link rel="prefetch" href="/assets/js/278.d5ef420d.js"><link rel="prefetch" href="/assets/js/279.4c96820d.js"><link rel="prefetch" href="/assets/js/28.90f4973e.js"><link rel="prefetch" href="/assets/js/280.a02bd9ac.js"><link rel="prefetch" href="/assets/js/281.b471b9fb.js"><link rel="prefetch" href="/assets/js/282.3f488f9f.js"><link rel="prefetch" href="/assets/js/283.ba9598a8.js"><link rel="prefetch" href="/assets/js/284.eb5ba3b1.js"><link rel="prefetch" href="/assets/js/285.74a88b1d.js"><link rel="prefetch" href="/assets/js/286.dd2227d1.js"><link rel="prefetch" href="/assets/js/287.e90ba4e9.js"><link rel="prefetch" href="/assets/js/288.e2ab081a.js"><link rel="prefetch" href="/assets/js/289.73b4ada5.js"><link rel="prefetch" href="/assets/js/29.bc2d5c22.js"><link rel="prefetch" href="/assets/js/290.0cf03e44.js"><link rel="prefetch" href="/assets/js/291.d7dda656.js"><link rel="prefetch" href="/assets/js/292.98451f7d.js"><link rel="prefetch" href="/assets/js/293.4cfecbe1.js"><link rel="prefetch" href="/assets/js/294.e64bbe8d.js"><link rel="prefetch" href="/assets/js/295.4c23766a.js"><link rel="prefetch" href="/assets/js/296.fb62ce27.js"><link rel="prefetch" href="/assets/js/297.1574cda6.js"><link rel="prefetch" href="/assets/js/298.27914fcc.js"><link rel="prefetch" href="/assets/js/299.cd7b6e0a.js"><link rel="prefetch" href="/assets/js/3.838ce51e.js"><link rel="prefetch" href="/assets/js/30.1c9d726d.js"><link rel="prefetch" href="/assets/js/300.3e9d9d95.js"><link rel="prefetch" href="/assets/js/301.61887c77.js"><link rel="prefetch" href="/assets/js/302.d29ddebc.js"><link rel="prefetch" href="/assets/js/303.0240ed36.js"><link rel="prefetch" href="/assets/js/304.d0ae0e00.js"><link rel="prefetch" href="/assets/js/305.8b292f53.js"><link rel="prefetch" href="/assets/js/306.7d1ae271.js"><link rel="prefetch" href="/assets/js/307.6b2547cf.js"><link rel="prefetch" href="/assets/js/308.21ee0282.js"><link rel="prefetch" href="/assets/js/309.4cbb5c5f.js"><link rel="prefetch" href="/assets/js/31.68a9fef2.js"><link rel="prefetch" href="/assets/js/310.2fe9144b.js"><link rel="prefetch" href="/assets/js/311.4a85cbf4.js"><link rel="prefetch" href="/assets/js/312.9d258bb4.js"><link rel="prefetch" href="/assets/js/313.fccd3c68.js"><link rel="prefetch" href="/assets/js/314.5ec72251.js"><link rel="prefetch" href="/assets/js/315.7a5d0bfa.js"><link rel="prefetch" href="/assets/js/316.5321f12e.js"><link rel="prefetch" href="/assets/js/317.fcfaa441.js"><link rel="prefetch" href="/assets/js/318.cdd67d4c.js"><link rel="prefetch" href="/assets/js/319.81c19e98.js"><link rel="prefetch" href="/assets/js/32.342e047c.js"><link rel="prefetch" href="/assets/js/320.e40f26b3.js"><link rel="prefetch" href="/assets/js/321.1246fd21.js"><link rel="prefetch" href="/assets/js/322.84bc2a67.js"><link rel="prefetch" href="/assets/js/323.bad54310.js"><link rel="prefetch" href="/assets/js/324.9832c25f.js"><link rel="prefetch" href="/assets/js/325.b2998b9f.js"><link rel="prefetch" href="/assets/js/326.39290485.js"><link rel="prefetch" href="/assets/js/327.bd8f01a1.js"><link rel="prefetch" href="/assets/js/328.ea5f780f.js"><link rel="prefetch" href="/assets/js/329.9869d83f.js"><link rel="prefetch" href="/assets/js/33.47d99fb2.js"><link rel="prefetch" href="/assets/js/330.5330d1ac.js"><link rel="prefetch" href="/assets/js/331.d48970fa.js"><link rel="prefetch" href="/assets/js/332.0b2f64f1.js"><link rel="prefetch" href="/assets/js/333.9b9027d0.js"><link rel="prefetch" href="/assets/js/334.0d64b091.js"><link rel="prefetch" href="/assets/js/335.13fec6e4.js"><link rel="prefetch" href="/assets/js/336.de49d488.js"><link rel="prefetch" href="/assets/js/337.f846e2cf.js"><link rel="prefetch" href="/assets/js/338.b2dc0624.js"><link rel="prefetch" href="/assets/js/339.2ed610bb.js"><link rel="prefetch" href="/assets/js/34.0cebd481.js"><link rel="prefetch" href="/assets/js/340.7677c249.js"><link rel="prefetch" href="/assets/js/341.4573126b.js"><link rel="prefetch" href="/assets/js/342.a66e4e99.js"><link rel="prefetch" href="/assets/js/343.815ce598.js"><link rel="prefetch" href="/assets/js/344.571d5962.js"><link rel="prefetch" href="/assets/js/345.846f9b26.js"><link rel="prefetch" href="/assets/js/346.450d0f7d.js"><link rel="prefetch" href="/assets/js/347.b64ec015.js"><link rel="prefetch" href="/assets/js/348.9109ac05.js"><link rel="prefetch" href="/assets/js/349.350829a7.js"><link rel="prefetch" href="/assets/js/35.b72343f2.js"><link rel="prefetch" href="/assets/js/350.a3a88bb1.js"><link rel="prefetch" href="/assets/js/351.58afaa7d.js"><link rel="prefetch" href="/assets/js/352.c78e9339.js"><link rel="prefetch" href="/assets/js/353.311e81d3.js"><link rel="prefetch" href="/assets/js/354.42c22028.js"><link rel="prefetch" href="/assets/js/355.3b1b91ee.js"><link rel="prefetch" href="/assets/js/356.292da66c.js"><link rel="prefetch" href="/assets/js/357.f7040fa3.js"><link rel="prefetch" href="/assets/js/358.e7a85ff2.js"><link rel="prefetch" href="/assets/js/359.53998cd2.js"><link rel="prefetch" href="/assets/js/36.6190c4db.js"><link rel="prefetch" href="/assets/js/360.bff2a420.js"><link rel="prefetch" href="/assets/js/361.c4c0859a.js"><link rel="prefetch" href="/assets/js/362.cd6efe10.js"><link rel="prefetch" href="/assets/js/363.21db40c1.js"><link rel="prefetch" href="/assets/js/364.b9bb5010.js"><link rel="prefetch" href="/assets/js/365.4d020d5c.js"><link rel="prefetch" href="/assets/js/366.11fddd14.js"><link rel="prefetch" href="/assets/js/367.cc42b5dc.js"><link rel="prefetch" href="/assets/js/368.13fb35b4.js"><link rel="prefetch" href="/assets/js/369.b42ed5ac.js"><link rel="prefetch" href="/assets/js/37.eaf71033.js"><link rel="prefetch" href="/assets/js/370.51495868.js"><link rel="prefetch" href="/assets/js/371.61b3aad0.js"><link rel="prefetch" href="/assets/js/372.9eca8db2.js"><link rel="prefetch" href="/assets/js/373.87b1c813.js"><link rel="prefetch" href="/assets/js/374.c1015de0.js"><link rel="prefetch" href="/assets/js/375.75d184fc.js"><link rel="prefetch" href="/assets/js/376.98e2d5d4.js"><link rel="prefetch" href="/assets/js/377.7f0df6fa.js"><link rel="prefetch" href="/assets/js/378.997bc032.js"><link rel="prefetch" href="/assets/js/379.7ab312b3.js"><link rel="prefetch" href="/assets/js/38.21cb2f6e.js"><link rel="prefetch" href="/assets/js/380.b7ad699a.js"><link rel="prefetch" href="/assets/js/381.e4d50469.js"><link rel="prefetch" href="/assets/js/382.e5dfeae3.js"><link rel="prefetch" href="/assets/js/383.b63ee573.js"><link rel="prefetch" href="/assets/js/39.892cfc5b.js"><link rel="prefetch" href="/assets/js/40.2a8e76b5.js"><link rel="prefetch" href="/assets/js/41.200f6e1a.js"><link rel="prefetch" href="/assets/js/42.dbd15eb8.js"><link rel="prefetch" href="/assets/js/43.60175c43.js"><link rel="prefetch" href="/assets/js/45.34a88da0.js"><link rel="prefetch" href="/assets/js/46.04365371.js"><link rel="prefetch" href="/assets/js/47.07718abe.js"><link rel="prefetch" href="/assets/js/48.8114a3d1.js"><link rel="prefetch" href="/assets/js/49.26b296ba.js"><link rel="prefetch" href="/assets/js/5.0b9e0db1.js"><link rel="prefetch" href="/assets/js/50.1b377a27.js"><link rel="prefetch" href="/assets/js/51.ae28aa62.js"><link rel="prefetch" href="/assets/js/52.61bca834.js"><link rel="prefetch" href="/assets/js/53.1e8eb8f2.js"><link rel="prefetch" href="/assets/js/54.bc31052e.js"><link rel="prefetch" href="/assets/js/55.b9f26b08.js"><link rel="prefetch" href="/assets/js/56.5606d8d3.js"><link rel="prefetch" href="/assets/js/57.914aec87.js"><link rel="prefetch" href="/assets/js/58.14e0df80.js"><link rel="prefetch" href="/assets/js/59.5e21ad6f.js"><link rel="prefetch" href="/assets/js/6.aa91e071.js"><link rel="prefetch" href="/assets/js/60.9005d90b.js"><link rel="prefetch" href="/assets/js/61.2d695f98.js"><link rel="prefetch" href="/assets/js/62.d7947926.js"><link rel="prefetch" href="/assets/js/63.31b74be4.js"><link rel="prefetch" href="/assets/js/64.e13b7978.js"><link rel="prefetch" href="/assets/js/65.f696408f.js"><link rel="prefetch" href="/assets/js/66.c3d02cd2.js"><link rel="prefetch" href="/assets/js/67.0a427895.js"><link rel="prefetch" href="/assets/js/68.4b09a2bc.js"><link rel="prefetch" href="/assets/js/69.1cfb4684.js"><link rel="prefetch" href="/assets/js/7.bb9dbdfe.js"><link rel="prefetch" href="/assets/js/70.99b2d3b3.js"><link rel="prefetch" href="/assets/js/71.a4349dcf.js"><link rel="prefetch" href="/assets/js/72.5bb211d7.js"><link rel="prefetch" href="/assets/js/73.46feb7ec.js"><link rel="prefetch" href="/assets/js/74.aef7ee87.js"><link rel="prefetch" href="/assets/js/75.468d1b87.js"><link rel="prefetch" href="/assets/js/76.9930bd38.js"><link rel="prefetch" href="/assets/js/77.145d68e4.js"><link rel="prefetch" href="/assets/js/78.7054ab23.js"><link rel="prefetch" href="/assets/js/79.f8bb1231.js"><link rel="prefetch" href="/assets/js/8.d5bbd7c3.js"><link rel="prefetch" href="/assets/js/80.32f8a96b.js"><link rel="prefetch" href="/assets/js/81.e1f7ad2d.js"><link rel="prefetch" href="/assets/js/82.324ce829.js"><link rel="prefetch" href="/assets/js/83.e4f97fe7.js"><link rel="prefetch" href="/assets/js/84.def359db.js"><link rel="prefetch" href="/assets/js/85.d885815f.js"><link rel="prefetch" href="/assets/js/86.1650a934.js"><link rel="prefetch" href="/assets/js/87.fcd08378.js"><link rel="prefetch" href="/assets/js/88.a0bea44a.js"><link rel="prefetch" href="/assets/js/89.977f9db9.js"><link rel="prefetch" href="/assets/js/9.224fc60e.js"><link rel="prefetch" href="/assets/js/90.fd7cdfc9.js"><link rel="prefetch" href="/assets/js/91.02f6377d.js"><link rel="prefetch" href="/assets/js/92.6123d0f1.js"><link rel="prefetch" href="/assets/js/93.d8c773c2.js"><link rel="prefetch" href="/assets/js/94.73deeae7.js"><link rel="prefetch" href="/assets/js/95.4c0c3c23.js"><link rel="prefetch" href="/assets/js/96.c845ef81.js"><link rel="prefetch" href="/assets/js/97.e682d1b9.js"><link rel="prefetch" href="/assets/js/98.5c4eea5b.js"><link rel="prefetch" href="/assets/js/99.6449110e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1731dfdc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Oaker小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/javascript/concept.html" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/web/html.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/frameworks/vue.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  框架
</a></div><div class="nav-item"><a href="/node/concept.html" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/tools/markdown.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/cyio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/javascript/concept.html" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/web/html.html" class="nav-link">
  Web
</a></div><div class="nav-item"><a href="/frameworks/vue.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  框架
</a></div><div class="nav-item"><a href="/node/concept.html" class="nav-link">
  Node
</a></div><div class="nav-item"><a href="/tools/markdown.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://github.com/cyio" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>frameworks</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frameworks/ajax-http-request-libray.html" class="sidebar-link">ajax/http 请求库、工具</a></li><li><a href="/frameworks/bootstrap.html" class="sidebar-link">Bootstrap</a></li><li><a href="/frameworks/cropperjs.html" class="sidebar-link">cropperjs</a></li><li><a href="/frameworks/date-fns.html" class="sidebar-link">date-fns</a></li><li><a href="/frameworks/element-ui.html" class="sidebar-link">element-ui</a></li><li><a href="/frameworks/flutter.html" class="sidebar-link">Flutter</a></li><li><a href="/frameworks/mobx.html" class="sidebar-link">Mobx</a></li><li><a href="/frameworks/next.html" class="sidebar-link">Next</a></li><li><a href="/frameworks/react-issues.html" class="sidebar-link">react issues</a></li><li><a href="/frameworks/react-native.html" class="sidebar-link">React Native</a></li><li><a href="/frameworks/react.html" class="sidebar-link">React</a></li><li><a href="/frameworks/redux.html" class="sidebar-link">Redux</a></li><li><a href="/frameworks/svelte.html" class="sidebar-link">Svelte</a></li><li><a href="/frameworks/swiper.html" class="sidebar-link">Swiper</a></li><li><a href="/frameworks/vue-components.html" class="sidebar-link">vue-components</a></li><li><a href="/frameworks/vue-router.html" class="sidebar-link">vue-router</a></li><li><a href="/frameworks/vue.html" aria-current="page" class="active sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frameworks/vue.html#mvvm" class="sidebar-link">MVVM</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#与-react-比较-3-1" class="sidebar-link">与 React 比较 3+1</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#双向绑定" class="sidebar-link">双向绑定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frameworks/vue.html#proxy-对比-defineproperty" class="sidebar-link">proxy 对比 defineProperty</a></li></ul></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vue-2" class="sidebar-link">Vue 2</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vue-jsx" class="sidebar-link">Vue-JSX</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#学习参考" class="sidebar-link">学习参考</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#过滤器-filter" class="sidebar-link">过滤器 - filter</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vue-cli-webpack-打包" class="sidebar-link">vue-cli webpack 打包</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#单文件拆分" class="sidebar-link">单文件拆分</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#mixin" class="sidebar-link">mixin</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#组件切换数据问题-v-if-和-v-show" class="sidebar-link">组件切换数据问题 v-if 和 v-show</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#动态样式" class="sidebar-link">动态样式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frameworks/vue.html#设置当视口变化时-元素总是垂直居中" class="sidebar-link">设置当视口变化时，元素总是垂直居中</a></li></ul></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#大小写" class="sidebar-link">大小写</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#函数式" class="sidebar-link">函数式</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#debug-模板" class="sidebar-link">debug 模板</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#eventbus-全局事件总线" class="sidebar-link">eventBus 全局事件总线</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#生命周期-2" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#热重载" class="sidebar-link">热重载</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vue-组件的-data-为啥非要是函数" class="sidebar-link">vue 组件的 data 为啥非要是函数？</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#watch" class="sidebar-link">watch</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#nexttick" class="sidebar-link">nextTick</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#异步组件" class="sidebar-link">异步组件</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#mock" class="sidebar-link">mock</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#computed-vs-watch" class="sidebar-link">computed vs watch</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vnode" class="sidebar-link">vnode</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#指令" class="sidebar-link">指令</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#响应式" class="sidebar-link">响应式</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#其它" class="sidebar-link">其它</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#父组件和子组件生命周期钩子执行顺序" class="sidebar-link">父组件和子组件生命周期钩子执行顺序</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#v-model-原理" class="sidebar-link">v-model 原理</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#key-的作用" class="sidebar-link">key 的作用</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#diff-算法" class="sidebar-link">diff 算法</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#异步更新队列" class="sidebar-link">异步更新队列</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#vue-3-迁移指南" class="sidebar-link">Vue 3 迁移指南</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frameworks/vue.html#v-model-支持多个" class="sidebar-link">v-model 支持多个</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#v-if-v-for-同时应用" class="sidebar-link">v-if v-for 同时应用</a></li></ul></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#简单状态管理" class="sidebar-link">简单状态管理</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#源码" class="sidebar-link">源码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frameworks/vue.html#v0-7-0-最低版本" class="sidebar-link">v0.7.0 最低版本？</a></li></ul></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#全局组件、插件" class="sidebar-link">全局组件、插件</a></li><li class="sidebar-sub-header"><a href="/frameworks/vue.html#无渲染组件" class="sidebar-link">无渲染组件</a></li></ul></li><li><a href="/frameworks/vue2-source-code.html" class="sidebar-link">Vue 源码学习</a></li><li><a href="/frameworks/vue3-source-code.html" class="sidebar-link">Vue 3 源码学习</a></li><li><a href="/frameworks/vue3.html" class="sidebar-link">Vue 3</a></li><li><a href="/frameworks/vuejs-issues.html" class="sidebar-link">vue-issues</a></li><li><a href="/frameworks/vuex.html" class="sidebar-link">Vuex</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h1> <p></p><div class="table-of-contents"><ul><li><a href="#mvvm">MVVM</a></li><li><a href="#与-react-比较-3-1">与 React 比较 3+1</a></li><li><a href="#双向绑定">双向绑定</a><ul><li><a href="#proxy-对比-defineproperty">proxy 对比 defineProperty</a></li></ul></li><li><a href="#vue-2">Vue 2</a></li><li><a href="#vue-jsx">Vue-JSX</a></li><li><a href="#学习参考">学习参考</a></li><li><a href="#过滤器-filter">过滤器 - filter</a></li><li><a href="#vue-cli-webpack-打包">vue-cli webpack 打包</a></li><li><a href="#单文件拆分">单文件拆分</a></li><li><a href="#mixin">mixin</a></li><li><a href="#组件切换数据问题-v-if-和-v-show">组件切换数据问题 v-if 和 v-show</a></li><li><a href="#动态样式">动态样式</a><ul><li><a href="#设置当视口变化时-元素总是垂直居中">设置当视口变化时，元素总是垂直居中</a></li></ul></li><li><a href="#生命周期">生命周期</a></li><li><a href="#大小写">大小写</a></li><li><a href="#函数式">函数式</a></li><li><a href="#props">props</a></li><li><a href="#debug-模板">debug 模板</a></li><li><a href="#eventbus-全局事件总线">eventBus 全局事件总线</a></li><li><a href="#生命周期">生命周期</a></li><li><a href="#热重载">热重载</a></li><li><a href="#vue-组件的-data-为啥非要是函数">vue 组件的 data 为啥非要是函数？</a></li><li><a href="#watch">watch</a></li><li><a href="#nexttick">nextTick</a></li><li><a href="#异步组件">异步组件</a></li><li><a href="#mock">mock</a></li><li><a href="#computed-vs-watch">computed vs watch</a></li><li><a href="#vnode">vnode</a></li><li><a href="#指令">指令</a></li><li><a href="#响应式">响应式</a></li><li><a href="#其它">其它</a></li><li><a href="#父组件和子组件生命周期钩子执行顺序">父组件和子组件生命周期钩子执行顺序</a></li><li><a href="#v-model-原理">v-model 原理</a></li><li><a href="#key-的作用">key 的作用</a></li><li><a href="#diff-算法">diff 算法</a></li><li><a href="#异步更新队列">异步更新队列</a></li><li><a href="#vue-3-迁移指南">Vue 3 迁移指南</a><ul><li><a href="#v-model-支持多个">v-model 支持多个</a></li><li><a href="#v-if-v-for-同时应用">v-if v-for 同时应用</a></li></ul></li><li><a href="#简单状态管理">简单状态管理</a></li><li><a href="#源码">源码</a><ul><li><a href="#v0-7-0-最低版本">v0.7.0 最低版本？</a></li></ul></li><li><a href="#全局组件、插件">全局组件、插件</a></li><li><a href="#无渲染组件">无渲染组件</a></li></ul></div><p></p> <h2 id="mvvm"><a href="#mvvm" class="header-anchor">#</a> MVVM</h2> <p>Model-View-ViewModel</p> <h2 id="与-react-比较-3-1"><a href="#与-react-比较-3-1" class="header-anchor">#</a> 与 React 比较 3+1</h2> <ul><li>相同点：
<ul><li>VirtualDOM 性能好</li> <li>单向数据流
<ul><li>单向数据流中的单向：数据从父组件到子组件这个流向叫单向。</li> <li>绑定的单双向：View 层与 Model 层之间的映射关系。</li></ul></li> <li>组件化开发</li></ul></li> <li>不同点：
<ul><li><p>vue 拥抱经典 Web，react 完全用 JS</p></li> <li><p>获知变化：vue 自动，收集依赖、精确更新，默认优化，react 显式 setState，递归更新</p></li> <li><p>vue 双向绑定，react 单向绑定</p></li> <li><p>生态，RN，Weex</p> <blockquote><p>单向绑定使得数据流也是单向的，对于复杂应用来说，这是实施统一的状态管理（如 redux）的前提。双向绑定在一些需要实时反应用户输入的场合
会非常方便（比如多级联动菜单）。但通常认为复杂应用中这种便利比不上引入状态管理带来的优势。注意，Vue 虽然通过 v-model 支持双向绑定，
但是如果引入了类似 redux 的 vuex，就无法同时使用 v-model。参见<a href="https://github.com/vuejs/vuex/blob/master/docs/zh-cn/forms.md" target="_blank" rel="noopener noreferrer">vuex/forms.md at master · vuejs/vuex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
通常一个绑定一个数据就需要一个Watcher，一但我们的绑定细粒度过高就会产生大量的Watcher,这会带来内存以及依赖追踪的开销</p></blockquote></li></ul></li></ul> <p><a href="https://cn.vuejs.org/v2/guide/comparison.html#React" target="_blank" rel="noopener noreferrer">对比其他框架 — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://developer.51cto.com/art/201907/599732.htm" target="_blank" rel="noopener noreferrer">前端：Vue和React的优点分别是什么？两者的最核心差异对比是什么？ - 51CTO.COM<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://blog.csdn.net/qq_41206257/article/details/80992085" target="_blank" rel="noopener noreferrer">React 的单向数据流与 Vue 的双向绑定 - CSDN 博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.cnblogs.com/wangxi01/p/11589938.html" target="_blank" rel="noopener noreferrer">你是如何理解Vue的响应式系统的 - 来亦何哀 - 博客园<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="双向绑定"><a href="#双向绑定" class="header-anchor">#</a> 双向绑定</h2> <p>data -&gt; Watcher -&gt; compile</p> <p>采用数据劫持结合发布者-订阅者模式的方式，通过<code>Object.defineProperty()</code>来劫持各个数据属性的<code>setter/getter</code>，在数据变动时发布消息给订阅者，触发相应的监听回调。
具体步骤：</p> <p>第一步：需要 observe 的数据对象进行递归遍历，包括子属性对象的属性，都加上 setter 和 getter
这样的话，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了数据变化</p> <p>第二步：compile 解析模板指令，将模板中的变量替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，更新视图</p> <p>第三步：Watcher 侦听者是 Observer 和 Compile 之间通信的桥梁，主要做的事情是:
1、在自身实例化时往属性订阅器(dep)里面添加自己
2、自身必须有一个 update()方法
3、待属性变动 dep.notice() 通知时，能调用自身的 update() 方法，并触发 Compile 中绑定的回调，则功成身退。</p> <p>第四步：MVVM 作为数据绑定的入口，整合 Observer、Compile 和 Watcher 三者，通过 Observer 来监听自己的 model 数据变化，通过 Compile 来解析编译模板指令，最终利用 Watcher 搭起 Observer 和 Compile 之间的通信桥梁，达到数据变化 -&gt; 视图更新；视图交互变化(input) -&gt; 数据 model 变更的双向绑定效果。</p> <p><a href="https://cn.vuejs.org/v2/guide/reactivity.html" target="_blank" rel="noopener noreferrer">深入响应式原理 — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://codepen.io/cyio/pen/aaboyQ?editors=0010" target="_blank" rel="noopener noreferrer">仿 Vue 极简双向绑定<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://www.infoq.com/cn/articles/Vue.js-code" target="_blank" rel="noopener noreferrer">Vue.js 源码解析：深入响应式原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://gomakethings.com/how-i-built-my-own-vanilla-js-alternative-to-vue-and-react/" target="_blank" rel="noopener noreferrer">How I built my own vanilla JS alternative to Vue and React | Go Make Things<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="proxy-对比-defineproperty"><a href="#proxy-对比-defineproperty" class="header-anchor">#</a> proxy 对比 defineProperty</h3> <ul><li>代理，而非劫持</li> <li>监听整个对象变化，不再是某个属性（性能）</li> <li>支持数组变更，不再 hack</li> <li>返回新对象，不再遍历修改</li> <li>兼容性：chrome 49+，不支持 IE</li></ul> <p><a href="https://juejin.im/post/6844903601416978439" target="_blank" rel="noopener noreferrer">面试官: 实现双向绑定Proxy比defineproperty优劣如何? - 掘金<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="vue-2"><a href="#vue-2" class="header-anchor">#</a> Vue 2</h2> <ul><li><p>只有当实例被创建时 data 中存在的属性才是响应式的</p></li> <li><p><s>ready -&gt; mounted</s></p></li> <li><p>对 dom 没依赖的操作可放到 created 中，如数据请求</p></li> <li><p>学习框架，官方的 examples 一定要 clone 下来看源码，这是对框架特性最好的学习资料</p></li> <li><p>要保证文档加载或更新后才执行，需 nextTick</p></li> <li><p>transition 成组件，应用范围更广，类名变化</p></li> <li><p>loader 升级 <code>npm install browser-sync postcss postcss-cssnext postcss-import postcss-nested postcss-pxtorem pug vux vuex weixin-js-sdk--save-dev --cache-min 0</code></p></li> <li><p>单向数据流，不允许直接修改 props，不要在子组件内部直接修改 props，而需要 emit 事件通知父组件修改</p></li> <li><p>vue 组件通信 单向 父传子用 props 子传父用事件 emit =&gt; on，理解为观察者模式就好了，子组件广播一个事件，然后父组件订阅事件，也可以 watch props</p></li> <li><p>非父子之间，用 event hub ，即创建一个全局的空 vue 线程，专门处理事件，触发，监听，卸载</p> <ul><li><a href="https://github.com/cklmercer/vue-events" target="_blank" rel="noopener noreferrer">cklmercer/vue-events: Simple event handling for Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li><p>复杂应用 =&gt; vuex</p></li></ul> <p>js 原生通信机制，事件</p> <p>@click.native</p> <p>Understanding Components Communication in Vue 2.0 http://taha-sh.com/blog/understanding-components-communication-in-vue-20</p> <h2 id="vue-jsx"><a href="#vue-jsx" class="header-anchor">#</a> Vue-JSX</h2> <ul><li><p>不支持 v-model
<a href="https://github.com/nickmessing/babel-plugin-jsx-v-model" target="_blank" rel="noopener noreferrer">nickmessing/babel-plugin-jsx-v-model: JSX Syntactic Sugar Plugin for v-model<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>slot
<a href="https://github.com/vuejs/babel-plugin-transform-vue-jsx/issues/19#issuecomment-313997180" target="_blank" rel="noopener noreferrer">Supported slot from Component's inside? · Issue #19 · vuejs/babel-plugin-transform-vue-jsx<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal-container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  {this.$slots.default.length
    ? this.$slots.default[0]
    : <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Your content here<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 vue 里 querySelectorAll 取不到 nodeList
用其它方法取到的是 HTMLcollection，比较特殊，不能直接当数组处理
ES6 提供的了转化方法 Array.from(HTMLcollection)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> inputs <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> body <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span>
Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>inputs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
inputs<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'focus'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
inputs<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'blur'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'static'</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="学习参考"><a href="#学习参考" class="header-anchor">#</a> 学习参考</h2> <p><a href="https://aotu.io/notes/2017/07/17/The-Exploration-and-Practice-of-Vue/" target="_blank" rel="noopener noreferrer">Vue 探索与实践 | Aotu.io「凹凸实验室」<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="过滤器-filter"><a href="#过滤器-filter" class="header-anchor">#</a> 过滤器 - filter</h2> <ul><li>2.x 起，不能在指令中使用，改用 JS 原生 filter，写成计算属性</li> <li>2.x 起，传参数由原来空格变成括号，即普通函数调用形式</li> <li>不像其它方法会转换数据，只是输出给用户看的变了</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//global</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'filterName'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token comment">// thing to transform</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//locally, like methods or computed</span>
filters<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">filterName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token comment">// thing to transform</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>可以串联</li> <li>可以传多个参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> data <span class="token operator">|</span> <span class="token function">filterName</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">// arguments are passed in order after the value</span>
filters<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token function">filterName</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token comment">//thing to transform</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>每次更新都会执行，如果有大量数据且应该是缓存，用 computed</li></ul> <p><a href="https://jsfiddle.net/nw5yhLwv/" target="_blank" rel="noopener noreferrer">Edit fiddle - JSFiddle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="vue-cli-webpack-打包"><a href="#vue-cli-webpack-打包" class="header-anchor">#</a> vue-cli webpack 打包</h2> <div class="language- extra-class"><pre class="language-text"><code>app.js/main.js 页面入口
chunck-vender.js vue 框架、模块
chunck-common.js
manifest 异步、script 动态引入
</code></pre></div><p><a href="https://www.jianshu.com/p/5a543a0284f6" target="_blank" rel="noopener noreferrer">webpack 使用 CommonsChunkPlugin 拆包心得 - 简书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://lmiller1990.github.io/electic/posts/splitting_bundles_with_webpack_4.html" target="_blank" rel="noopener noreferrer">Splitting Bundles with Webpack 4<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk" target="_blank" rel="noopener noreferrer">webpack/examples/common-chunk-and-vendor-chunk at master · webpack/webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://webpack.js.org/plugins/split-chunks-plugin/" target="_blank" rel="noopener noreferrer">SplitChunksPlugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
查看完整配置<code>./node_modules/.bin/vue-cli-service inspect</code>
偶然编译出错，尝试删除<code>node_modules/.cache</code></p> <h2 id="单文件拆分"><a href="#单文件拆分" class="header-anchor">#</a> 单文件拆分</h2> <div class="language- extra-class"><pre class="language-text"><code>&lt;template src=&quot;./template.pug&quot; lang=&quot;pug&quot;&gt;&lt;/template&gt;
&lt;script src=&quot;./script.js&quot;&gt;&lt;/script&gt;
&lt;style src=&quot;./style.styl&quot; lang=&quot;stylus&quot;&gt;&lt;/style&gt;
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>├── app.js
└── component
    ├── item-edit
    └── item-list
        ├── config.json
        ├── index.vue
        ├── script.js
        ├── style.styl
        └── template.pug
</code></pre></div><h2 id="mixin"><a href="#mixin" class="header-anchor">#</a> mixin</h2> <ul><li>把组件逻辑暴露在 mixin 中</li> <li>有些耦合度高的数据不适用</li> <li>可以是局部，可以是全局</li> <li>生命周期钩子中的代码会合并到组件对应生命周期中</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 设为全局</span>
Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello from mixin!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// This console.log would now appear in every component</span>
</code></pre></div><ul><li>pure</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> toggle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      isShowing<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">toggleShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isShowing <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShowing
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> toggle <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      isShowing<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">toggleShow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>isShowing <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isShowing
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://juejin.im/post/5ab3924b6fb9a028db589b57" target="_blank" rel="noopener noreferrer">Vue 文档中几个易忽视部分的剖析 - 掘金<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="组件切换数据问题-v-if-和-v-show"><a href="#组件切换数据问题-v-if-和-v-show" class="header-anchor">#</a> 组件切换数据问题 v-if 和 v-show</h2> <p>如果用<code>v-show</code>的话，<code>mounted</code>只执行一次，如果希望组件显示时执行，简单解决是改用<code>v-if</code>，比较复杂的方法如下：
<a href="https://stackoverflow.com/questions/42813594/trigger-code-on-component-v-show-true" target="_blank" rel="noopener noreferrer">vue.js - Trigger code on component v-show=true - Stack Overflow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="动态样式"><a href="#动态样式" class="header-anchor">#</a> 动态样式</h2> <p>可以绑定计算属性
<a href="https://jsfiddle.net/Andy0708/8t8902gn/1/?utm_source=website&amp;utm_medium=embed&amp;utm_campaign=8t8902gn" target="_blank" rel="noopener noreferrer">Edit fiddle - JSFiddle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="设置当视口变化时-元素总是垂直居中"><a href="#设置当视口变化时-元素总是垂直居中" class="header-anchor">#</a> 设置当视口变化时，元素总是垂直居中</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span><span class="token function">container</span><span class="token punctuation">(</span><span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;alignStyle&quot;</span><span class="token punctuation">)</span>

  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      cHeight<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">alignStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        marginTop<span class="token operator">:</span> Number<span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>cHeight <span class="token operator">-</span> <span class="token number">576</span> <span class="token operator">-</span> <span class="token number">56</span> <span class="token operator">-</span> <span class="token number">44</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cHeight <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>clientHeight
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <ul><li><code>beforeDestory</code>不会在窗口 refresh 或 close 时触发，一般用在路由切换<div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onbeforeunload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'haha'</span><span class="token punctuation">)</span> <span class="token comment">// 要执行的代码</span>
  <span class="token keyword">return</span> <span class="token string">'确认离开页面'</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h2 id="大小写"><a href="#大小写" class="header-anchor">#</a> 大小写</h2> <p><a href="https://cn.vuejs.org/v2/guide/components-props.html#Prop-%25E7%259A%2584%25E5%25A4%25A7%25E5%25B0%258F%25E5%2586%2599-camelCase-vs-kebab-case" target="_blank" rel="noopener noreferrer">Prop — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="函数式"><a href="#函数式" class="header-anchor">#</a> 函数式</h2> <p>无状态，可以无 script，props.itemClick 与上级通信
<a href="https://codesandbox.io/s/rwxp7pnklo" target="_blank" rel="noopener noreferrer">Vue Template - CodeSandbox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="props"><a href="#props" class="header-anchor">#</a> props</h2> <ul><li>自定义验证，接受多种类型</li></ul> <div class="language- extra-class"><pre class="language-text"><code>validator: prop =&gt; typeof prop === 'number' || prop === null,
</code></pre></div><h2 id="debug-模板"><a href="#debug-模板" class="header-anchor">#</a> debug 模板</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$log <span class="token operator">=</span> console<span class="token punctuation">.</span>log

<span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    <span class="token function">$log</span><span class="token punctuation">(</span>messaage<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
  <span class="token punctuation">{</span>
    <span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">debugger</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://vuedose.tips/tips/debugging-templates-in-vue-js/" target="_blank" rel="noopener noreferrer">Debugging Templates in Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="eventbus-全局事件总线"><a href="#eventbus-全局事件总线" class="header-anchor">#</a> eventBus 全局事件总线</h2> <p>借用 Vue 内部实现了事件模型，其实也可以用第三方库</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//文件-&gt;event-bus.js</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> EventBus <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> EventBus <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./event-bus.js'</span>

EventBus<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'i-got-clicked'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clickCount<span class="token punctuation">)</span>

EventBus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'i-got-clicked'</span><span class="token punctuation">,</span> <span class="token parameter">clickCount</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Oh, that's nice. It's gotten </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>clickCount<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> clicks! :)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><a href="http://www.pilishen.com/posts/creating-a-global-event-bus-with-vuejs" target="_blank" rel="noopener noreferrer">使用 Vue.js 创建全局事件总线（Global Event Bus ）-pilishen.com,做全球最好的实战教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="生命周期-2"><a href="#生命周期-2" class="header-anchor">#</a> 生命周期</h2> <ul><li>CMUD + before</li> <li>子组件后销毁，先挂载</li></ul> <h2 id="热重载"><a href="#热重载" class="header-anchor">#</a> 热重载</h2> <ul><li>编辑<code>&lt;template&gt;</code>，重新渲染，保留私有状态</li> <li>编辑<code>&lt;script&gt;</code>，销毁重建，created/mounted 都会执行</li> <li>只有在使用<strong>路由</strong>的情况，created 有可能不触发，比如这个组件复用了、没销毁，也没编辑其<code>&lt;script&gt;</code>部分</li></ul> <h2 id="vue-组件的-data-为啥非要是函数"><a href="#vue-组件的-data-为啥非要是函数" class="header-anchor">#</a> vue 组件的 data 为啥非要是函数？</h2> <blockquote><p>因此每个实例可以维护一份被返回对象的独立的拷贝</p></blockquote> <ul><li>实例并不一定需要，官方示例、源码是可以写对象的（Vue 3 已不支持）</li> <li>组件是可复用的 Vue 实例，组件涉及<strong>数据隔离</strong>必须</li></ul> <h2 id="watch"><a href="#watch" class="header-anchor">#</a> watch</h2> <ul><li>watch 原始类型比较可靠</li> <li>array 不需要 deep</li> <li>可以 watch 一个 function</li> <li>容易滥用，watch 不应该用于改变其他状态，而只应该用于产生不触及状态的副作用</li> <li>开始时执行一次 <code>immediate: true</code></li> <li>object 属性必须在 data 对象上存在才能让 Vue 转换它(getter/setter)，这样才能让它是响应的。</li> <li>重新赋值可触发</li> <li>只 watch 需要的，否则可能有性能开销问题</li> <li><code>app.$watch</code>需要手动注销</li> <li>可以 watch array of objects?</li></ul> <p><a href="https://juejin.im/post/5ae91fa76fb9a07aa7677543" target="_blank" rel="noopener noreferrer">Vue.js 中 watch 的高级用法 - 掘金<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://michaelnthiessen.com/how-to-watch-nested-data-vue" target="_blank" rel="noopener noreferrer">How to Watch Deep Data Structures in Vue (Arrays and Objects) - Michael Thiessen<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="nexttick"><a href="#nexttick" class="header-anchor">#</a> nextTick</h2> <ul><li>DOM 更新后调用</li> <li>vue next DOM update cycle 用 promise/MutationObserver 微任务，如果没有可用的微任务特性，回退为宏任务，所以 vue 的 nextTick 是在 setTimeout 前执行</li> <li>比 setTimeout 执行更快，在浏览器 render 之前？</li> <li>node 一次事件循环叫 tick</li></ul> <div class="language- extra-class"><pre class="language-text"><code>process.nextTick(callback)
</code></pre></div><p><a href="https://stackoverflow.com/a/47636157/5657916" target="_blank" rel="noopener noreferrer">vue.js - What is nextTick or what does it do in VueJs - Stack Overflow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://segmentfault.com/a/1190000012861862" target="_blank" rel="noopener noreferrer">Vue.nextTick 的原理和用途 - SegmentFault 思否<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97" target="_blank" rel="noopener noreferrer">深入响应式原理 — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> copies <span class="token operator">=</span> callbacks<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 复制一个数组，操作不会影响原数组</span>
</code></pre></div><h2 id="异步组件"><a href="#异步组件" class="header-anchor">#</a> 异步组件</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Foo <span class="token keyword">from</span> <span class="token string">'./Foo.vue'</span> 
<span class="token comment">// after</span>
<span class="token keyword">const</span> <span class="token function-variable function">Foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./Foo.vue'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="mock"><a href="#mock" class="header-anchor">#</a> mock</h2> <ol><li>vue cli3 在 devServer 中添加 before</li> <li>添加自定义响应返回代码</li> <li>mockjs 增强 mock 能力，可选
<a href="https://www.jianshu.com/p/fea615354d10" target="_blank" rel="noopener noreferrer">Vue CLI 3 + webpack + Mockjs实现本地数据模拟 - 简书<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/essentials/mock-api.html#mockjs" target="_blank" rel="noopener noreferrer">Mock Data | vue-element-admin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://stackoverflow.com/questions/39436322/node-js-syntaxerror-unexpected-token-import" target="_blank" rel="noopener noreferrer">javascript - Node.js - SyntaxError: Unexpected token import - Stack Overflow<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://umijs.org/zh-CN/docs/mock" target="_blank" rel="noopener noreferrer">Mock 数据<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://babeljs.io/docs/en/next/babel-register.html" target="_blank" rel="noopener noreferrer">@babel/register · Babel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://github.com/umijs/umi/issues/246#issuecomment-375225156" target="_blank" rel="noopener noreferrer">UMI mock 开发中遇到的问题，已经处理的，在这里记录一下。给朋友们一个参考 · Issue #246 · umijs/umi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.bilibili.com/read/cv3663235/" target="_blank" rel="noopener noreferrer">30 道 Vue 面试题（涵盖入门到精通，自测 Vue 掌握程度） - 哔哩哔哩<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <p>Props向下传递，事件向上传递</p> <h2 id="computed-vs-watch"><a href="#computed-vs-watch" class="header-anchor">#</a> computed vs watch</h2> <ul><li>模板表达式不便于写复杂计算</li> <li>基于响应式依赖进行缓存，仅响应式依赖改变时才重新求值</li> <li>生成新值挂在 vm 上，而 watch 观测已存在的值</li> <li>依赖变化、且第一次访问时，计算新值，而 watch 数据变化就会执行？</li> <li>watch 可执行异步、高性能开销、设置执行频率、设置中间状态
<a href="https://juejin.cn/post/6844903678533451783" target="_blank" rel="noopener noreferrer">做面试的不倒翁：浅谈 Vue 中 computed 实现原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="vnode"><a href="#vnode" class="header-anchor">#</a> vnode</h2> <p>虚拟节点（节点描述）</p> <h2 id="指令"><a href="#指令" class="header-anchor">#</a> 指令</h2> <ul><li>作用：对 DOM 元素进行底层操作</li> <li>形式：<code>v-xx</code>，<code>v-for</code>是例外</li> <li>内置：v-model v-if v-show v-bind v-on v-html</li> <li>自定义：通过注册</li> <li>使用： <code>v-focus</code></li> <li>钩子：bind inserted</li></ul> <h2 id="响应式"><a href="#响应式" class="header-anchor">#</a> 响应式</h2> <p>问题表现：
有时操作数组或对象后，视图没有更新</p> <p>原因：有些操作，Vue 检测不到变化</p> <p>变化检测：</p> <ul><li>数组，通过方法操作如 push 可以检测，非方法不行，如索引赋值、改长度</li> <li>对象，需要访问来触发 getter/setter，非访问不行，检测不了增、删</li></ul> <p>解决：</p> <ul><li>Vue.set</li></ul> <h2 id="其它"><a href="#其它" class="header-anchor">#</a> 其它</h2> <p>slot 分发内容，占位替换</p> <p>动态组件<code>:is</code></p> <p>区分Vuex与props的使用边界
Vuex 业务组件，集中管理
props 公共组件，组件库</p> <p>路由ID变了，但组件没变？
使用beforeRouteUpdate</p> <p>在v-if/v-if-else/v-else中使用key
如果本不相同的元素被识别为相同，则会出现意料之外的副作用。</p> <h2 id="父组件和子组件生命周期钩子执行顺序"><a href="#父组件和子组件生命周期钩子执行顺序" class="header-anchor">#</a> 父组件和子组件生命周期钩子执行顺序</h2> <p>从外到内，再从内到外</p> <p>父组件创建，子组件创建、挂载，父组件挂载</p> <h2 id="v-model-原理"><a href="#v-model-原理" class="header-anchor">#</a> v-model 原理</h2> <p>父组件传 prop</p> <div class="language- extra-class"><pre class="language-text"><code>v -&gt; m
@input
v &lt;- m
watch $emit
</code></pre></div><h2 id="key-的作用"><a href="#key-的作用" class="header-anchor">#</a> key 的作用</h2> <blockquote><p>提示 diff 算法跟踪节点，何时重用、修补、重新排序、重新创建</p></blockquote> <ul><li>默认就地更新，只适用于不依赖子组件状态或临时 DOM 状态</li> <li>提示</li> <li>希望重用和排序
<a href="https://cn.vuejs.org/v2/guide/list.html#%25E7%25BB%25B4%25E6%258A%25A4%25E7%258A%25B6%25E6%2580%2581" target="_blank" rel="noopener noreferrer">列表渲染 — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>更新 id 导致 key 变化，重渲染，解决：<code>this.$vnode.key = newId;</code> <a href="https://medium.com/dailyjs/patching-the-vue-js-virtual-dom-the-need-the-explanation-and-the-solution-ba18e4ae385b" target="_blank" rel="noopener noreferrer">Patching the Vue.js Virtual DOM: The need, the explanation and the solution | by Michael Gallagher | DailyJS | Medium<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="diff-算法"><a href="#diff-算法" class="header-anchor">#</a> diff 算法</h2> <p>比较新旧 vnode 决定如何更新真实 DOM</p> <p>同层比较，深度优先</p> <ul><li>节点比较</li> <li>不同，替换，插入新 vnode，移除旧 vnode</li> <li>相同，子节点比较
<ol><li>子节点均是文本，更新文本</li> <li>同时有子节点 updateChildren
<ul><li>首先假设头尾节点可能相同做4次比对尝试，如果没有找到相同节点才按照通用方式遍历查找，查找结束再按情况处理剩下的节点</li> <li>借助 key 通常可以非常精确找到相同节点，因此整个 patch 过程非常高效</li></ul></li> <li>仅新 vnode 有子节点，创建</li> <li>仅旧 vnode 有子节点，删除</li></ol></li></ul> <p><a href="https://www.youtube.com/watch?v=ApNCeWNBVrk" target="_blank" rel="noopener noreferrer">【一】2020大厂前端面试题大汇总之Vue专题 - YouTube<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.bilibili.com/video/BV1Ph41117hq?from=search&amp;seid=10938259853265619770" target="_blank" rel="noopener noreferrer">Vue.js VirtualDOM diff 算法_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://blog.csdn.net/u010622874/article/details/108057093" target="_blank" rel="noopener noreferrer">[Vue][面试]你怎么理解vue中的diff算法？_你好，欢迎光临！-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>diff算法就是进行虚拟节点对比，并返回一个patch对象，用来存储两个节点不同的地方，最后用patch记录的消息去局部更新Dom。</p></blockquote> <p><a href="https://blog.csdn.net/u010622874/article/details/108057235" target="_blank" rel="noopener noreferrer">[Vue][面试]你了解哪些vue性能优化的方法_你好，欢迎光临！-CSDN博客_vue性能优化面试<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://blog.csdn.net/u010622874/article/details/108057074" target="_blank" rel="noopener noreferrer">[Vue][面试]你知道Vue中key的作用和工作原理吗？说说你对它的理解。_你好，欢迎光临！-CSDN博客_vue中key的作用和原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="异步更新队列"><a href="#异步更新队列" class="header-anchor">#</a> 异步更新队列</h2> <ol><li>组件级 watcher
2，存入队列，nextTick 时执行</li> <li>用户定义的 nextTick cb 放在最后</li></ol> <h2 id="vue-3-迁移指南"><a href="#vue-3-迁移指南" class="header-anchor">#</a> Vue 3 迁移指南</h2> <p><a href="https://v3.cn.vuejs.org/guide/migration/introduction.html#%25E6%25A6%2582%25E8%25A7%2588" target="_blank" rel="noopener noreferrer">介绍 | Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="v-model-支持多个"><a href="#v-model-支持多个" class="header-anchor">#</a> v-model 支持多个</h3> <p>https://v3.cn.vuejs.org/guide/migration/v-model.html#_3-x-%E8%AF%AD%E6%B3%95</p> <h3 id="v-if-v-for-同时应用"><a href="#v-if-v-for-同时应用" class="header-anchor">#</a> v-if v-for 同时应用</h3> <p>2.x for 优先
3.x if 优先</p> <p>官方建议 1. 避免同层使用，易混淆 template ? 2. 过滤，用计算属性
https://v3.cn.vuejs.org/guide/migration/v-if-v-for.html#%E4%BB%8B%E7%BB%8D</p> <p><a href="https://blog.csdn.net/u010622874/article/details/108056895" target="_blank" rel="noopener noreferrer">[Vue][面试]v-if和v-for哪个优先级更高？如果两个同时出现，应该怎么优化得到更好的性能？_你好，欢迎光临！-CSDN博客<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://antfu.me/posts/rewrite-in-vite" target="_blank" rel="noopener noreferrer">Rewrite in Vite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>双向绑定是对表单来说的，表单的双向绑定，说到底不过是 value 的单向绑定 + onChange 事件侦听的一个语法糖
单向数据流核心是在于避免组件的自身(未来可复用)状态设计，它强调把 state hoist 出来进行集中管理。</p></blockquote> <blockquote><p>React setState 引起局部重新刷新。为了达到更好的性能，React 暴漏给开发者 shouldComponentUpdate 这个生命周期 hook，来避免不需要的重新渲染(相比之下，Vue 由于采用依赖追踪，默认就是优化状态：你动了多少数据，就触发多少更新，不多也不少，而 React 对数据变化毫无感知，它就提供 React.createElement 调用已生成 virtual dom)。</p></blockquote> <p>setState 修改了数据，但这个数据被哪些地方依赖，React 并不知道</p> <p>react 递归更新，还有 diff 把关，并不一定重渲染 ODM</p> <blockquote><p>React JSX 过度的灵活性导致运行时可以用于优化的信息不足</p></blockquote> <h2 id="简单状态管理"><a href="#简单状态管理" class="header-anchor">#</a> 简单状态管理</h2> <ul><li>状态提升</li> <li>易于跟踪变化 debug
<a href="https://cn.vuejs.org/v2/guide/state-management.html#%25E7%25AE%2580%25E5%258D%2595%25E7%258A%25B6%25E6%2580%2581%25E7%25AE%25A1%25E7%2590%2586%25E8%25B5%25B7%25E6%25AD%25A5%25E4%25BD%25BF%25E7%2594%25A8" target="_blank" rel="noopener noreferrer">状态管理 — Vue.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="源码"><a href="#源码" class="header-anchor">#</a> 源码</h2> <p>从正式发布的第一个版本读 0.01-0.03</p> <h3 id="v0-7-0-最低版本"><a href="#v0-7-0-最低版本" class="header-anchor">#</a> v0.7.0 最低版本？</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">ViewModel</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Compiler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
</code></pre></div><p>this 表示 vm instance,</p> <p>核心流程在 compiler.js</p> <p>Compiler 构造函数，原型扩展方法</p> <p>有很多连续赋值</p> <p>初始化元素：setupElement 确定 el，深拷贝 template 并返回 el</p> <p>partial 类似 slot？</p> <h2 id="全局组件、插件"><a href="#全局组件、插件" class="header-anchor">#</a> 全局组件、插件</h2> <p>全局注册组件 <code>Vue.component('组件名1',xxx)</code></p> <p>plugin 需要写个 install 方法，内部还是用 组件注册，好处是可以支持更多处理</p> <h2 id="无渲染组件"><a href="#无渲染组件" class="header-anchor">#</a> 无渲染组件</h2> <ul><li>模板灵活性、逻辑共享</li> <li>优于 mixin</li></ul> <p>如果您发现自己正在编写一个内部包含特定逻辑的组件，但希望该组件的用户可以为其编写任何自定义 HTML 并使用此逻辑，那么无渲染组件可能是您的解决方案之一。</p> <p><a href="https://www.telerik.com/blogs/understanding-renderless-components-vue" target="_blank" rel="noopener noreferrer">理解 Vue 中的无渲染组件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://codesandbox.io/s/81j57m2lk9?file=/src/App.vue" target="_blank" rel="noopener noreferrer">Reactive Slot Scope - CodeSandbox<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.cn/post/6844904136065056781" target="_blank" rel="noopener noreferrer">Vue3 Composition API如何替换Vue Mixins - 掘金<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frameworks/vue-router.html" class="prev">
        vue-router
      </a></span> <span class="next"><a href="/frameworks/vue2-source-code.html">
        Vue 源码学习
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d6416fb4.js" defer></script><script src="/assets/js/2.06ded020.js" defer></script><script src="/assets/js/44.cae04c6c.js" defer></script><script src="/assets/js/4.8f3f44ca.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.37">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#0089a7"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><title>设计模式 | Oaker小站</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.30602449.js"><link rel="modulepreload" href="/assets/design-patterns.html.700c66ec.js"><link rel="modulepreload" href="/assets/design-patterns.html.767647e6.js">
    <link rel="stylesheet" href="/assets/style.1f6754f1.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Oaker小站</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/index.html" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/index.html" class="" aria-label="Blog"><!--[--><!--]--> Blog <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">JavaScript <span class="down arrow"></span></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/javascript/animations.html" class="sidebar-item" aria-label="动画"><!--[--><!--]--> 动画 <!--[--><!--]--></a><!----></li><li><a href="/javascript/array.html" class="sidebar-item" aria-label="数组"><!--[--><!--]--> 数组 <!--[--><!--]--></a><!----></li><li><a href="/javascript/async.html" class="sidebar-item" aria-label="异步"><!--[--><!--]--> 异步 <!--[--><!--]--></a><!----></li><li><a href="/javascript/bit-operation.html" class="sidebar-item" aria-label="位运算"><!--[--><!--]--> 位运算 <!--[--><!--]--></a><!----></li><li><a href="/javascript/block-level-scope.html" class="sidebar-item" aria-label="块级作用域"><!--[--><!--]--> 块级作用域 <!--[--><!--]--></a><!----></li><li><a href="/javascript/class.html" class="sidebar-item" aria-label="class"><!--[--><!--]--> class <!--[--><!--]--></a><!----></li><li><a href="/javascript/closure.html" class="sidebar-item" aria-label="闭包"><!--[--><!--]--> 闭包 <!--[--><!--]--></a><!----></li><li><a href="/javascript/compose.html" class="sidebar-item" aria-label="函数合成"><!--[--><!--]--> 函数合成 <!--[--><!--]--></a><!----></li><li><a href="/javascript/concept.html" class="sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----></li><li><a href="/javascript/cross-origin.html" class="sidebar-item" aria-label="跨源（跨域）"><!--[--><!--]--> 跨源（跨域） <!--[--><!--]--></a><!----></li><li><a href="/javascript/date.html" class="sidebar-item" aria-label="Date"><!--[--><!--]--> Date <!--[--><!--]--></a><!----></li><li><a href="/javascript/debug.html" class="sidebar-item" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/design-patterns.html#设计原则" class="router-link-active router-link-exact-active sidebar-item" aria-label="设计原则"><!--[--><!--]--> 设计原则 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/design-patterns.html#里氏替换" class="router-link-active router-link-exact-active sidebar-item" aria-label="里氏替换"><!--[--><!--]--> 里氏替换 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/design-patterns.html#发布订阅" class="router-link-active router-link-exact-active sidebar-item" aria-label="发布订阅"><!--[--><!--]--> 发布订阅 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/javascript/design-patterns.html#与观察者区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="与观察者区别"><!--[--><!--]--> 与观察者区别 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/javascript/design-patterns.html#迭代器模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="迭代器模式"><!--[--><!--]--> 迭代器模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#策略模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="策略模式"><!--[--><!--]--> 策略模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#工厂方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="工厂方法"><!--[--><!--]--> 工厂方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#单例" class="router-link-active router-link-exact-active sidebar-item" aria-label="单例"><!--[--><!--]--> 单例 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#建造器" class="router-link-active router-link-exact-active sidebar-item" aria-label="建造器"><!--[--><!--]--> 建造器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#适配器" class="router-link-active router-link-exact-active sidebar-item" aria-label="适配器"><!--[--><!--]--> 适配器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#代理" class="router-link-active router-link-exact-active sidebar-item" aria-label="代理"><!--[--><!--]--> 代理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#合成复用原则" class="router-link-active router-link-exact-active sidebar-item" aria-label="合成复用原则"><!--[--><!--]--> 合成复用原则 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#装饰器、包装" class="router-link-active router-link-exact-active sidebar-item" aria-label="装饰器、包装"><!--[--><!--]--> 装饰器、包装 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#享元" class="router-link-active router-link-exact-active sidebar-item" aria-label="享元"><!--[--><!--]--> 享元 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#模板方法" class="router-link-active router-link-exact-active sidebar-item" aria-label="模板方法"><!--[--><!--]--> 模板方法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#命令模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="命令模式"><!--[--><!--]--> 命令模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#职责链" class="router-link-active router-link-exact-active sidebar-item" aria-label="职责链"><!--[--><!--]--> 职责链 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#notes-copy" class="router-link-active router-link-exact-active sidebar-item" aria-label="notes copy"><!--[--><!--]--> notes copy <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/javascript/design-patterns.html#代码局部性-code-locality" class="router-link-active router-link-exact-active sidebar-item" aria-label="代码局部性（code locality）"><!--[--><!--]--> 代码局部性（code locality） <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/javascript/encodings.html" class="sidebar-item" aria-label="字符编码"><!--[--><!--]--> 字符编码 <!--[--><!--]--></a><!----></li><li><a href="/javascript/errors-handle.html" class="sidebar-item" aria-label="错误处理"><!--[--><!--]--> 错误处理 <!--[--><!--]--></a><!----></li><li><a href="/javascript/ES6-proxy.html" class="sidebar-item" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----></li><li><a href="/javascript/ES6.html" class="sidebar-item" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a><!----></li><li><a href="/javascript/eslint.html" class="sidebar-item" aria-label="ESLint"><!--[--><!--]--> ESLint <!--[--><!--]--></a><!----></li><li><a href="/javascript/event-loop.html" class="sidebar-item" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a><!----></li><li><a href="/javascript/fetch.html" class="sidebar-item" aria-label="fetch"><!--[--><!--]--> fetch <!--[--><!--]--></a><!----></li><li><a href="/javascript/for-while.html" class="sidebar-item" aria-label="循环"><!--[--><!--]--> 循环 <!--[--><!--]--></a><!----></li><li><a href="/javascript/form.html" class="sidebar-item" aria-label="表单"><!--[--><!--]--> 表单 <!--[--><!--]--></a><!----></li><li><a href="/javascript/function.html" class="sidebar-item" aria-label="函数"><!--[--><!--]--> 函数 <!--[--><!--]--></a><!----></li><li><a href="/javascript/iterator-pattern.html" class="sidebar-item" aria-label="iterator-pattern.md"><!--[--><!--]--> iterator-pattern.md <!--[--><!--]--></a><!----></li><li><a href="/javascript/math.html" class="sidebar-item" aria-label="math"><!--[--><!--]--> math <!--[--><!--]--></a><!----></li><li><a href="/javascript/memory.html" class="sidebar-item" aria-label="内存管理"><!--[--><!--]--> 内存管理 <!--[--><!--]--></a><!----></li><li><a href="/javascript/methods.html" class="sidebar-item" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a><!----></li><li><a href="/javascript/middleware-pattern.html" class="sidebar-item" aria-label="中间件设计"><!--[--><!--]--> 中间件设计 <!--[--><!--]--></a><!----></li><li><a href="/javascript/module.html" class="sidebar-item" aria-label="模块"><!--[--><!--]--> 模块 <!--[--><!--]--></a><!----></li><li><a href="/javascript/number.html" class="sidebar-item" aria-label="Number"><!--[--><!--]--> Number <!--[--><!--]--></a><!----></li><li><a href="/javascript/object.html" class="sidebar-item" aria-label="对象"><!--[--><!--]--> 对象 <!--[--><!--]--></a><!----></li><li><a href="/javascript/promise.html" class="sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a href="/javascript/pseudo-code.html" class="sidebar-item" aria-label="伪代码"><!--[--><!--]--> 伪代码 <!--[--><!--]--></a><!----></li><li><a href="/javascript/regexp.html" class="sidebar-item" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a><!----></li><li><a href="/javascript/scope.html" class="sidebar-item" aria-label="作用域"><!--[--><!--]--> 作用域 <!--[--><!--]--></a><!----></li><li><a href="/javascript/service-worker.html" class="sidebar-item" aria-label="Service Worker"><!--[--><!--]--> Service Worker <!--[--><!--]--></a><!----></li><li><a href="/javascript/string.html" class="sidebar-item" aria-label="字符串"><!--[--><!--]--> 字符串 <!--[--><!--]--></a><!----></li><li><a href="/javascript/this.html" class="sidebar-item" aria-label="this"><!--[--><!--]--> this <!--[--><!--]--></a><!----></li><li><a href="/javascript/tricks.html" class="sidebar-item" aria-label="技巧"><!--[--><!--]--> 技巧 <!--[--><!--]--></a><!----></li><li><a href="/javascript/type.html" class="sidebar-item" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----></li><li><a href="/javascript/web-worker.html" class="sidebar-item" aria-label="WebWorkers"><!--[--><!--]--> WebWorkers <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="设计模式" tabindex="-1"><a class="header-anchor" href="#设计模式" aria-hidden="true">#</a> 设计模式</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/javascript/design-patterns.html#设计原则" class="router-link-active router-link-exact-active">设计原则</a><ul><li><a aria-current="page" href="/javascript/design-patterns.html#里氏替换" class="router-link-active router-link-exact-active">里氏替换</a></li></ul></li><li><a aria-current="page" href="/javascript/design-patterns.html#发布订阅" class="router-link-active router-link-exact-active">发布订阅</a><ul><li><a aria-current="page" href="/javascript/design-patterns.html#与观察者区别" class="router-link-active router-link-exact-active">与观察者区别</a></li></ul></li><li><a aria-current="page" href="/javascript/design-patterns.html#迭代器模式" class="router-link-active router-link-exact-active">迭代器模式</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#策略模式" class="router-link-active router-link-exact-active">策略模式</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#工厂方法" class="router-link-active router-link-exact-active">工厂方法</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#单例" class="router-link-active router-link-exact-active">单例</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#建造器" class="router-link-active router-link-exact-active">建造器</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#适配器" class="router-link-active router-link-exact-active">适配器</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#代理" class="router-link-active router-link-exact-active">代理</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#合成复用原则" class="router-link-active router-link-exact-active">合成复用原则</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#装饰器、包装" class="router-link-active router-link-exact-active">装饰器、包装</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#享元" class="router-link-active router-link-exact-active">享元</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#模板方法" class="router-link-active router-link-exact-active">模板方法</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#命令模式" class="router-link-active router-link-exact-active">命令模式</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#职责链" class="router-link-active router-link-exact-active">职责链</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#notes-copy" class="router-link-active router-link-exact-active">notes copy</a></li><li><a aria-current="page" href="/javascript/design-patterns.html#代码局部性-code-locality" class="router-link-active router-link-exact-active">代码局部性（code locality）</a></li></ul></nav><p><a href="https://refactoringguru.cn/design-patterns/catalog" target="_blank" rel="noopener noreferrer">设计模式目录：22种设计模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="设计原则" tabindex="-1"><a class="header-anchor" href="#设计原则" aria-hidden="true">#</a> 设计原则</h2><blockquote><p>软件模式的产生是因为变化的东西太多，为减轻人类的负担， 将一些不变的东西先用模式固化，这样让人类可以更加集中精力对付变化的东西，所以 在软 件中大量反复使用模式（我个人认为这样的软件就叫框架软件了，比如 Ｊ２ＥＥ），不但没阻碍软 件的发展，反而是推动了软件的发展．因为其 他使用这套软件的人就可以将更多精力集中在 对付那些无法用模式的应用上来．</p></blockquote><p><img src="https://img.oaker.bid/?url=http://ww2.sinaimg.cn/large/4e5d3ea7ly1h0fkali93yj20f80jmn2b.jpg" alt="image.png"></p><p>基于六大设计原则:</p><ul><li>Single 单一职责 如写函数、职责过多</li><li>Open 开放封闭 对扩展开放，对修改封闭</li><li>Liskov 里氏替换 程序里的对象都应该可以被它的子类实例替换而不用更改程序.</li><li>Law of Demeter 迪米特法则 最少知识 直接交流、减少耦合</li><li>Interface 接口隔离 尽可能小的接口， 多个专用的接口比一个通用接口好。</li><li>Dependency 依赖倒置 面向接口而非面向实现类，高层模块依赖于抽象而非细节 反向依赖</li></ul><h3 id="里氏替换" tabindex="-1"><a class="header-anchor" href="#里氏替换" aria-hidden="true">#</a> 里氏替换</h3><p>可替代性（指父类？）</p><p>讲继承复用，对开闭原则的补充</p><p>子类可以扩展父类的功能，但不能改变父类原有的功能</p><h2 id="发布订阅" tabindex="-1"><a class="header-anchor" href="#发布订阅" aria-hidden="true">#</a> 发布订阅</h2><ul><li>订阅者，数据结构是事件名到事件回调列表的映射，有一个默认事件<code>any</code></li><li>两个方法，一个是接收，参数是回调和事件名，一个是发出，参数是消息和事件名 <ul><li>接收， 就是写入订阅表，注意事件名存在时，回调列表要 push</li><li>发出，遍历调用事件名下的回调</li></ul></li><li>数据驱动，数据与逻辑分离，前因后果</li><li>扩展：MVC，MVVM</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Event</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cacheList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>cacheList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cacheList<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token punctuation">[</span>fn<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 注意这里设置的值是数组</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>cacheList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>cacheList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token string">&#39;event not found&#39;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> fn <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>cacheList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">event data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token comment">// event data: hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><a href="https://cnodejs.org/topic/5565b4a77d4c64752effb5dd" target="_blank" rel="noopener noreferrer">ES6 语法实践，用 ES6 重写《JavaScript Patterns》中的设计模式 - CNode 技术社区<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="与观察者区别" tabindex="-1"><a class="header-anchor" href="#与观察者区别" aria-hidden="true">#</a> 与观察者区别</h3><ul><li>是否耦合</li></ul><p>观察者模式：</p><p>观察者模式是一种对象间的一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都会得到通知并自动更新。观察者模式中，被观察者对象（也称为主题）维护一个观察者列表，并在状态发生变化时通知所有的观察者对象。</p><p>观察者模式的应用场景包括：用户界面组件、事件处理、模型-视图-控制器（MVC）模式等。</p><p>发布-订阅模式：</p><p>发布-订阅模式是一种消息传递机制，它定义了一种<strong>松耦合</strong>的方式来处理对象之间的通信。在发布-订阅模式中，发布者（也称为生产者）不会直接将消息发送给订阅者（也称为消费者），而是将消息发送给消息中心（也称为主题），由消息中心将消息广播给所有订阅该消息的订阅者。</p><p>发布-订阅模式的应用场景包括：事件驱动编程、异步编程、消息队列等。</p><h2 id="迭代器模式" tabindex="-1"><a class="header-anchor" href="#迭代器模式" aria-hidden="true">#</a> 迭代器模式</h2><p>[[iterator-pattern]]</p><h2 id="策略模式" tabindex="-1"><a class="header-anchor" href="#策略模式" aria-hidden="true">#</a> 策略模式</h2><p>算法实现和使用分离，策略类可互换，环境类接受用户请求，将请求委托给策略类</p><p>将不变的部分和变化的部分分隔开来是每个设计模式的主题。</p><p>至少两部分组成： 一是策略类，策略类封装了具体的算法，并负责具体的算法。 二是环境，类 Context 接受客户的请求，随后把请求委托给某一个策略类。</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// 计算工资</span>
<span class="token keyword">var</span> strategies <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">S</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">4</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">A</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">B</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> salary <span class="token operator">*</span> <span class="token number">6</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> <span class="token function-variable function">calculateBonus</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">level<span class="token punctuation">,</span> salary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> strategies<span class="token punctuation">[</span>level<span class="token punctuation">]</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token comment">// Context</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculateBonus</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">calculateBonus</span><span class="token punctuation">(</span><span class="token string">&#39;S&#39;</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="工厂方法" tabindex="-1"><a class="header-anchor" href="#工厂方法" aria-hidden="true">#</a> 工厂方法</h2><p>将创建实例的责任与使用实例的责任分开</p><p>拿到商品，不需要关心怎么生产</p><h2 id="单例" tabindex="-1"><a class="header-anchor" href="#单例" aria-hidden="true">#</a> 单例</h2><p>单一实例对象 对外提供全局访问</p><p>保证一个类只有一个实例，唯一性、一致性、性能</p><p>创建对象，管理单例两个职责分离</p><h2 id="建造器" tabindex="-1"><a class="header-anchor" href="#建造器" aria-hidden="true">#</a> 建造器</h2><p>将复杂对象的<strong>创建</strong>逻辑与最终<strong>表现</strong>分离 JS 中很少用</p><h2 id="适配器" tabindex="-1"><a class="header-anchor" href="#适配器" aria-hidden="true">#</a> 适配器</h2><p>通过对象包装，解决接口数据结构不匹配，不改变已有接口，实现协同</p><h2 id="代理" tabindex="-1"><a class="header-anchor" href="#代理" aria-hidden="true">#</a> 代理</h2><p>为对象提供一个代用品或占位符，以便控制对它的访问</p><ul><li>场景：</li><li>优点：</li><li>分类： <ol><li>虚拟代理，把开销大的对象，延迟到真正需要时创建。 比较常用，如实现图片预加载，对象 A 负责创建 img 标签、设置 src，代理对象 B 设置 loading 图，监听 onload 后调用 A</li><li>保护代理，权限控制</li></ol></li></ul><h2 id="合成复用原则" tabindex="-1"><a class="header-anchor" href="#合成复用原则" aria-hidden="true">#</a> 合成复用原则</h2><h2 id="装饰器、包装" tabindex="-1"><a class="header-anchor" href="#装饰器、包装" aria-hidden="true">#</a> 装饰器、包装</h2><p>decorator/wrapper</p><p>在不改变元对象的基础上，对对象进行包装和拓展</p><p>将不同职责的代码装饰合并 不改变原有代码，直接修改原函数违返开闭原则</p><p>跟代理像，但代理是不方便访问本体，装饰是不确定全部功能</p><p>应用：</p><ul><li>分离业务代码和数据统计代码 Function.after</li><li>分离表单校验和合并 Function.before</li></ul><h2 id="享元" tabindex="-1"><a class="header-anchor" href="#享元" aria-hidden="true">#</a> 享元</h2><p>flyweight</p><p>内部状态相同、共享 对象太多，用时间换空间的性能优化</p><h2 id="模板方法" tabindex="-1"><a class="header-anchor" href="#模板方法" aria-hidden="true">#</a> 模板方法</h2><p>两部分：抽象父类和具体实现子类，父类封装子类的算法框架，子类继承</p><p>从多个子类中，分享共同点 轮廓，骨架，通用，穷举</p><h2 id="命令模式" tabindex="-1"><a class="header-anchor" href="#命令模式" aria-hidden="true">#</a> 命令模式</h2><p>可撤销，并发，程序无状态</p><h2 id="职责链" tabindex="-1"><a class="header-anchor" href="#职责链" aria-hidden="true">#</a> 职责链</h2><p>使多个对象都有机会处理请求，发送、多个接收解耦，传给第一个接收即可</p><p>应用：</p><ul><li>多种支付场景，优惠券，库存</li></ul><h2 id="notes-copy" tabindex="-1"><a class="header-anchor" href="#notes-copy" aria-hidden="true">#</a> notes copy</h2><ol><li><p>设计模式是一门语言加速程序员之间的沟通效率</p></li><li><p>设计模式为了解决特定问题每个设计模式都有优缺点，使用就要付出缺点的代价 a. Eg 观察者模式 i. 优点</p><ol><li>解耦 ii. 缺点</li><li>观察者模式会导致代码可读性和维护性下降</li></ol></li><li><p>设计模式只做一件事 a. 控制逻辑集中化</p></li><li><p>设计模式分为三种 a. 创建 i. 目的为了创建对象 ii. 创建对象配置化，本身就是满足了设计模式的精髓，目的是灵活 b. 结构</p><ol><li>处理类或对象的组合</li><li>处理功能的组合关系 c. 行为</li><li>描述类和对象怎么交互和怎样分配职责</li><li>数据和数据处理分离</li></ol><ol><li>任何的代码都是 a) 数据结构 b) 算法逻辑</li></ol></li><li><p>重点记忆 a. 创建型</p><ol><li>工厂</li><li>建造者</li><li>单例 b. 结构型</li><li>适配器</li><li>装饰</li><li>享元</li><li>代理 c. 行为型</li><li>责任连</li><li>命令</li><li>观察者</li><li>策略</li><li>访问者</li><li>模板方法</li></ol></li><li><p>工厂方法 a. 简单工厂</p><ol><li>控制集中化，可以只维护一个地方的代码 b. 工厂方法的缺点</li><li>开闭原则 c. 解决问题的思路</li><li>工厂方法输出接口</li></ol></li><li><p>建造者模式 a. 组合的过程配置化 b. 是一步一步创建一个复杂对象 c. 将一个复杂的对象构建与他的表示分离 d. 创建逻辑集中化</p></li><li><p>单例 a. 作用 1. 定义一个全局变量可以确保对象 2. 可以随时都可以被访问 3. 但不能防止我们的实例化多个对象 b. 单例的核心是 1. 配置核心化，配置集中 2. 解决系统控制粒度的核心化</p></li><li><p>适配器 a. 一个接口转换成另一个兼容接口 b. 使用场景 1. 第三方系统对接 2. 隔离外部变化时 c. 本质 1. 控制逻辑集中化、变化逻辑集中化 2. 就是一个变化的处理函数 3. 把变化的处理成使用不可变的数据 d. 引申 1. 生态系统稳定</p></li><li><p>代理模式 查一下代理模式的常用场景，具体优点</p></li></ol><p><a href="https://pattern.windliang.wang/posts/%25E5%2589%258D%25E7%25AB%25AF%25E7%259A%2584%25E8%25AE%25BE%25E8%25AE%25A1%25E6%25A8%25A1%25E5%25BC%258F%25E7%25B3%25BB%25E5%2588%2597-%25E5%259F%25BA%25E6%259C%25AC%25E5%258E%259F%25E5%2588%2599.html" target="_blank" rel="noopener noreferrer">前端的设计模式系列-基本原则 | 前端的设计模式系列<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><a href="https://www.patterns.dev/" target="_blank" rel="noopener noreferrer">Patterns.dev - Modern Web App Design Patterns<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="代码局部性-code-locality" tabindex="-1"><a class="header-anchor" href="#代码局部性-code-locality" aria-hidden="true">#</a> 代码局部性（code locality）</h2><blockquote><p>理解为代码临近组织，相关逻辑放到一个函数，一个文件，一个包</p></blockquote><p>通常指的是在软件程序中将相关的代码组件放在一起的概念。这种做法旨在改善代码的可读性、可维护性和整体开发效率。通过将相关的代码元素放在一起，开发人员可以更容易地理解和处理逻辑，减少在代码库中导航和理解所需的认知负担。</p><p>比如前端 store 相关处理，避免父子组件同时访问和调用，尽量在容器组件处理</p><p>状态集中管理和受控组件模式（始终反映外部数据源的状态，而不是多数据源，数据源收敛）</p><p>单一职责原则，UI组件的主要责任应该是渲染界面和处理用户交互，而不应该直接管理应用的状态。通过直接访问store，UI组件可能变得过于复杂，同时承担了与状态管理相关的职责，违反了单一职责原则。</p><p>数据封装原则 (Encapsulation): 直接访问store可能导致组件对store中数据的依赖性过高，破坏了数据的封装性。组件应该尽量只关心自己的数据和逻辑，而不应该直接操作全局状态。</p><p>解耦原则 (Decoupling): 直接访问store会导致组件与特定的状态管理工具（如Vuex或Redux）紧密耦合。这使得将来更换状态管理库或者使用不同的状态管理策略变得更加困难。</p><p><a href="https://mvysny.github.io/code-locality-and-ability-to-navigate/" target="_blank" rel="noopener noreferrer">Code Locality and the Ability To Navigate – Martin Vysny – First Principles Thinking<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: gongyi01@baidu.com">gongyi01</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/javascript/debug.html" class="" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a></span><span class="next"><a href="/javascript/encodings.html" class="" aria-label="字符编码"><!--[--><!--]--> 字符编码 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.30602449.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#0089a7"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><title>ES6 | Oaker小站</title><meta name="description" content="Just playing around"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="modulepreload" href="/assets/app.09b8f80a.js"><link rel="modulepreload" href="/assets/ES6.html.7a1908f4.js"><link rel="modulepreload" href="/assets/ES6.html.8cb85452.js">
    <link rel="stylesheet" href="/assets/style.638ad1e3.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/" class=""><!----><span class="site-name">Oaker小站</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/concept.html" class="nav-link" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/web/html.html" class="nav-link" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/frameworks/vue.html" class="nav-link" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/node/concept.html" class="nav-link" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/tools/markdown.html" class="nav-link" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/solutions/fib.html" class="nav-link" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/concept.html" class="nav-link" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/web/html.html" class="nav-link" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/frameworks/vue.html" class="nav-link" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/node/concept.html" class="nav-link" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/tools/markdown.html" class="nav-link" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/javascript/solutions/fib.html" class="nav-link" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">javascript</p><ul class=""><li><!--[--><a href="/javascript/animations.html" class="nav-link sidebar-item" aria-label="动画"><!--[--><!--]--> 动画 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/array.html" class="nav-link sidebar-item" aria-label="数组 Array"><!--[--><!--]--> 数组 Array <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/async.html" class="nav-link sidebar-item" aria-label="异步"><!--[--><!--]--> 异步 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/block-level-scope.html" class="nav-link sidebar-item" aria-label="块级作用域"><!--[--><!--]--> 块级作用域 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/class.html" class="nav-link sidebar-item" aria-label="class"><!--[--><!--]--> class <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/closure.html" class="nav-link sidebar-item" aria-label="闭包"><!--[--><!--]--> 闭包 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/compose.html" class="nav-link sidebar-item" aria-label="函数合成"><!--[--><!--]--> 函数合成 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/concept.html" class="nav-link sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/cross-origin.html" class="nav-link sidebar-item" aria-label="跨源（跨域）"><!--[--><!--]--> 跨源（跨域） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/date.html" class="nav-link sidebar-item" aria-label="Date"><!--[--><!--]--> Date <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/debug.html" class="nav-link sidebar-item" aria-label="调试"><!--[--><!--]--> 调试 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/design-patterns.html" class="nav-link sidebar-item" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/encodings.html" class="nav-link sidebar-item" aria-label="字符编码"><!--[--><!--]--> 字符编码 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/errors-handle.html" class="nav-link sidebar-item" aria-label="错误处理"><!--[--><!--]--> 错误处理 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/ES6-proxy.html" class="nav-link sidebar-item" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/javascript/ES6.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/eslint.html" class="nav-link sidebar-item" aria-label="ESLint"><!--[--><!--]--> ESLint <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/event-loop.html" class="nav-link sidebar-item" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/fetch.html" class="nav-link sidebar-item" aria-label="fetch"><!--[--><!--]--> fetch <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/for-while.html" class="nav-link sidebar-item" aria-label="循环"><!--[--><!--]--> 循环 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/form.html" class="nav-link sidebar-item" aria-label="表单"><!--[--><!--]--> 表单 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/function.html" class="nav-link sidebar-item" aria-label="函数"><!--[--><!--]--> 函数 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/math.html" class="nav-link sidebar-item" aria-label="math"><!--[--><!--]--> math <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/memory.html" class="nav-link sidebar-item" aria-label="内存管理"><!--[--><!--]--> 内存管理 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/methods.html" class="nav-link sidebar-item" aria-label="常用方法"><!--[--><!--]--> 常用方法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/module.html" class="nav-link sidebar-item" aria-label="模块"><!--[--><!--]--> 模块 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/number.html" class="nav-link sidebar-item" aria-label="Number"><!--[--><!--]--> Number <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/object.html" class="nav-link sidebar-item" aria-label="对象"><!--[--><!--]--> 对象 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/promise.html" class="nav-link sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/pseudo-code.html" class="nav-link sidebar-item" aria-label="伪代码"><!--[--><!--]--> 伪代码 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/regexp.html" class="nav-link sidebar-item" aria-label="正则表达式"><!--[--><!--]--> 正则表达式 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/scope.html" class="nav-link sidebar-item" aria-label="作用域"><!--[--><!--]--> 作用域 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/service-worker.html" class="nav-link sidebar-item" aria-label="Service Worker"><!--[--><!--]--> Service Worker <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/string.html" class="nav-link sidebar-item" aria-label="字符串"><!--[--><!--]--> 字符串 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/this.html" class="nav-link sidebar-item" aria-label="this"><!--[--><!--]--> this <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/tricks.html" class="nav-link sidebar-item" aria-label="技巧"><!--[--><!--]--> 技巧 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/type.html" class="nav-link sidebar-item" aria-label="数据类型"><!--[--><!--]--> 数据类型 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/javascript/web-worker.html" class="nav-link sidebar-item" aria-label="web-worker"><!--[--><!--]--> web-worker <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="es6" tabindex="-1"><a class="header-anchor" href="#es6" aria-hidden="true">#</a> ES6</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/javascript/ES6.html#var-let-const" class="router-link-active router-link-exact-active">var let const</a><ul><li><a aria-current="page" href="/javascript/ES6.html#let-var-全局声明有区别" class="router-link-active router-link-exact-active">let/var 全局声明有区别</a></li></ul></li><li><a aria-current="page" href="/javascript/ES6.html#map-映射" class="router-link-active router-link-exact-active">map 映射</a></li><li><a aria-current="page" href="/javascript/ES6.html#set" class="router-link-active router-link-exact-active">Set</a></li><li><a aria-current="page" href="/javascript/ES6.html#类-class" class="router-link-active router-link-exact-active">类 class</a></li><li><a aria-current="page" href="/javascript/ES6.html#模块" class="router-link-active router-link-exact-active">模块</a><ul><li><a aria-current="page" href="/javascript/ES6.html#兼容性" class="router-link-active router-link-exact-active">兼容性</a></li><li><a aria-current="page" href="/javascript/ES6.html#导入导出" class="router-link-active router-link-exact-active">导入导出</a></li></ul></li><li><a aria-current="page" href="/javascript/ES6.html#箭头函数" class="router-link-active router-link-exact-active">箭头函数</a><ul><li><a aria-current="page" href="/javascript/ES6.html#什么时候不使用" class="router-link-active router-link-exact-active">什么时候不使用</a></li><li><a aria-current="page" href="/javascript/ES6.html#什么时候放心用" class="router-link-active router-link-exact-active">什么时候放心用</a></li></ul></li><li><a aria-current="page" href="/javascript/ES6.html#模板字面量" class="router-link-active router-link-exact-active">模板字面量</a></li><li><a aria-current="page" href="/javascript/ES6.html#for-of-循环" class="router-link-active router-link-exact-active">for-of 循环</a></li><li><a aria-current="page" href="/javascript/ES6.html#参数类型" class="router-link-active router-link-exact-active">参数类型</a></li><li><a aria-current="page" href="/javascript/ES6.html#symbol" class="router-link-active router-link-exact-active">symbol</a></li><li><a aria-current="page" href="/javascript/ES6.html#尾调用优化" class="router-link-active router-link-exact-active">尾调用优化</a></li></ul></nav><ul><li>新特性：模块 | 类 | 解构赋值 | promise | 构造器 |Proxy | Reflect | 箭头函数 | 模板字符串</li><li>防止重复声明：ES6 不允许在同一个作用域内用 let 或 const 重复声明同名变量。这对于防止在不同的 js 库中存在重复声明的函数表达式十分有帮助。</li><li>不再需要仅为了声明变量，而使用立即执行函数以避免全局污染，用大括号配合<code>let/const</code>即可</li><li>rest 参数，更便利访问函数参数</li></ul><p><a href="https://github.com/TerryZ/js-develop-skill-summary/blob/master/javascript-es6.md" target="_blank" rel="noopener noreferrer">Javascript - ES6 实用技巧<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><a href="http://web.jobbole.com/86210/" target="_blank" rel="noopener noreferrer">在 ES6 中 改良的 5 个 JavaScript “缺陷” - WEB 前端 - 伯乐在线<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h2 id="var-let-const" tabindex="-1"><a class="header-anchor" href="#var-let-const" aria-hidden="true">#</a> var let const</h2><p>var 的问题：变量全局化，变量提升，重复声明，重复赋值</p><p>let const 支持块级作用域</p><p>const 声明时必须赋值，不可重复声明</p><h3 id="let-var-全局声明有区别" tabindex="-1"><a class="header-anchor" href="#let-var-全局声明有区别" aria-hidden="true">#</a> let/var 全局声明有区别</h3><p>var 存在 window 对象中，而 let 存在声明式环境中（看不到），不影响 window.xxx 的使用，但 var xxx 不行</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> mine <span class="token operator">=</span> <span class="token number">4</span>
<span class="token comment">// undefined</span>
window<span class="token punctuation">.</span>mine
<span class="token comment">// 4</span>
mine
<span class="token comment">// 4</span>

<span class="token keyword">let</span> my <span class="token operator">=</span> <span class="token number">3</span>
<span class="token comment">// undefined</span>
window<span class="token punctuation">.</span>my
<span class="token comment">// undefined</span>
my
<span class="token comment">// 3</span>

<span class="token comment">// var 变量提升</span>
<span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token string">&quot;极客时间&quot;</span>
<span class="token keyword">function</span> <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token string">&quot;极客邦&quot;</span> <span class="token comment">// 声明在函数内提升，但赋值未进行</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myname<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
<span class="token punctuation">}</span>
<span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><a href="https://blog.poetries.top/browser-working-principle/guide/part2/lesson09.html#_1-%25E5%258F%2598%25E9%2587%258F%25E5%25AE%25B9%25E6%2598%2593%25E5%259C%25A8%25E4%25B8%258D%25E8%25A2%25AB%25E5%25AF%259F%25E8%25A7%2589%25E7%259A%2584%25E6%2583%2585%25E5%2586%25B5%25E4%25B8%258B%25E8%25A2%25AB%25E8%25A6%2586%25E7%259B%2596%25E6%258E%2589" target="_blank" rel="noopener noreferrer">块级作用域：var缺陷以及为什么要引入let和const | 浏览器工作原理与实践<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><p>tips:</p><ul><li><p>let 最好放在 block 最上面，防止过早访问引起抛错</p></li><li><p>显式地声明块级变量，建议把 let 与大括号放在一行</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>
    b<span class="token punctuation">,</span>
    c
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul><h2 id="map-映射" tabindex="-1"><a class="header-anchor" href="#map-映射" aria-hidden="true">#</a> map 映射</h2><ul><li>如果 key 是复杂数据类型，需要保存起来，以便 map 操作<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>

map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
map<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul><h2 id="set" tabindex="-1"><a class="header-anchor" href="#set" aria-hidden="true">#</a> Set</h2><ul><li>Set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。</li><li>包括 null 等，用来做去重时，添加的值可能需要做类型判断</li><li>特殊的对象，继承了对象的方法</li></ul><h2 id="类-class" tabindex="-1"><a class="header-anchor" href="#类-class" aria-hidden="true">#</a> 类 class</h2><ul><li><p>简化构造函数创建</p></li><li><p><code>super</code>(调用父类构造函数)不是必要的，什么情况下写呢？</p><p>如果在<code>contrustor</code>中要用<code>this[props]</code></p><p>表示继承的父类、可以传参、可以访问方法</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;animal&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token function">says</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> msg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
animal<span class="token punctuation">.</span><span class="token function">says</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span> <span class="token comment">// animal says hello</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 下面使用了 this，如果不写 super 的话会，ReferenceError: Must call super constructor in derived class before accessing &#39;this&#39; or returning from derived constructor</span>
    <span class="token comment">// super 不是必要的，什么情况下写呢？ 如果在 contrustor 中要用 this.props</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;cat&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> cat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cat<span class="token punctuation">.</span><span class="token function">says</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="模块" tabindex="-1"><a class="header-anchor" href="#模块" aria-hidden="true">#</a> 模块</h2><ul><li>特征： <ol><li>总是在严格模式下</li><li>有一个顶级域而不是全局域</li><li>能从其他模块导入绑定</li><li>能将绑定导出</li></ol></li><li>为什么 JS 就是把值指给变量，那么如何管理变量呢，函数有作用域，互相不能访问，要共享的话，只能上层（全局）定义变量 模块能清晰定义如何共享，哪些可访问（模块所用域）</li></ul><p>命名冲突时，用<code>as</code>关键字重命名模块 随时可以导入导出模块</p><ul><li>引用时使用完整资源路径</li><li>默认 defer，可设置 async，inline scrpit 也可以</li></ul><h3 id="兼容性" tabindex="-1"><a class="header-anchor" href="#兼容性" aria-hidden="true">#</a> 兼容性</h3><ul><li>微信 android 不支持，iOS 因为跟 safari 一样，所以支持</li><li>IE 被放弃了，不支持</li><li>UC android 不支持</li></ul><p><a href="https://codepen.io/cyio/pen/mjPzqJ" target="_blank" rel="noopener noreferrer">es module vue<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a><a href="https://jspm.io/" target="_blank" rel="noopener noreferrer">jspm.io - Native ES Modules CDN<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h3 id="导入导出" tabindex="-1"><a class="header-anchor" href="#导入导出" aria-hidden="true">#</a> 导入导出</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> First <span class="token keyword">from</span> <span class="token string">&#39;./First&#39;</span>
<span class="token keyword">import</span> Second <span class="token keyword">from</span> <span class="token string">&#39;./Second&#39;</span>
<span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">....</span><span class="token regex-delimiter">/</span></span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> First<span class="token punctuation">,</span> Second <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> SomeClass <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./SomeClass&#39;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> someFunction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils&#39;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> React <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="箭头函数" tabindex="-1"><a class="header-anchor" href="#箭头函数" aria-hidden="true">#</a> 箭头函数</h2><ul><li>当使用箭头函数创建普通对象时，你总是需要将对象包裹在小括号里</li><li>没有<code>arguments</code>，可以使用<code>...args</code></li><li>自身没有 this</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 为与你玩耍的每一个小狗创建一个新的空对象</span>
<span class="token keyword">var</span> chewToys <span class="token operator">=</span> puppies<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">puppy</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 这样写会报Bug！</span>
<span class="token keyword">var</span> chewToys <span class="token operator">=</span> puppies<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">puppy</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>箭头函数和普通函数的区别</p><ol><li><p>箭头函数的 this 就是定义时所在的对象，而不是使用时所在的对象</p></li><li><p>箭头函数不能用作构造函数</p></li><li><p>箭头函数不能使用 arguments 对象，该对象不存在，但可以使用 rest 对象</p></li></ol></li><li><p>函数表达式称为 lambda 函数，λ-calculus，演算的意思</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token comment">// 打印i=几，每隔500毫秒迭代，第一次打印需立刻执行</span>
<span class="token keyword">function</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token parameter">ms <span class="token operator">=</span> <span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">i=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 类版本，props 就是函数参数</span>
<span class="token keyword">class</span> <span class="token class-name">Sleep</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>ms <span class="token operator">=</span> props <span class="token operator">|</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>

  <span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ms<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">Sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>class 实际上是函数</p><p>不会自动提升，因此使用前需先声明</p><p>constructor 只在实例化时被调用</p><p>使用 extends 关键字创建子类</p><p>与一般函数写法的比较</p><p>静态方法只能由未实例化的类调用，常用作工具函数</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Name</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Name</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> clsName <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> clsName <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">clsName</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="什么时候不使用" tabindex="-1"><a class="header-anchor" href="#什么时候不使用" aria-hidden="true">#</a> 什么时候不使用</h3><ol><li>对象方法</li><li>有动态上下文的回调</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;press&#39;</span><span class="token punctuation">)</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// Window</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// button element</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="什么时候放心用" tabindex="-1"><a class="header-anchor" href="#什么时候放心用" aria-hidden="true">#</a> 什么时候放心用</h3><ul><li>this 继承 parent context</li><li>不关心 this</li></ul><p>tips: 始终写上 return，方便增加语句、log</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">square</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="模板字面量" tabindex="-1"><a class="header-anchor" href="#模板字面量" aria-hidden="true">#</a> 模板字面量</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> who <span class="token operator">=</span> <span class="token string">&#39;world&#39;</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>who<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="for-of-循环" tabindex="-1"><a class="header-anchor" href="#for-of-循环" aria-hidden="true">#</a> for-of 循环</h2><ul><li>最早，for</li><li>ES5，forEach</li><li>ES6，for-of <ul><li>支持类数组，字符串，Set，Map</li><li>相比于 forEach 支持搭配 break return</li><li>for-in 为普通对象设计，不适用数组</li><li>遍历对象用 for-in，或 Object.keys()</li><li>Array.from(obj.keys(), fn) 转换类数组</li></ul></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 计算一些数字的均值</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token parameter">numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> sum <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> item <span class="token keyword">of</span> numbers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    sum <span class="token operator">+=</span> item
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> sum <span class="token operator">/</span> numbers<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token comment">// 字符串拼接</span>
<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ret <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ret <span class="token operator">+=</span> value
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ret
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="参数类型" tabindex="-1"><a class="header-anchor" href="#参数类型" aria-hidden="true">#</a> 参数类型</h2><p>ES6 不支持，用 flow，然后通过 babel plugin 移除</p><p><a href="https://stackoverflow.com/questions/35916921/babel-function-parameter-types-in-es6" target="_blank" rel="noopener noreferrer">javascript - Babel: Function parameter types in ES6 - Stack Overflow<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><h2 id="symbol" tabindex="-1"><a class="header-anchor" href="#symbol" aria-hidden="true">#</a> symbol</h2><p>对象 key 允许 string or symbol 两种类型</p><p>执行<code>Symbol()</code>返回，总是 uniq 标识</p><p>使用场景：为其它来源的对象，安全的添加属性</p><p>不支持 new 调用</p><p>全局注册，用 for 查找</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Symbol(&#39;a&#39;) === Symbol(&#39;a&#39;) // false
Symbol.for(&#39;a&#39;) === Symbol.for(&#39;a&#39;) // true
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>https://javascript.info/symbol</p><h2 id="尾调用优化" tabindex="-1"><a class="header-anchor" href="#尾调用优化" aria-hidden="true">#</a> 尾调用优化</h2><p>尾调用，定义：指某个函数的最后一步是调用另一个函数，不做其他操作</p><p>优化：只保留内层函数的调用记录</p><p>ES6+ 对引擎要求，原因：实现概率 + 性能</p><p><a href="https://ifront.net/article/89421bc6cc90f43fbc27117674d9ea1e" target="_blank" rel="noopener noreferrer">JS尾调用优化<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">3/23/2022, 2:34:28 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/javascript/ES6-proxy.html" class="nav-link" aria-label="Proxy"><!--[--><!--]--> Proxy <!--[--><!--]--></a></span><span class="next"><a href="/javascript/eslint.html" class="nav-link" aria-label="ESLint"><!--[--><!--]--> ESLint <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script type="module" src="/assets/app.09b8f80a.js" defer></script>
  </body>
</html>

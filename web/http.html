<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.37">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#0089a7"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><title>HTTP | Oaker小站</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.8a416d48.js"><link rel="modulepreload" href="/assets/http.html.ca2e1f3e.js"><link rel="modulepreload" href="/assets/http.html.833daff2.js">
    <link rel="stylesheet" href="/assets/style.28f5ce32.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Oaker小站</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/web/api.html" class="sidebar-item sidebar-heading" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a><!----></li><li><a href="/web/babel.html" class="sidebar-item sidebar-heading" aria-label="babel"><!--[--><!--]--> babel <!--[--><!--]--></a><!----></li><li><a href="/web/blob.html" class="sidebar-item sidebar-heading" aria-label="blob"><!--[--><!--]--> blob <!--[--><!--]--></a><!----></li><li><a href="/web/canvas.html" class="sidebar-item sidebar-heading" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a><!----></li><li><a href="/web/cdn.html" class="sidebar-item sidebar-heading" aria-label="CDN"><!--[--><!--]--> CDN <!--[--><!--]--></a><!----></li><li><a href="/web/chrome-dev-tools.html" class="sidebar-item sidebar-heading" aria-label="Chrome-DevTools"><!--[--><!--]--> Chrome-DevTools <!--[--><!--]--></a><!----></li><li><a href="/web/chrome-extensions-develop.html" class="sidebar-item sidebar-heading" aria-label="Chrome 扩展开发"><!--[--><!--]--> Chrome 扩展开发 <!--[--><!--]--></a><!----></li><li><a href="/web/code-style.html" class="sidebar-item sidebar-heading" aria-label="代码风格"><!--[--><!--]--> 代码风格 <!--[--><!--]--></a><!----></li><li><a href="/web/comment.html" class="sidebar-item sidebar-heading" aria-label="更好的注释"><!--[--><!--]--> 更好的注释 <!--[--><!--]--></a><!----></li><li><a href="/web/configurable-form.html" class="sidebar-item sidebar-heading" aria-label="使用 Vue.js 构造可配置化表单"><!--[--><!--]--> 使用 Vue.js 构造可配置化表单 <!--[--><!--]--></a><!----></li><li><a href="/web/cookie.html" class="sidebar-item sidebar-heading" aria-label="Cookie"><!--[--><!--]--> Cookie <!--[--><!--]--></a><!----></li><li><a href="/web/css-animation.html" class="sidebar-item sidebar-heading" aria-label="CSS 动画"><!--[--><!--]--> CSS 动画 <!--[--><!--]--></a><!----></li><li><a href="/web/css-concept.html" class="sidebar-item sidebar-heading" aria-label="CSS 概念"><!--[--><!--]--> CSS 概念 <!--[--><!--]--></a><!----></li><li><a href="/web/css-layout.html" class="sidebar-item sidebar-heading" aria-label="CSS 布局"><!--[--><!--]--> CSS 布局 <!--[--><!--]--></a><!----></li><li><a href="/web/css-loading.html" class="sidebar-item sidebar-heading" aria-label="CSS Loading"><!--[--><!--]--> CSS Loading <!--[--><!--]--></a><!----></li><li><a href="/web/css-practice.html" class="sidebar-item sidebar-heading" aria-label="CSS 实践"><!--[--><!--]--> CSS 实践 <!--[--><!--]--></a><!----></li><li><a href="/web/css-preprocessor.html" class="sidebar-item sidebar-heading" aria-label="CSS 预处理器"><!--[--><!--]--> CSS 预处理器 <!--[--><!--]--></a><!----></li><li><a href="/web/css-unit.html" class="sidebar-item sidebar-heading" aria-label="CSS unit"><!--[--><!--]--> CSS unit <!--[--><!--]--></a><!----></li><li><a href="/web/d3.html" class="sidebar-item sidebar-heading" aria-label="D3"><!--[--><!--]--> D3 <!--[--><!--]--></a><!----></li><li><a href="/web/data-visualization.html" class="sidebar-item sidebar-heading" aria-label="data-visualization.md"><!--[--><!--]--> data-visualization.md <!--[--><!--]--></a><!----></li><li><a href="/web/dom-calc.html" class="sidebar-item sidebar-heading" aria-label="DOM 计算"><!--[--><!--]--> DOM 计算 <!--[--><!--]--></a><!----></li><li><a href="/web/dom-event.html" class="sidebar-item sidebar-heading" aria-label="Dom 事件"><!--[--><!--]--> Dom 事件 <!--[--><!--]--></a><!----></li><li><a href="/web/dom.html" class="sidebar-item sidebar-heading" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><!----></li><li><a href="/web/download.html" class="sidebar-item sidebar-heading" aria-label="download.md"><!--[--><!--]--> download.md <!--[--><!--]--></a><!----></li><li><a href="/web/e2e-test.html" class="sidebar-item sidebar-heading" aria-label="前端测试"><!--[--><!--]--> 前端测试 <!--[--><!--]--></a><!----></li><li><a href="/web/encode.html" class="sidebar-item sidebar-heading" aria-label="页面编码"><!--[--><!--]--> 页面编码 <!--[--><!--]--></a><!----></li><li><a href="/web/ensure-run-after-dom-change.html" class="sidebar-item sidebar-heading" aria-label="如何保证 DOM 更新（绘制）后执行"><!--[--><!--]--> 如何保证 DOM 更新（绘制）后执行 <!--[--><!--]--></a><!----></li><li><a href="/web/flexbox.html" class="sidebar-item sidebar-heading" aria-label="Flexbox"><!--[--><!--]--> Flexbox <!--[--><!--]--></a><!----></li><li><a href="/web/grid.html" class="sidebar-item sidebar-heading" aria-label="Grid"><!--[--><!--]--> Grid <!--[--><!--]--></a><!----></li><li><a href="/web/href.html" class="sidebar-item sidebar-heading" aria-label="Anchor"><!--[--><!--]--> Anchor <!--[--><!--]--></a><!----></li><li><a href="/web/html-head.html" class="sidebar-item sidebar-heading" aria-label="html head"><!--[--><!--]--> html head <!--[--><!--]--></a><!----></li><li><a href="/web/html.html" class="sidebar-item sidebar-heading" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!----></li><li><a href="/web/html5-responsive.html" class="sidebar-item sidebar-heading" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/http.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/web/http2.html" class="sidebar-item sidebar-heading" aria-label="HTTP 2"><!--[--><!--]--> HTTP 2 <!--[--><!--]--></a><!----></li><li><a href="/web/http3.html" class="sidebar-item sidebar-heading" aria-label="http3"><!--[--><!--]--> http3 <!--[--><!--]--></a><!----></li><li><a href="/web/images.html" class="sidebar-item sidebar-heading" aria-label="图片"><!--[--><!--]--> 图片 <!--[--><!--]--></a><!----></li><li><a href="/web/ios.html" class="sidebar-item sidebar-heading" aria-label="iOS"><!--[--><!--]--> iOS <!--[--><!--]--></a><!----></li><li><a href="/web/jquery.html" class="sidebar-item sidebar-heading" aria-label="jquery.md"><!--[--><!--]--> jquery.md <!--[--><!--]--></a><!----></li><li><a href="/web/jsMagic-course.html" class="sidebar-item sidebar-heading" aria-label="Babel Node &amp;&amp; Npm"><!--[--><!--]--> Babel Node &amp;&amp; Npm <!--[--><!--]--></a><!----></li><li><a href="/web/knowledge-base.html" class="sidebar-item sidebar-heading" aria-label="知识体系"><!--[--><!--]--> 知识体系 <!--[--><!--]--></a><!----></li><li><a href="/web/less.html" class="sidebar-item sidebar-heading" aria-label="Less"><!--[--><!--]--> Less <!--[--><!--]--></a><!----></li><li><a href="/web/loading.html" class="sidebar-item sidebar-heading" aria-label="loading"><!--[--><!--]--> loading <!--[--><!--]--></a><!----></li><li><a href="/web/mock.html" class="sidebar-item sidebar-heading" aria-label="Mock"><!--[--><!--]--> Mock <!--[--><!--]--></a><!----></li><li><a href="/web/netinfo.html" class="sidebar-item sidebar-heading" aria-label="netinfo"><!--[--><!--]--> netinfo <!--[--><!--]--></a><!----></li><li><a href="/web/network-layer.html" class="sidebar-item sidebar-heading" aria-label="network-layer.md"><!--[--><!--]--> network-layer.md <!--[--><!--]--></a><!----></li><li><a href="/web/notification.html" class="sidebar-item sidebar-heading" aria-label="web notification"><!--[--><!--]--> web notification <!--[--><!--]--></a><!----></li><li><a href="/web/pca.html" class="sidebar-item sidebar-heading" aria-label="省市区联动"><!--[--><!--]--> 省市区联动 <!--[--><!--]--></a><!----></li><li><a href="/web/pdf.html" class="sidebar-item sidebar-heading" aria-label="PDF"><!--[--><!--]--> PDF <!--[--><!--]--></a><!----></li><li><a href="/web/perf.html" class="sidebar-item sidebar-heading" aria-label="性能"><!--[--><!--]--> 性能 <!--[--><!--]--></a><!----></li><li><a href="/web/process.html" class="sidebar-item sidebar-heading" aria-label="流程"><!--[--><!--]--> 流程 <!--[--><!--]--></a><!----></li><li><a href="/web/pseudo-class.html" class="sidebar-item sidebar-heading" aria-label="伪类"><!--[--><!--]--> 伪类 <!--[--><!--]--></a><!----></li><li><a href="/web/pseudo-elements.html" class="sidebar-item sidebar-heading" aria-label="伪元素"><!--[--><!--]--> 伪元素 <!--[--><!--]--></a><!----></li><li><a href="/web/pwa.html" class="sidebar-item sidebar-heading" aria-label="PWA"><!--[--><!--]--> PWA <!--[--><!--]--></a><!----></li><li><a href="/web/roadhog.html" class="sidebar-item sidebar-heading" aria-label="roadhog"><!--[--><!--]--> roadhog <!--[--><!--]--></a><!----></li><li><a href="/web/scroll.html" class="sidebar-item sidebar-heading" aria-label="滚动"><!--[--><!--]--> 滚动 <!--[--><!--]--></a><!----></li><li><a href="/web/scss.html" class="sidebar-item sidebar-heading" aria-label="SCSS"><!--[--><!--]--> SCSS <!--[--><!--]--></a><!----></li><li><a href="/web/security.html" class="sidebar-item sidebar-heading" aria-label="Web 前端安全"><!--[--><!--]--> Web 前端安全 <!--[--><!--]--></a><!----></li><li><a href="/web/svg.html" class="sidebar-item sidebar-heading" aria-label="SVG"><!--[--><!--]--> SVG <!--[--><!--]--></a><!----></li><li><a href="/web/table.html" class="sidebar-item sidebar-heading" aria-label="table"><!--[--><!--]--> table <!--[--><!--]--></a><!----></li><li><a href="/web/ui-ux.html" class="sidebar-item sidebar-heading" aria-label="UI/UX"><!--[--><!--]--> UI/UX <!--[--><!--]--></a><!----></li><li><a href="/web/unit-test.html" class="sidebar-item sidebar-heading" aria-label="单元测试"><!--[--><!--]--> 单元测试 <!--[--><!--]--></a><!----></li><li><a href="/web/upload.html" class="sidebar-item sidebar-heading" aria-label="上传"><!--[--><!--]--> 上传 <!--[--><!--]--></a><!----></li><li><a href="/web/web-browser-compatible.html" class="sidebar-item sidebar-heading" aria-label="桌面浏览器兼容"><!--[--><!--]--> 桌面浏览器兼容 <!--[--><!--]--></a><!----></li><li><a href="/web/web-components.html" class="sidebar-item sidebar-heading" aria-label="web components"><!--[--><!--]--> web components <!--[--><!--]--></a><!----></li><li><a href="/web/web-pay.html" class="sidebar-item sidebar-heading" aria-label="网页支付"><!--[--><!--]--> 网页支付 <!--[--><!--]--></a><!----></li><li><a href="/web/webassembly.html" class="sidebar-item sidebar-heading" aria-label="WebAssembly"><!--[--><!--]--> WebAssembly <!--[--><!--]--></a><!----></li><li><a href="/web/webrtc.html" class="sidebar-item sidebar-heading" aria-label="webrtc"><!--[--><!--]--> webrtc <!--[--><!--]--></a><!----></li><li><a href="/web/websocket.html" class="sidebar-item sidebar-heading" aria-label="websocket"><!--[--><!--]--> websocket <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/web/http.html#浏览器缓存" class="router-link-active router-link-exact-active">浏览器缓存</a><ul><li><a aria-current="page" href="/web/http.html#缓存最佳策略" class="router-link-active router-link-exact-active">缓存最佳策略</a></li><li><a aria-current="page" href="/web/http.html#缓存有效期计算" class="router-link-active router-link-exact-active">缓存有效期计算</a></li></ul></li><li><a aria-current="page" href="/web/http.html#https" class="router-link-active router-link-exact-active">HTTPS</a></li><li><a aria-current="page" href="/web/http.html#cors" class="router-link-active router-link-exact-active">CORS</a></li><li><a aria-current="page" href="/web/http.html#返回状态码" class="router-link-active router-link-exact-active">返回状态码</a></li><li><a aria-current="page" href="/web/http.html#get-与-post-区别" class="router-link-active router-link-exact-active">GET 与 POST 区别</a><ul><li><a aria-current="page" href="/web/http.html#get-url-长度限制" class="router-link-active router-link-exact-active">get url 长度限制</a></li></ul></li><li><a aria-current="page" href="/web/http.html#请描述-cookies、sessionstorage-和-localstorage-的区别" class="router-link-active router-link-exact-active">请描述 cookies、sessionStorage 和 localStorage 的区别?</a></li><li><a aria-current="page" href="/web/http.html#http-与-tcp-区别" class="router-link-active router-link-exact-active">http 与 tcp 区别</a></li><li><a aria-current="page" href="/web/http.html#dns" class="router-link-active router-link-exact-active">DNS</a></li><li><a aria-current="page" href="/web/http.html#tcp" class="router-link-active router-link-exact-active">TCP</a></li><li><a aria-current="page" href="/web/http.html#etag-和-last-modified-区别-使用场景" class="router-link-active router-link-exact-active">Etag 和 Last-Modified 区别，使用场景</a></li><li><a aria-current="page" href="/web/http.html#expires和cache-control" class="router-link-active router-link-exact-active">Expires和Cache-Control</a></li><li><a aria-current="page" href="/web/http.html#幂等性" class="router-link-active router-link-exact-active">幂等性</a></li><li><a aria-current="page" href="/web/http.html#常用-code" class="router-link-active router-link-exact-active">常用 code</a></li></ul></nav><p>名词： ETag 文件指纹，如 content hash</p><h2 id="浏览器缓存" tabindex="-1"><a class="header-anchor" href="#浏览器缓存" aria-hidden="true">#</a> 浏览器缓存</h2><p>http cache 设计原则</p><p>默认隐式，显式用 cache-control</p><p>请求和响应，都能带指令，有冲突时，以更严格为准</p><p>两种模型：</p><ol><li><p>过期模型，减少频繁请求网络往返 Expires Cache-Control max-age 优先级高于上者</p></li><li><p>验证模型，减少带宽开销 条件请求 Last-Modified 默认弱验证 Etag 默认强验证</p><p>建议同时提供 Etag 和 LM 前者文件一变就变，后者在发生有意义变化时变</p></li></ol><p>启发式过期，慎用，建议明确指定</p><p>如何比对 ETag 和 LM，请求时带上之前的，即 If-xxx</p><p>流程：是否命中强缓存 -&gt; 是否命中协商缓存</p><p><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.1.5" target="_blank" rel="noopener noreferrer">HTTP/1.1: Caching in HTTP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><ul><li><p>强缓存<code>header -&gt; max, cache</code>命中时不发网络请求</p></li><li><p>协商缓存<code>header -&gt; modifier</code>先发请求，命中 返回 304</p><p><code>no-cache</code> = store + if change 如果存在合适的验证令牌(ETag)，发起请求，如果资源无变化，304，不下载</p><p><code>no-store</code> 完全不存储，如私密文件</p></li><li><p>刷新(F5)，跳过强缓存，但是会检查协商缓存（协商缓存本身已经是一种避免内容不更新的策略，没必要跳过强刷）</p></li><li><p>强制刷新(Ctrl + F5)，跳过强缓存和协商缓存</p><p><a href="https://www.cnblogs.com/lyzg/p/5125934.html" target="_blank" rel="noopener noreferrer">浏览器缓存知识小结及应用 - 流云诸葛 - 博客园<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/http-caching?hl=zh-cn" target="_blank" rel="noopener noreferrer">HTTP 缓存  |  Web  |  Google Developers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching" target="_blank" rel="noopener noreferrer">HTTP caching - HTTP | MDN<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>不设置</p><ul><li>跳转访问 size 列 显示 disk cache 或请求详情 General 显示 Status Code: 200 OK (from disk cache)</li><li>直接打开资源链接，chrome 会在请求头加上<code>max-age=0</code>，走协商缓存 显示 304，不需要再接收响应体，节省一些带宽</li><li>浏览器缓存策略有差异，所以不需要缓存时，最好显式指定</li></ul></li><li><p>共享代理缓存 VS 私人浏览器缓存</p><p>共享缓存可以存在中间服务器上（只是个概念，如 cdn）</p></li></ul><h3 id="缓存最佳策略" tabindex="-1"><a class="header-anchor" href="#缓存最佳策略" aria-hidden="true">#</a> 缓存最佳策略</h3><ul><li>For html files, use Cache-Control: no-cache, and Etag. 协商缓存</li><li>For js,css, and image files, set Cache-Control: public, max-age=31536000, no Etag, no Last-Modified settings. 强缓存，因为新资源 URL 一般有版本</li></ul><h3 id="缓存有效期计算" tabindex="-1"><a class="header-anchor" href="#缓存有效期计算" aria-hidden="true">#</a> 缓存有效期计算</h3><div class="language-text ext-text"><pre class="language-text"><code>// freshnessLifetime
if `Cache-control: max-age=N` exist
  = N
else if `Expires` exist
  = Expires - Date
else if `Last-Modified` exist
  = (Date - Last-Modified) / 10

expirationTime = responseTime + freshnessLifetime - currentAge

responseTime 浏览器接收响应时间
currentAge = currentTime - storeTime
</code></pre></div><p>meta cache-control 不建议用，html4 标准，5 没有</p><p><a href="https://stackoverflow.com/questions/49547/how-do-we-control-web-page-caching-across-all-browsers" target="_blank" rel="noopener noreferrer">http - How do we control web page caching, across all browsers? - Stack Overflow<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="https" tabindex="-1"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTPS</h2><p>建立在 SSL/TLS 协议上，采用了公钥加密法，基本过程是：</p><ol><li>客户端向服务器端索要并验证公钥。</li><li>双方协商生成”会话密钥”。</li><li>双方采用”会话密钥”进行加密通信</li></ol><p>数据通信 对称加密 签名 非对称加密</p><p>SSL 握手 s =&gt; send pubkey =&gt; c c =&gt; 生成对称加密 session key ，并用 pubkey 加密 =&gt; s 用私钥解密 之后使用对称加密 key 数据传输</p><p><a href="https://www.quora.com/Does-SSL-and-TLS-use-asymmetric-encryption" target="_blank" rel="noopener noreferrer">Does SSL and TLS use asymmetric encryption? - Quora<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="cors" tabindex="-1"><a class="header-anchor" href="#cors" aria-hidden="true">#</a> CORS</h2><p>CORS 处理非简单请求（如 POST）会触发 options</p><p>Access-Control-Max-Age 指定 prelight 请求缓存多长时间，这个时间内不再需要发 <a href="https://blog.csdn.net/wanwan5856/article/details/79592681" target="_blank" rel="noopener noreferrer">减少 options 请求次数 和 数据量大时前端渲染的处理 - wanwan5856 的博客 - CSDN 博客<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>简单请求的定义，来自 MDN，不是标准。简单请求要满足一系列条件，如仅使用 CORS 安全 请求头。而需要 prelight 的请求，意味着涉及用户数据</p><h2 id="返回状态码" tabindex="-1"><a class="header-anchor" href="#返回状态码" aria-hidden="true">#</a> 返回状态码</h2><p>助记：1-5 / I OR CS</p><div class="language-text ext-text"><pre class="language-text"><code>1xx 信息 Information(I)
2xx 成功 OK(O)
3xx 重定向 Redirect(R)
4xx 客户端错误 Client Error(C)
5xx 服务端错误 Server Error(S)
</code></pre></div><p>pragma 〔计〕杂注,编译指示</p><p>交换完连接即关闭，而长连接(HTTP1.1)只有在服务端收到<code>Connection: close</code>才会关闭</p><ul><li>206 - 大文件分块下载时使用 <code>curl --header &quot;Range: bytes=500-1000&quot; https://raw.githubusercontent.com/Germey/LaravelGeetest/master/README.md</code></li></ul><h2 id="get-与-post-区别" tabindex="-1"><a class="header-anchor" href="#get-与-post-区别" aria-hidden="true">#</a> GET 与 POST 区别</h2><ul><li>用途</li><li>参数形式</li><li>编码</li><li>安全性</li></ul><p>对于 GET 方式的请求，浏览器会把 http header 和 data 一并发送出去，服务器响应 200（返回数据）； 而对于 POST，浏览器先发送 header，服务器响应 100 continue，浏览器再发送 data，服务器响应 200 ok（返回数据）。</p><p>get 只读，cdn 缓存</p><p>post 副作用，需要 web 服务器操作</p><p>100 continue 并非 post 必然使用，使用场景是 post/put，发送大量数据场景的请求优化</p><p><a href="https://gms.tf/when-curl-sends-100-continue.html" target="_blank" rel="noopener noreferrer">When curl sends 100-continue | Georg&#39;s Log<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><a href="https://www.zhihu.com/question/31640769" target="_blank" rel="noopener noreferrer">post 相比get 有很多优点，为什么现在的HTTP通信中大多数请求还是使用get？ - 知乎<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="get-url-长度限制" tabindex="-1"><a class="header-anchor" href="#get-url-长度限制" aria-hidden="true">#</a> get url 长度限制</h3><p>服务器截断 8kb IE 2kb chrome 2MB firefox 不限制</p><p>实测，超过 10kb 可正常请求，地址栏显示省略号 超过 25kb 请求异常</p><h2 id="请描述-cookies、sessionstorage-和-localstorage-的区别" tabindex="-1"><a class="header-anchor" href="#请描述-cookies、sessionstorage-和-localstorage-的区别" aria-hidden="true">#</a> 请描述 cookies、sessionStorage 和 localStorage 的区别?</h2><ol><li>存储方式：cookies 存储在 http 信息的实体中，http 每次请求都会携带 cookie, cookie 在浏览器和服务器间来回传递， 后两者仅在本地保存</li><li>存储大小：cookie 数据不能超过 4k; 后两者要大很多，可以达到 5M</li><li>有效期：cookie 在设置的 cookie 有效期之前有效，即使浏览器或窗口关闭；sessionStorage 仅在当前浏览器窗口关闭前有效，不可持久保存；localSorage 始终有效，窗口或浏览器关闭也一直保存，可做持久数据</li><li>作用域：cookie、localStorage 在所有的同源窗口中都是共享的；sessionStorage 只能在当前页面使用</li></ol><p>sessionStorage</p><ul><li>刷新或恢复页面（重新打开关闭的标签页）时，session 存在</li><li>创建一个新的相同 URL 页面，会创建新的 session</li><li>试验 https://codesandbox.io/s/992th?file=/src/index.js</li></ul><p>sessionStorage, localStorage 存储 size 限制 5MB，各浏览器一致，同步执行，可阻塞主线程 <a href="https://web.dev/storage-for-the-web/#check" target="_blank" rel="noopener noreferrer">Storage for the web<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="http-与-tcp-区别" tabindex="-1"><a class="header-anchor" href="#http-与-tcp-区别" aria-hidden="true">#</a> http 与 tcp 区别</h2><ul><li>tcp 是传输层，http 是跑在 tcp 上的应用层协议</li></ul><p><a href="https://www.infoq.cn/article/x80uOvcRyxVYw3KVusUm" target="_blank" rel="noopener noreferrer">HTTP/3 的过去、现在和未来-InfoQ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="dns" tabindex="-1"><a class="header-anchor" href="#dns" aria-hidden="true">#</a> DNS</h2><ol><li>浏览器 cache</li><li>操作系统 cache</li><li>路由器 cache</li><li>ISP 网络运营商 cache (以上递归查询 - dns 服务器)</li><li>root (以下 迭代查询)</li><li>域</li><li>权威解析服务器 - 返回 IP</li></ol><p>流程：解析-请求-渲染</p><p>递归查询-客户端查一次，迭代查询-客户端反复查 <a href="https://www.cnblogs.com/xiangsikai/p/8438601.html" target="_blank" rel="noopener noreferrer">DNS 递归/迭代 原理 - kevin.Xiang - 博客园<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://github.com/lgwebdream/FE-Interview/issues/14#issuecomment-647606369" target="_blank" rel="noopener noreferrer">第 8 题：说一下 Http 缓存策略，有什么区别，分别解决了什么问题 · Issue #14 · lgwebdream/FE-Interview<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.jianshu.com/p/54cc04190252" target="_blank" rel="noopener noreferrer">深入理解浏览器的缓存机制 - 简书<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="tcp" tabindex="-1"><a class="header-anchor" href="#tcp" aria-hidden="true">#</a> TCP</h2><p>TCP 三次握手，建立可靠连接，双边要同步(SYN)和确认(ACK)</p><div class="language-text ext-text"><pre class="language-text"><code>C -&gt; SYN -&gt; S
C &lt;- SYN-ACK &lt;- S
C -&gt; ACK -&gt; S
</code></pre></div><p>序列号和确认号的使用允许双方检测丢失或乱序的数据片段</p><p>https://www.google.com/search?q=tcp+handshake&amp;oq=tcp+handshake&amp;aqs=chrome..69i57.6609j0j7&amp;sourceid=chrome&amp;ie=UTF-8</p><p>四次挥手 Finish</p><div class="language-text ext-text"><pre class="language-text"><code>C -&gt; FIN -&gt; S
C &lt;- ACK &lt;- S
C &lt;- keep send and FIN &lt;- S
C -&gt; ACK -&gt; S
</code></pre></div><p><a href="https://wiki.wireshark.org/TCP%25204-times%2520close" target="_blank" rel="noopener noreferrer">TCP 4-times close - The Wireshark Wiki<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="etag-和-last-modified-区别-使用场景" tabindex="-1"><a class="header-anchor" href="#etag-和-last-modified-区别-使用场景" aria-hidden="true">#</a> Etag 和 Last-Modified 区别，使用场景</h2><ul><li>优先级</li><li>准确性、及时性</li><li>场景</li></ul><blockquote><p>Etag nginx 是基于 Last-Modified 和 Content-Length 计算，更新更及时？</p></blockquote><h2 id="expires和cache-control" tabindex="-1"><a class="header-anchor" href="#expires和cache-control" aria-hidden="true">#</a> Expires和Cache-Control</h2><p>Expires 要求客户端和服务端的时钟严格同步。 HTTP1.1 引入 Cache-Control来克服Expires头的限制。如果max-age和Expires同时出现，则 max-age 有更高的优先级。</p><p>Last-Modified 与 Etag 对比，精确度、分布式部署一致性、性能消耗、优先级 <a href="https://mp.weixin.qq.com/s?__biz=MzA4ODUzNTE2Nw==&amp;mid=2451060772&amp;idx=3&amp;sn=3ee0c658dd84a6e481bb3cc14e502a04&amp;chksm=87c42134b0b3a822122a78b3bb676d122c0fbcd280dc9facd0c19e7cbe4b638ab09b283c590d#rd" target="_blank" rel="noopener noreferrer">通过 Node.js 小示例学习浏览器缓存策略<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="幂等性" tabindex="-1"><a class="header-anchor" href="#幂等性" aria-hidden="true">#</a> 幂等性</h2><p>什么是幂等？一个操作如果具有任意多次执行所产生的影响均与一次执行的影响相同，我们就称之为幂等。</p><p>POST 不满足，多次调用创建多个</p><p>GET/PUT/DELETE 满足</p><p>幂等设计的作用是，允许客户端多次重试，而不产生意外副作用</p><h2 id="常用-code" tabindex="-1"><a class="header-anchor" href="#常用-code" aria-hidden="true">#</a> 常用 code</h2><p>304 命中协商缓存，客户端取本地缓存</p><p>403 Forbidden 服务端有能力处理，客户端 IP 被封禁</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: icaner@qq.com">cyio</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/web/html5-responsive.html" class="" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a></span><span class="next"><a href="/web/http2.html" class="" aria-label="HTTP 2"><!--[--><!--]--> HTTP 2 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.8a416d48.js" defer></script>
  </body>
</html>

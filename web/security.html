<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.37">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#0089a7"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico"><title>Web 前端安全 | Oaker小站</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.dd5e604d.js"><link rel="modulepreload" href="/assets/security.html.5fa0930d.js"><link rel="modulepreload" href="/assets/security.html.9080555e.js">
    <link rel="stylesheet" href="/assets/style.28f5ce32.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Oaker小站</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="主页"><!--[--><!--]--> 主页 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/concept.html" class="" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></div><div class="navbar-item"><a href="/web/html.html" class="" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></div><div class="navbar-item"><a href="/frameworks/vue.html" class="" aria-label="框架"><!--[--><!--]--> 框架 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/node/concept.html" class="" aria-label="Node"><!--[--><!--]--> Node <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tools/markdown.html" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/algorithms/index.html" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/javascript/solutions/fib.html" class="" aria-label="题解"><!--[--><!--]--> 题解 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/cyio" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/web/api.html" class="sidebar-item sidebar-heading" aria-label="API"><!--[--><!--]--> API <!--[--><!--]--></a><!----></li><li><a href="/web/babel.html" class="sidebar-item sidebar-heading" aria-label="babel"><!--[--><!--]--> babel <!--[--><!--]--></a><!----></li><li><a href="/web/blob.html" class="sidebar-item sidebar-heading" aria-label="blob"><!--[--><!--]--> blob <!--[--><!--]--></a><!----></li><li><a href="/web/canvas.html" class="sidebar-item sidebar-heading" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a><!----></li><li><a href="/web/cdn.html" class="sidebar-item sidebar-heading" aria-label="CDN"><!--[--><!--]--> CDN <!--[--><!--]--></a><!----></li><li><a href="/web/chrome-dev-tools.html" class="sidebar-item sidebar-heading" aria-label="Chrome-DevTools"><!--[--><!--]--> Chrome-DevTools <!--[--><!--]--></a><!----></li><li><a href="/web/chrome-extensions-develop.html" class="sidebar-item sidebar-heading" aria-label="Chrome 扩展开发"><!--[--><!--]--> Chrome 扩展开发 <!--[--><!--]--></a><!----></li><li><a href="/web/code-style.html" class="sidebar-item sidebar-heading" aria-label="代码风格"><!--[--><!--]--> 代码风格 <!--[--><!--]--></a><!----></li><li><a href="/web/comment.html" class="sidebar-item sidebar-heading" aria-label="更好的注释"><!--[--><!--]--> 更好的注释 <!--[--><!--]--></a><!----></li><li><a href="/web/configurable-form.html" class="sidebar-item sidebar-heading" aria-label="使用 Vue.js 构造可配置化表单"><!--[--><!--]--> 使用 Vue.js 构造可配置化表单 <!--[--><!--]--></a><!----></li><li><a href="/web/cookie.html" class="sidebar-item sidebar-heading" aria-label="Cookie"><!--[--><!--]--> Cookie <!--[--><!--]--></a><!----></li><li><a href="/web/css-animation.html" class="sidebar-item sidebar-heading" aria-label="CSS 动画"><!--[--><!--]--> CSS 动画 <!--[--><!--]--></a><!----></li><li><a href="/web/css-concept.html" class="sidebar-item sidebar-heading" aria-label="CSS 概念"><!--[--><!--]--> CSS 概念 <!--[--><!--]--></a><!----></li><li><a href="/web/css-layout.html" class="sidebar-item sidebar-heading" aria-label="CSS 布局"><!--[--><!--]--> CSS 布局 <!--[--><!--]--></a><!----></li><li><a href="/web/css-loading.html" class="sidebar-item sidebar-heading" aria-label="CSS Loading"><!--[--><!--]--> CSS Loading <!--[--><!--]--></a><!----></li><li><a href="/web/css-practice.html" class="sidebar-item sidebar-heading" aria-label="CSS 实践"><!--[--><!--]--> CSS 实践 <!--[--><!--]--></a><!----></li><li><a href="/web/css-preprocessor.html" class="sidebar-item sidebar-heading" aria-label="CSS 预处理器"><!--[--><!--]--> CSS 预处理器 <!--[--><!--]--></a><!----></li><li><a href="/web/css-unit.html" class="sidebar-item sidebar-heading" aria-label="CSS unit"><!--[--><!--]--> CSS unit <!--[--><!--]--></a><!----></li><li><a href="/web/d3.html" class="sidebar-item sidebar-heading" aria-label="D3"><!--[--><!--]--> D3 <!--[--><!--]--></a><!----></li><li><a href="/web/data-visualization.html" class="sidebar-item sidebar-heading" aria-label="data-visualization.md"><!--[--><!--]--> data-visualization.md <!--[--><!--]--></a><!----></li><li><a href="/web/dom-calc.html" class="sidebar-item sidebar-heading" aria-label="DOM 计算"><!--[--><!--]--> DOM 计算 <!--[--><!--]--></a><!----></li><li><a href="/web/dom-event.html" class="sidebar-item sidebar-heading" aria-label="Dom 事件"><!--[--><!--]--> Dom 事件 <!--[--><!--]--></a><!----></li><li><a href="/web/dom.html" class="sidebar-item sidebar-heading" aria-label="DOM"><!--[--><!--]--> DOM <!--[--><!--]--></a><!----></li><li><a href="/web/download.html" class="sidebar-item sidebar-heading" aria-label="download.md"><!--[--><!--]--> download.md <!--[--><!--]--></a><!----></li><li><a href="/web/e2e-test.html" class="sidebar-item sidebar-heading" aria-label="前端测试"><!--[--><!--]--> 前端测试 <!--[--><!--]--></a><!----></li><li><a href="/web/encode.html" class="sidebar-item sidebar-heading" aria-label="页面编码"><!--[--><!--]--> 页面编码 <!--[--><!--]--></a><!----></li><li><a href="/web/ensure-run-after-dom-change.html" class="sidebar-item sidebar-heading" aria-label="如何保证 DOM 更新（绘制）后执行"><!--[--><!--]--> 如何保证 DOM 更新（绘制）后执行 <!--[--><!--]--></a><!----></li><li><a href="/web/flexbox.html" class="sidebar-item sidebar-heading" aria-label="Flexbox"><!--[--><!--]--> Flexbox <!--[--><!--]--></a><!----></li><li><a href="/web/grid.html" class="sidebar-item sidebar-heading" aria-label="Grid"><!--[--><!--]--> Grid <!--[--><!--]--></a><!----></li><li><a href="/web/href.html" class="sidebar-item sidebar-heading" aria-label="Anchor"><!--[--><!--]--> Anchor <!--[--><!--]--></a><!----></li><li><a href="/web/html-head.html" class="sidebar-item sidebar-heading" aria-label="html head"><!--[--><!--]--> html head <!--[--><!--]--></a><!----></li><li><a href="/web/html.html" class="sidebar-item sidebar-heading" aria-label="HTML"><!--[--><!--]--> HTML <!--[--><!--]--></a><!----></li><li><a href="/web/html5-responsive.html" class="sidebar-item sidebar-heading" aria-label="响应式设计"><!--[--><!--]--> 响应式设计 <!--[--><!--]--></a><!----></li><li><a href="/web/http.html" class="sidebar-item sidebar-heading" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/web/http2.html" class="sidebar-item sidebar-heading" aria-label="HTTP 2"><!--[--><!--]--> HTTP 2 <!--[--><!--]--></a><!----></li><li><a href="/web/http3.html" class="sidebar-item sidebar-heading" aria-label="http3"><!--[--><!--]--> http3 <!--[--><!--]--></a><!----></li><li><a href="/web/images.html" class="sidebar-item sidebar-heading" aria-label="图片"><!--[--><!--]--> 图片 <!--[--><!--]--></a><!----></li><li><a href="/web/ios.html" class="sidebar-item sidebar-heading" aria-label="iOS"><!--[--><!--]--> iOS <!--[--><!--]--></a><!----></li><li><a href="/web/jquery.html" class="sidebar-item sidebar-heading" aria-label="jquery.md"><!--[--><!--]--> jquery.md <!--[--><!--]--></a><!----></li><li><a href="/web/jsMagic-course.html" class="sidebar-item sidebar-heading" aria-label="Babel Node &amp;&amp; Npm"><!--[--><!--]--> Babel Node &amp;&amp; Npm <!--[--><!--]--></a><!----></li><li><a href="/web/knowledge-base.html" class="sidebar-item sidebar-heading" aria-label="知识体系"><!--[--><!--]--> 知识体系 <!--[--><!--]--></a><!----></li><li><a href="/web/less.html" class="sidebar-item sidebar-heading" aria-label="Less"><!--[--><!--]--> Less <!--[--><!--]--></a><!----></li><li><a href="/web/loading.html" class="sidebar-item sidebar-heading" aria-label="loading"><!--[--><!--]--> loading <!--[--><!--]--></a><!----></li><li><a href="/web/mock.html" class="sidebar-item sidebar-heading" aria-label="Mock"><!--[--><!--]--> Mock <!--[--><!--]--></a><!----></li><li><a href="/web/netinfo.html" class="sidebar-item sidebar-heading" aria-label="netinfo"><!--[--><!--]--> netinfo <!--[--><!--]--></a><!----></li><li><a href="/web/network-layer.html" class="sidebar-item sidebar-heading" aria-label="network-layer.md"><!--[--><!--]--> network-layer.md <!--[--><!--]--></a><!----></li><li><a href="/web/notification.html" class="sidebar-item sidebar-heading" aria-label="web notification"><!--[--><!--]--> web notification <!--[--><!--]--></a><!----></li><li><a href="/web/pca.html" class="sidebar-item sidebar-heading" aria-label="省市区联动"><!--[--><!--]--> 省市区联动 <!--[--><!--]--></a><!----></li><li><a href="/web/pdf.html" class="sidebar-item sidebar-heading" aria-label="PDF"><!--[--><!--]--> PDF <!--[--><!--]--></a><!----></li><li><a href="/web/perf.html" class="sidebar-item sidebar-heading" aria-label="性能"><!--[--><!--]--> 性能 <!--[--><!--]--></a><!----></li><li><a href="/web/process.html" class="sidebar-item sidebar-heading" aria-label="流程"><!--[--><!--]--> 流程 <!--[--><!--]--></a><!----></li><li><a href="/web/pseudo-class.html" class="sidebar-item sidebar-heading" aria-label="伪类"><!--[--><!--]--> 伪类 <!--[--><!--]--></a><!----></li><li><a href="/web/pseudo-elements.html" class="sidebar-item sidebar-heading" aria-label="伪元素"><!--[--><!--]--> 伪元素 <!--[--><!--]--></a><!----></li><li><a href="/web/pwa.html" class="sidebar-item sidebar-heading" aria-label="PWA"><!--[--><!--]--> PWA <!--[--><!--]--></a><!----></li><li><a href="/web/roadhog.html" class="sidebar-item sidebar-heading" aria-label="roadhog"><!--[--><!--]--> roadhog <!--[--><!--]--></a><!----></li><li><a href="/web/scroll.html" class="sidebar-item sidebar-heading" aria-label="滚动"><!--[--><!--]--> 滚动 <!--[--><!--]--></a><!----></li><li><a href="/web/scss.html" class="sidebar-item sidebar-heading" aria-label="SCSS"><!--[--><!--]--> SCSS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/security.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Web 前端安全"><!--[--><!--]--> Web 前端安全 <!--[--><!--]--></a><!----></li><li><a href="/web/svg.html" class="sidebar-item sidebar-heading" aria-label="SVG"><!--[--><!--]--> SVG <!--[--><!--]--></a><!----></li><li><a href="/web/table.html" class="sidebar-item sidebar-heading" aria-label="table"><!--[--><!--]--> table <!--[--><!--]--></a><!----></li><li><a href="/web/ui-ux.html" class="sidebar-item sidebar-heading" aria-label="UI/UX"><!--[--><!--]--> UI/UX <!--[--><!--]--></a><!----></li><li><a href="/web/unit-test.html" class="sidebar-item sidebar-heading" aria-label="单元测试"><!--[--><!--]--> 单元测试 <!--[--><!--]--></a><!----></li><li><a href="/web/upload.html" class="sidebar-item sidebar-heading" aria-label="上传"><!--[--><!--]--> 上传 <!--[--><!--]--></a><!----></li><li><a href="/web/web-browser-compatible.html" class="sidebar-item sidebar-heading" aria-label="桌面浏览器兼容"><!--[--><!--]--> 桌面浏览器兼容 <!--[--><!--]--></a><!----></li><li><a href="/web/web-components.html" class="sidebar-item sidebar-heading" aria-label="web components"><!--[--><!--]--> web components <!--[--><!--]--></a><!----></li><li><a href="/web/web-pay.html" class="sidebar-item sidebar-heading" aria-label="网页支付"><!--[--><!--]--> 网页支付 <!--[--><!--]--></a><!----></li><li><a href="/web/webassembly.html" class="sidebar-item sidebar-heading" aria-label="WebAssembly"><!--[--><!--]--> WebAssembly <!--[--><!--]--></a><!----></li><li><a href="/web/webrtc.html" class="sidebar-item sidebar-heading" aria-label="webrtc"><!--[--><!--]--> webrtc <!--[--><!--]--></a><!----></li><li><a href="/web/websocket.html" class="sidebar-item sidebar-heading" aria-label="websocket"><!--[--><!--]--> websocket <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="web-前端安全" tabindex="-1"><a class="header-anchor" href="#web-前端安全" aria-hidden="true">#</a> Web 前端安全</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/web/security.html#xss-跨站脚本攻击" class="router-link-active router-link-exact-active">XSS 跨站脚本攻击</a><ul><li><a aria-current="page" href="/web/security.html#dom-型-xss-前端关注" class="router-link-active router-link-exact-active">DOM 型 XSS（前端关注）</a></li></ul></li><li><a aria-current="page" href="/web/security.html#csrf-跨站请求伪造" class="router-link-active router-link-exact-active">CSRF 跨站请求伪造</a></li><li><a aria-current="page" href="/web/security.html#点击劫持-clickjacking" class="router-link-active router-link-exact-active">点击劫持（ClickJacking）</a></li><li><a aria-current="page" href="/web/security.html#http-劫持" class="router-link-active router-link-exact-active">HTTP 劫持</a></li><li><a aria-current="page" href="/web/security.html#混合内容-http-https" class="router-link-active router-link-exact-active">混合内容（http + https）</a></li><li><a aria-current="page" href="/web/security.html#cookie-相关" class="router-link-active router-link-exact-active">cookie 相关</a></li><li><a aria-current="page" href="/web/security.html#crypto" class="router-link-active router-link-exact-active">Crypto</a></li><li><a aria-current="page" href="/web/security.html#中间人攻击" class="router-link-active router-link-exact-active">中间人攻击</a></li></ul></nav><p>crypto, TSL/SSL HTTPS XSS</p><h2 id="xss-跨站脚本攻击" tabindex="-1"><a class="header-anchor" href="#xss-跨站脚本攻击" aria-hidden="true">#</a> XSS 跨站脚本攻击</h2><p>在网页中植入恶意脚本，输入源有脚本参数、表单提交</p><p>危害：获取用户 cookie</p><p>解决方式：</p><ul><li>HttpOnly，无法通过 JS 读、改、删 Cookie</li><li>CSP 内容安全策略</li></ul><p>设置 header，做哈希验证</p><div class="language-text ext-text"><pre class="language-text"><code>content-security-policy: script-src &#39;sha256-wxWy1+9LmiuOeDwtQyZNmWpT0jqCUikqaqVlJdtdh/0=&#39;
</code></pre></div><p>避免使用<code>eval</code></p><p>Self-XSS 欺骗用户在控制台运行恶意代码</p><p>谷歌翻译的做法，在控制台显示信息警告用户</p><p>转义为实体字符，正则替换</p><h3 id="dom-型-xss-前端关注" tabindex="-1"><a class="header-anchor" href="#dom-型-xss-前端关注" aria-hidden="true">#</a> DOM 型 XSS（前端关注）</h3><p>使用 Vue 强转成字符串，不会有问题.</p><p><a href="https://segmentfault.com/a/1190000039713551" target="_blank" rel="noopener noreferrer">Vue中是如何防御XSS（注入攻击）的 - SegmentFault 思否 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>通用的规则是只要允许执行未过滤的用户提供的内容 (不论作为 HTML、JavaScript 甚至 CSS)，你就可能令自己处于被攻击的境地。这些建议实际上不论使用 Vue 还是别的框架甚至不使用框架，都是成立的。- <a href="https://cn.vuejs.org/v2/guide/security.html" target="_blank" rel="noopener noreferrer">安全 — Vue.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://insights.thoughtworks.cn/web-frontend-security/" target="_blank" rel="noopener noreferrer">WEB前端安全自查和加固 - Thoughtworks洞见<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://codepen.io/cyio/pen/gOXbZaa" target="_blank" rel="noopener noreferrer">XSS payload DEMO<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="csrf-跨站请求伪造" tabindex="-1"><a class="header-anchor" href="#csrf-跨站请求伪造" aria-hidden="true">#</a> CSRF 跨站请求伪造</h2><p>伪造请求</p><p>第三方域名页面，发起合法请求，服务器没有做来源过滤。举例，合法调用接口设置 Gmail 转发，获取隐私邮件</p><p>解决：</p><ul><li>同源检查 origin/referer</li><li>CSRF Token，如表单提交必须带上 token。原理是攻击者只带 cookie 无法请求成功</li><li>交互验证码（短信炸弹）</li></ul><p><a href="https://tech.meituan.com/2018/10/11/fe-security-csrf.html" target="_blank" rel="noopener noreferrer">前端安全系列（二）：如何防止CSRF攻击？ - 美团技术团队<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="点击劫持-clickjacking" tabindex="-1"><a class="header-anchor" href="#点击劫持-clickjacking" aria-hidden="true">#</a> 点击劫持（ClickJacking）</h2><p>X-Frame-Options 防止页面被嵌入恶意利用</p><p><a href="https://segmentfault.com/a/1190000037657222" target="_blank" rel="noopener noreferrer">前端安全编码规范 - SegmentFault 思否<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="http-劫持" tabindex="-1"><a class="header-anchor" href="#http-劫持" aria-hidden="true">#</a> HTTP 劫持</h2><p>内容未加密，页面被插入内容，如弹窗</p><p>应对：升级 HTTPS 内容加密</p><h2 id="混合内容-http-https" tabindex="-1"><a class="header-anchor" href="#混合内容-http-https" aria-hidden="true">#</a> 混合内容（http + https）</h2><ul><li>被动 image/media 威胁性低，可访问，但锁、控制台会提示</li><li>主动 script style iframe flash 拦截</li></ul><p><a href="https://developers.google.com/web/fundamentals/security/prevent-mixed-content/what-is-mixed-content" target="_blank" rel="noopener noreferrer">什么是混合内容？  |  Web  |  Google Developers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="cookie-相关" tabindex="-1"><a class="header-anchor" href="#cookie-相关" aria-hidden="true">#</a> cookie 相关</h2><ul><li>HttpOnly 限制 cookie 只能发请求携带，禁用 JS 读取。服务端设置<code>Set-Cookie</code>，减轻 XSS 攻击</li><li>SameSite 减轻 CSRF 攻击</li><li>会话 cookie（默认），页面关闭时移除</li><li>常驻 cookie</li></ul><h2 id="crypto" tabindex="-1"><a class="header-anchor" href="#crypto" aria-hidden="true">#</a> Crypto</h2><p>敏感数据加密保存</p><h2 id="中间人攻击" tabindex="-1"><a class="header-anchor" href="#中间人攻击" aria-hidden="true">#</a> 中间人攻击</h2><p><a href="https://zh.wikipedia.org/wiki/%25E4%25B8%25AD%25E9%2597%25B4%25E4%25BA%25BA%25E6%2594%25BB%25E5%2587%25BB" target="_blank" rel="noopener noreferrer">中间人攻击 - 维基百科，自由的百科全书<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>证书校验</p><p><a href="https://github.com/SFLAQiu/web-develop/blob/master/%25E5%25A4%25A7%25E8%25AF%259DWEB%25E5%25AE%2589%25E5%2585%25A8.md" target="_blank" rel="noopener noreferrer">web-develop/大话WEB安全.md at master · SFLAQiu/web-develop<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>2022 Frontend security in 1 tweet:</p><ol><li>Use HTTPs</li><li>Server render</li><li>Store JWT/token in &#39;secure&#39;, &#39;samesite&#39;, &#39;httponly&#39; cookie (prevent XSS).</li><li>Declare content security policy (prevent XSS)</li><li>Regen cookies when user auths (prevent session fixation)</li><li>Set short cookie lifetime</li></ol><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: icaner@qq.com">cyio</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/web/scss.html" class="" aria-label="SCSS"><!--[--><!--]--> SCSS <!--[--><!--]--></a></span><span class="next"><a href="/web/svg.html" class="" aria-label="SVG"><!--[--><!--]--> SVG <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.dd5e604d.js" defer></script>
  </body>
</html>
